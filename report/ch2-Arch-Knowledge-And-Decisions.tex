\chapter{Architectural Decision Making and Architectural Knowledge}
    \section{Architectural Decision Making}
        In their pursuit to meet functional and non functional requirements, software architects implicitly or explicitly make design decisions about the software architecture of a system. While research efforts in the past focused mainly on the view of software architecture as components and their connectors \cite{software_arch_in_practice_book}, the paradigm has shifted towards recognising those design decisions as first class entities.\cite{first-class-Arch-decisions}. Design decisions address architecturally significant requirements or requirements that have measurable effect on a systems architecture and are some of the most difficult decisions to finalize and implement\cite{software_arch_in_practice_book}. This approach is considered to provide a better overview of the system's properties, as all design decisions have profound impact on the system itself and its evolution can be traced more easily by serializing them into a "decision chain". In essence this means that research no longer views solely the resulting system as end result of architecting but the main concern is how that result was reached, essentially referring to the implicit architectural knowledge management involved in the process.

        The process of making an architectural decision, typically involves solving a problem by satisfying specific requirements, in a given context, by considering various alternatives and weighing their pros and cons to navigate through the solution space and finally reach a consensus on how to proceed on the implementation. A decision rationale can also be provided to justify the end result. These decisions can be made solely by a singe architect, a group of architects or, in more social approaches, a team of engineers and developers. Related work has shown that the process that architects use to reach the end decision is more implicit and based in intuition end experience rather that on explicit, concrete data, derived from an architectural knowledge management system or from knowledge mining. \cite{Architecture-reasoning}. This also makes architectural decision making prone to bias as observed in the general field of software engineering \cite{bias_in_software_eng}. When interviewed in a medium-scale survey, architects reported an average of eight working days to make an architectural decision which shows that even with many years of experience, making design decisions and architecting systems is a time consuming process, especially when dealing with external stakeholders and company wide policies. It also highlights how resource intensive the process is, requiring both mental effort and as a consequent to all this, significant monetary cost for the company\cite{archtitect_survey} (after all, Software Architect is listed as one of the top 10 highest paying jobs in the world\footnote{http://money.cnn.com/}). To add to the significance of architectural decisions, it is well understood tht poor decisions can lead to increased complexity and maintenance challenges, making it difficult and costly to adapt or extend the system in the future. The financial cost, cost of maintenance and need to rework increases dramatically if the decision taken is not actually suited for solving the correct problem.  
        
        In terms of scope, the final decision can determine a specific technology to be used \cite{developer-study-arch-decisions}or set standards for the whole system such as architectural patterns. For example, a technology-specific architectural decision may refer to the type of relational database to be used in a software project. The alternatives may include a MySQL database and a Microsoft SQL Server database. In the end maybe the MySQL database is used due to its open-source nature and lack of licensing requirements. A pattern decision may be related to the use of the model, view, controller (MVC) pattern in a web application. This defines the core of the system architecture and all subsequent decisions will depend on that view.

        When finalizing architectural decisions, architects often omit considering certain aspects of the problem. First, rarely are architectural decisions standalone entities, and if one is solidified, it will most likely affect previous decisions and dependencies, making some of them obsolete. Furthermore, it is not uncommon that an architectural decision, although it may satisfy a particular requirement, it may also create new requirements that in turn need their own set of decisions and documentation. These have to be treated with the same importance as their predecessors. In addition, since the sum of decisions comprise the final architecture, architects often fail to consider how a decision can be reversed in the event of integration failure. Finally, the general consensus remains that the knowledge gained from considering different decisions is not a part of the system unless it has been documented. [cite here]

    \section{Architectural Knowledge}
        Architectural Knowledge (AK) is a multidisciplinary topic that is difficult to define. 
        An understanding from the reviewed literature \cite{architectural_knowledge_definitions} indicates that architectural knowledge includes not only the architectural design itself but also the design decisions, assumptions, context, and other factors that collectively explain why a particular solution is the way it is. This is in line with the decision making process discussed in the previous section. This knowledge spans the problem domain (defining what issues need to be addressed), through decision-making processes (how issues are to be addressed), to the solution domain (what has been implemented to address these issues) and is built up from many past collective decisions that are context specific (related to a specific system in question), also known as \textit{Application-specific knowledge} or domain specific (related to software architecture in the broad sense) also known as\textit{ Application-generic knowledge} \cite{Patterns+ArchDecisions}. Another distinction in AK is between implicit and explicit. Implicit knowledge is the understanding that resides solely in the minds of software architects and developers. In contrast, explicit knowledge is that which has been documented and made accessible through written records \cite{AK_And_Knowledge_Management}. Implicit knowledge can also be thought as a reason why architects, often rely on intuition to derive the solution to an architectural problem. \cite{Patterns+ArchDecisions, archtitect_survey}.

        It is therefore evident that AK plays an important role in the whole software development life-cycle. It helps in laying a framework that defines how software components interact and integrate, which is crucial for ensuring system scalability, performance, and reliability. It encompasses the system's evolution so it can later be presented to all relevant stakeholders, and accurately calculate the cost of development and maintenance. It is also clear that AK should be widely shared rather than confined to silos or the expertise of specific architects. Given that AK consists of individual design decisions, these can be reusable and adaptable to various scenarios, thus saving both cost and effort. This cross-entity sharing, along with the preservation of essential knowledge, enhancement in decision-making, and support of maintenance and evolution of software systems \cite{Architecture-reasoning} however is only possible if AK is properly documented and managed.

    % TODO: Enrich by combining multiple sources + say why architects are not writing donw decisions
    \section{Problems of software architecture and Architectural knowledge management}
        Because of the embedded nature of software architecture in systems, AK derived from design decisions is subject to vaporization which leads to problems both in the design decision process and in the management of AK. Firstly, the lack of documentation on design decisions means that they are not clearly separated into logical fields that affect separate parts of the system, leading to complex dependencies that are difficult to track and modify. This, increases the likelihood of violating design rules and constraints during system evolution. Additionally, obsolete design decisions that are not removed contribute to system degradation as they over complicate changes that are based on legacy constraints and requirements.\cite{Arch+DesignDescisions}
        
        These problems are exaggerated by inadequate AK sharing practices and knowledge management tools. For instance, even if design decisions are documented, inconsistencies between architecture and design documents can cause valuable AK to be dispersed within an organization, creating conflicts between the architects' initial intentions and the developers' implementations. This inefficient communication frequently leads to repeated discussions to clarify earlier decisions, costing time and resources and augmenting the cost of maintenance. In addition, The exclusion of maintenance teams from the architecting process and the lack of feedback loops from developers to architects mean that critical insights into ongoing technical challenges and decisions are often missed. Furthermore, architectural knowledge repositories, when they exist, frequently remain outdated, lacking current best practices, technology preferences, and customer-specific information. \cite{ARCHITECTURAL_KNOWLEDGE_SHARING_(AKS)}
        
        Architects also report problems in architectural decision-making, as they must navigate conflicting recommendations, consider the impact of numerous alternatives, manage stakeholder preferences, and align with business and architectural principles under tight deadlines and significant pressure. \cite{archtitect_survey} This environment highlights the need for robust, integrated approaches to architectural knowledge management that enhance visibility of architectural decisions, communication between relevant parties, and compliance throughout the software development life cycle.

    % These are left here just in case they are needed in the end for some reason
    % \section{Mental models and Decision making}
        
    % \section{Overview of Tools, Evolution and Capabilities}
    %     Overview of traditional and modern tools for capturing AK.
    %     Evolution, capabilities, and comparison of these tools.
