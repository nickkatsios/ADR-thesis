adr define output format data written datastore stream encoder component defined project designed subscribe mqtt broker provided smartcitizen broker support smartcitizens existing platform modified specifically decode event published via broker look like json data recordedat sensor value value value value value value receive timestamp event array reading comprising numeric relates specific sensor type described smartcitizen numeric value included received event following field location device exposure device indoor outdoor name description unit received sensor measurement sensor value described smartcitizen via api endpoint httpsapismartcitizenmevsensors return json look like json uuid acbaefcbbbabb parentid null name dht description digital temperature humidity sensor capacitive humidity sensor thermistor measure surrounding air spit digital signal data pin analog input pin needed unit null createdat updatedat measurement null uuid aeccabfdcd parentid null name mics description gas sensor unit null createdat updatedat measurement null json encodes metadata sensor including name description unit constraint identified following encoder could encrypt data exactly received encrypted datastore meaning receiving dashboard fetch decrypts data make request smartcitizen api convert numerical sensor something meaningful know represent data fetching data smartcitizen api could happen every time dashboard scrape data encrypted datastore could updated include local copy sensor mapping encoder could enrich data data written datastore location sensor metadata added directly file meaning receiver immediately understand data order render appropriately note could add enriching metadata dynamically every request fetching smartcitizen api caching local copy sensor mapping information already known encoder enrich data within encoder cached copy smartcitizens sensor json reasoning remove coupling final receipient data smartcitizen avoids consumer build knowledge smartcitizen api system would scalable data source ever added sensor type included smartcitizen change frequently last update year ago time writing low update frequency likely little issue update local cached copy frequently output json publish look like json longitude latitude exposure indoor recordedat useruid abcfbd sensor sensorid name mem mic description mem microphone envelope follower sound pressure sensor noise unit dbc type share value sensorid name bhfvc description digital ambient light sensor unit lux type bin bin value sensorid name hppe description temperature unit type movingavg interval value