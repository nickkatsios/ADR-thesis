title follow test pyramid area productoperations tag test structure performance flakiness since beginning development shopware weve tried test much possible effort went writing integration endtoend test led two main issue performance test integration test degree slow nature perform lot step assert required condition test suite grown lifetime shopware take hour realtime executed serial flakiness test involve lot moving part test deterministic behave little differently every execution lead flakiness sometimes hard reproduce depends performanceload machine executing test flakiness combination number test performance complex test matrix merge train led distrust test suite caused lot hassle especially many merge request merged frustrating pipeline fail due flakiness commit following best practice test pyramid testing structure currently reversed pyramid many unit test test code base get closer ideal well cut test covered jest test better implemented php integration testsapi test consequence coverage decrease bug might slip might caught deleted test likely test deleted test feature whole mostly admin module crud operation test pyramid write unit test well delete test cover thing tested jest php integration test well write jest test basic stuff covered deleted test mostly crud stuff well add test actually test important feature end end quality well add high quality test well test thoroughly merging least time performance well refactor test require database reset test case well also reconsider moving playwright well reduce disable test retries fight performance creep well move test quarantine fast possible