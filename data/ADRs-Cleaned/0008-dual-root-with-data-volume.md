dual root data volume extended docker state directory data volume extended preinstallable image data volume embedded system mechanism keep software want update atomary whole system opposed perpackage approach ease support want user reboot stable version system case system update unsuccessful either due client side error miscomunication malfunctioning release configuration file must persist update want root filesystem immutable checksummed cover security concern achieve either pointmounting file readwrite partition set read write overlay automatically hold modification without copying underlying readonly system set root partition system one dormant active update rewrite dormant partition flip one next reboot lock root partition read bindmount readwrite configuration file set readwrite data volumepartition expand end disk modifiable configuration data file consequence system always stable version root filesystem checksummed locked readonly system configuration separate easily backed ported instance designate configs changed dual root requires twice much space system file atomary update imply update file large compared perpackage approach modifiable config file must identified manually