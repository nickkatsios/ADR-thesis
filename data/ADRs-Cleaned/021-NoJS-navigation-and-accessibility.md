support nojs top nav maintaining accessibility top nav intended support nojs however previous implementation work team thought getting nojs would would yield major performance win reduce size windowguardianappnav data sent client data client parse remove client side hydration freeing main thread removing top nav data windowguardianappnav resulted reduction stringified nojs support achieved selector allows apply element precede checkbox checked selector chain apply style dom element preceded element allows create checkbox drop toggle without case component toggle top nav menu veggie burger show menu order element toggle checkbox html label tag apply prop htmlfor htmlfor allows click registered label apply input specified prop simple implementation logic work hello world somecheckboxchecked color red target element nested explicitly state path hello world somecheckboxchecked div color red also important note work dom element preceded input note work hello world somecheckboxchecked div color red drawback approach element depend input checkbox explicitly linked someone change structure adding div wrapper could break style mitigate added integration test test functionality element accessibility accessibility dialog hard also step semantic html end lot heavy lifting making thing accessible maintain accessibility nojs made compromise getting accessibility work case hard without therefore dangerouslysetinnerhtml script tag added vanilla help apply basic accessibility feature allowed keep ssr nav hydrate app still logic drawback inserting dangerouslysetinnerhtml script ideal solution loose capability unit testing type checking linting minifying furthermore running outside react could bundle code separately rest app allow still leverage type checking linting minifying also started implementing accessibility integration test cypress however current drawback approach loose link nav component logix file imported server side want approach sparingly still exploring improvement could made area nojs approach elsewhere remove client side hydration yes several area could trick remove thus remove client side hydration keen study impact performance see justifies implementation elsewhere approved