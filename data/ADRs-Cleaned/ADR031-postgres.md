adr providing postgres tenant supplemented adr gsp tenant want deploy postgres instance apps techops design principle cloudprovided stateful service possible rather rolling mean would like deploy postgres rds rather running within kubernetes considered number might terraform snowflaking write custom terraform get applied particular gsp cluster provision specific rds instance configuration make credential particular rds instance available application benefit expediency would quick implement mean time tenant want new database modify terraform cluster level doesnt scale well also grain kubernetes way thing aws service operator aws written awsserviceoperator kubernetes operator provides custom resource definition crds various aws type provides native type various thing like sqs already decided sqs adr however aws service operator doesnt support rds open issue rds awslabsawsserviceoperator activity slow mean find another way service operator provision rds aws service operator deploy custom cloudformation awsserviceoperator provides crd deploy custom cloudformation template however digging realised doesnt provide way instantiating template stack hard see useful feature extend aws service operator rds resource type would mean making fork adding rds crd suspect went road wouldnt able contribute back upstream effort awsserviceoperator seem focused automatically generating code resource cloudformation resource specification see awslabsawsserviceoperator custom code would fit design vision build postgres operator would create postgres crd build operator kubebuilder watch postgres resource provision rds instance based resource choose postgres crd rather rds crd closer user language want postgres want rds principle portable platform provide postgres feature rds right mysql within provision rds instance could provision terraform could provision cloudformation could provision raw aws sdk code terraform find somewhere state file live bucket raw aws sdk code implement logic resource update tenant want make database bigger cloudformation offer best logic resource update manage statefile somewhere service broker service broker available could apps built open service broker api provide interface provisioning postgres rds order service broker kubernetes bridging layer service catalog two service broker could aws service broker paasrdsbroker seems like good thing able reuse service broker already deploy run service broker part govuk paas prior art experience organisation however service catalog leaky abstraction doesnt really fit well kubernetes ecosystem far see seems geared towards environment hundred service broker provides separate cli tool finding service broker talking rather keeping everything within kubernetes api kubectl also add lot lot crds dealing service broker rather postgres crd might offer portable service definition proposal within kubernetes offer portable service definition see kubernetesenhancements would define custom type higher level different environment could implement different way provides interesting prior art might structure postgres crd would also open adopting postgresql standard resource definition srd see libreshstandardresourcedefinitions future anticipate build something focused immediate would terribly expensive adopt srd future create custom postgresoperator postgres crd look postgres resource provision rds instance based operator output credential accessing rds instance secret requesting namespace consequence user able provision instance postgres creating postgres kubeyaml object namespace particular want deploy app new namespace able without intervention access postgres controlled posession username password controlled putting username password secret given namespace tenant different namespaces therefore able access others postgres instance may take longer anticipate case fallback expediency