doctrine collection extension getting available locale active channel shop user problem statement customer access locale available channel considered doctrine collection extension good consistent actual approach modifying response content good work rest api extension like pagination bad locale dont relation channel doctrine collection extension complicated data provider good easy implement bad data provider omits extra doctrine extension like pagination outcome chosen doctrine collection extension consistent current approach omit doctrine extension like pagination reference original adr problem implementation changing approach