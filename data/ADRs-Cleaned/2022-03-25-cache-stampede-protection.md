title cache stampede protection area core tag core cache performance cache stampede protection mechanism prevent several user try update cache entry time cache entry longer hot mechanism useful lot load store cache entry expired invalidated cache stampede protection system several user call category listing time longer cache user would let database server could collapse load integrated protection service symfonycontractscachecacheinterface symfony mechanic mainly cached store api route another positive side effect code become much concise since much done within symfony cachedruleloader php namespace shopwarecorecheckoutcart psrlogloggerinterface shopwarecorecontentrulerulecollection shopwarecoreframeworkcontext symfonycomponentcacheadaptertagawareadapterinterface class cachedruleloader extends abstractruleloader public const cachekey cartrules private abstractruleloader decorated private tagawareadapterinterface cache private loggerinterface logger public function constructabstractruleloader decorated tagawareadapterinterface cache loggerinterface logger thisdecorated decorated thiscache cache thislogger logger public function getdecorated abstractruleloader return thisdecorated public function loadcontext rulecollection item thiscachegetitemselfcachekey try itemishit itemget thisloggerinfocachehit selfcachekey return itemget catch throwable thisloggererroregetmessage thisloggerinfocachemiss selfcachekey rule thisgetdecoratedloadcontext itemsetrules thiscachesaveitem return rule cachedruleloader php namespace shopwarecorecheckoutcart shopwarecorecontentrulerulecollection shopwarecoreframeworkcontext symfonycontractscachecacheinterface class cachedruleloader extends abstractruleloader public const cachekey cartrules private abstractruleloader decorated private cacheinterface cache public function constructabstractruleloader decorated cacheinterface cache thisdecorated decorated thiscache cache public function getdecorated abstractruleloader return thisdecorated public function loadcontext rulecollection return thiscachegetselfcachekey function rulecollection return thisdecoratedloadcontext however since service recognize whether cache hit miss removed corresponding logging