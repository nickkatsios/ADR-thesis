adr screen controller superceded dont want put business logic inside android framework class like activity fragment cannot unit tested enable fast feedback loop test run jvm android separate screen controller mvi architecture pattern every screen one controller consumes user event performs business logic help data repository communicates change back screen user interaction happening screen abstracted inside data class type uievent event flow controller form rxjava stream kotlin create usernametextchanged event listening edittext rxtextview textchangesusernameedittext map text usernametextchangedtext event data class usernametextchangedtext string uievent screen sends single stream uievents controller get back transformed stream change flow data unidirectional merge multiple stream one rxjavas merge operator kotlin login screen observablemergeusernamechanges passwordchanges submitclicks composecontroller takeuntilscreendestroy subscribe uichange uichangethis controller uievents transformed per business logic uichanges sent back screen uichange simple lambda function take screen argument call method implemented screen interface kotlin typealias loginscreen typealias uichange loginscreen unit class loginscreencontroller observabletransformer fun applyevents observable observable eventsoftype map isvalidusernameittext map isvalid uisetsubmitbuttonenabledisvalid uichange lambda event observed across multiple function controller stream shared replay refcount event arent recreated every subscription replay share single subscription screen replaying event every observer refcount keep subscription alive long least one observer kotlin class loginscreencontroller observabletransformer fun applyevents observable observable val replayedevents eventsreplayrefcount return observablemerge enablesubmitbuttonreplayedevents loginuserreplayedevents fun enablesubmitbuttonevents observable observable fun loginonsubmitevents observable observable diagram source consequence event replayed beginning subscription uichange function must subscribe event exactly immediately controller constructed instance subscribing event stream flatmap result event getting replayed every time flatmaps upstream emits kotlin incorrect fun loginonsubmitevents observable observable val usernamechanges event oftype map ittext val submitclicks eventsoftype return submitclicks flatmap usernamechangestake culprit flatmap username username text always first text entered user latest one loginuserusername here correct way would look like care must taken writing code controller kotlin correct fun loginonsubmitevents observable observable val usernamechanges event oftype map ittext val submitclicks eventsoftype return submitclicks withlatestfromusernamechanges work flatmap username loginuserusername