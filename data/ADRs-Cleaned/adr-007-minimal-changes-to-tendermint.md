adr ukraine love changelog initial description update pointing adr currently fork tendermint includes change erasure block data minor change header commit data addition serve data availability sampling along miscellaneous modification adhere spec instead incorporating change fork tendermint make strictly necessary change service code new celestianode repo notably also refactor remaining necessary change isolated rest tendermint codebase strategy significantly streamline pulling update upstream allow iterate faster since change isolated celestianode update many change described since minimized removed please see adr summarized list change notably removed intermediate state root adopted two new method abci instead preprocesstxs still signing partsetheader treat tendermint black box detailed design overview keep bareminimum change tendermint fork celestiacore necessary possible augment tendermint node separate process via celestianode communicates tendermint node via rpc data availability sampling logic including celestiaspecific networking logic already provided tendermint moved celestia node detailed design celestianode defined repository necessary change tendermint changing repo import name celestiaorg rebrand httpsgithubcomcelestiaorgcelestiacorepull change readmemd basic thing update github template httpsgithubcomcelestiaorgcelestiacorepull update readmemd httpsgithubcomcelestiaorgcelestiacorepull adding extra type block data update core data type httpsgithubcomcelestiaorgcelestiacorepull create messagemessages type proto tendermint version create intermediatestateroots type proto tendermint version data availability evidence httpsgithubcomcelestiaorgcelestiacorepull add type typesdata modify proto add evidencedata typesdata add headerhash commit add header hash commithttpsgithubcomcelestiaorgcelestiacorepull adding consts package type remove iavl dependency remove iavl dependency httpsgithubcomcelestiaorgcelestiacorepull dataavailabilityheader calculate datahash dataavailabilityheader struct celestiacore well celestianode might make sense eventually move struct together darelated code separate repository gomodule wondertan explored part way client implementation depend module without running circular dependency hence describe hash block data update core type httpsgithubcomcelestiaorgcelestiacorepull replace datahash dahhash dah fill datahash filling header fill dah making block generate data hash add availabledataoriginalsharesused header add availabledataoriginalsharesused header httpsgithubcomcelestiaorgcelestiacorepull reap number transaction probably app mech enforce minimum square size httpsgithubcomcelestiaorgcelestiacorepull square width power twohttpsgithubcomcelestiaorgcelestiacorepull adopt reamping mempool max square size httpsgithubcomcelestiaorgcelestiacoreissues proposal decide mech pick square size communicate app httpsgithubcomcelestiaorgcelestiacoreissues also see abci hacky solution filling dah share merging splitting compute share merged httpsgithubcomcelestiaorgcelestiacorepull part merged httpsgithubcomcelestiaorgcelestiacorepull merged function compute share make block data share splitting httpsgithubcomcelestiaorgcelestiacorepull serialize constituent block data split share contiguous message contiguous evidence contiguous intermediatestateroots contiguous combine share original square extendblockdata generate nmt root row col root generate datahash share merging httpsgithubcomcelestiaorgcelestiacorepull sort namespace parse reserved type parse remaining message add wrapper around nmt erasure namespaces implement rsmt tree wrapper nmt httpsgithubcomcelestiaorgcelestiacorepull add preprocesstxs abci add preprocesstxs method abci httpsgithubcomcelestiaorgcelestiacorepull add method abci interface create sync async version add sync version createproposalblock method blockexecutor fill dah making block basic functionality httpsgithubcomcelestiaorgcelestiacorepull produce block interval control block time httpsgithubcomcometbftcometbftissues stop signing partsetheader replace canonical blockid hash cononicalvote replace lastblockid header hash optionally remove unused code removing misc unused code httpsgithubcomcelestiaorgcelestiacorepull remove doc deployment httpsgithubcomcelestiaorgcelestiacorepull start deleting doc httpsgithubcomcelestiaorgcelestiacorepull remove tendermintdb favor badgerdb httpsgithubcomcelestiaorgcelestiacorepull delete blockchain notice httpsgithubcomcelestiaorgcelestiacorepull dont support process apps nice have efficient hashing httpsgithubcomcelestiaorgcelestiacorepull also take opportunity refactor many addition tendermint package possible hopefully make updating future version tendermint easier example fill data availability header instead method block could handled function take typesdata input return dah number share square along obligatory error func filldataavailabilityheaderdata typesdata typesdataavailabilityheader numorigdatashares error could perform similar treatment splitintoshares method helper method computeshares instead performing share splitting logic method could keep different package instead call equivalent function compute share beyond refactoring minor addition also remove revert quite change get minimum desired change specified change reverted ipld plugin introduction httpsgithubcomcelestiaorgcelestiacorepull initial integration httpsgithubcomcelestiaorgcelestiacorepull custom multihash httpsgithubcomcelestiaorgcelestiacorepull putting data proposal httpsgithubcomcelestiaorgcelestiacorepull module name httpsgithubcomcelestiaorgcelestiacorepull update rsmtd httpsgithubcomcelestiaorgcelestiacorepull make plugin package httpsgithubcomcelestiaorgcelestiacorepull adding dah stuff adding dah proposal httpsgithubcomcelestiaorgcelestiacorepullfiles blockmeta httpsgithubcomcelestiaorgcelestiacorepull embedding getleafdata httpsgithubcomcelestiaorgcelestiacorepull retrieveblockdata httpsgithubcomcelestiaorgcelestiacorepull validateavailability httpsgithubcomcelestiaorgcelestiacorepull prevent double writes ipfs httpsgithubcomcelestiaorgcelestiacorepull stop pinning httpsgithubcomcelestiaorgcelestiacorepull rework ipfs node httpsgithubcomcelestiaorgcelestiacorepull refactor putting block httpsgithubcomcelestiaorgcelestiacorepull config ipfs node httpsgithubcomcelestiaorgcelestiacorepull ipld dag instead coreapi httpsgithubcomcelestiaorgcelestiacorepull adding dag blockstore httpsgithubcomcelestiaorgcelestiacorepull saving loading ipfs httpsgithubcomcelestiaorgcelestiacorepull manual providing httpsgithubcomcelestiaorgcelestiacorepull refactor node provider httpsgithubcomcelestiaorgcelestiacorepull light client workaround httpsgithubcomcelestiaorgcelestiacorepull blockid partsetheader decouple parsetheader blockid httpsgithubcomcelestiaorgcelestiacorepull stop signing partsetheader httpsgithubcomcelestiaorgcelestiacorepull still dont want sign partsetheader able mechanism linked way requires decoupling psh blockid remove psh consensus message httpsgithubcomcelestiaorgcelestiacorepull note adr override adr decouple blockid partsetheader partsetheader blockid mostly remain make pulling change upstream much easier consequence positive pulling change upstream streamlined separation functionality help iterate faster creates great opportunity reconsidering past design choice without fully starting scratch prepare future design dont two stack single repo negative perform computation multiple time running multiple node instead single node convenient node operator case full celestianode want participate consensus protocol reference tracking issue