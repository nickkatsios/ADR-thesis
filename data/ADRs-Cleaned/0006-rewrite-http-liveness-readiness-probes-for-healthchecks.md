rewrite http liveness readiness probe healthchecks istio auto mtls enabled strict mode http liveness readiness probe longer work kubelet make http request istio issued certificate istio support rewriting http probe sidecar injection process figure liveness probe flow istio mtls disabled permissive probe get request regularly travel envoy sidecar app figure liveness probe flow istio mtls strict probe rewritten probe get request fails envoy sidecar include correct certificate figure liveness probe flow istio mtls strict probe rewritten istio probe get request bypass sidecar istio pilotagent instead pilotagent configured direct request app decided install istio set valuessidecarinjectorwebhookrewriteapphttpprobetrue rewrite liveness readiness probe app pod injecting sidecar app pod namespaces label istioinjectionenabled liveness readiness probe rewritten shown figure consequence believe rewriting liveness readiness probe compatible health check configuration app devs currently cloud foundry future app devs want complex http healthchecks involve checking response code healthcheck endpoint may significant work