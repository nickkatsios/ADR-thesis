publishing time change history content published govuk metadata indicate history content comprised time indicate first iteration content published firstpublishedat time content last changed meaningful way publicupdatedat change history record change note publishing time meaningful change convention first item change history govuk content provided publishing application without publisher input item change note first published time content initially published govuk set metadata field content publisher relied publishing api automatically setting time field changenote model model store record major change published govuk collate build change history meant content publisher needed store firstpublishedat publicupdatedat full change history needed store change note edition concern continued usage publishing api time change history system would lead discrepancy migrating content whitehall content publisher led review system problem relate migration others broader problem identified accurate time whitehall migrated content content migrated whitehall content publisher want time associated content remain whitehall complicates passing two time value represent first publishing time aforementioned firstpublishedat field deprecated time value firstpublicat preferentially firstpublishedat rendering content content publisher populate firstpublicat field content item notably older one predate whitehall sending firstpublishedat value different value time consequence matching migrated content would show different first publishing time migrating change note whitehall whitehall doesnt make publishing api changenote model build change history instead whitehall creates change history content includes updating content publishing api consequence data stored changenote model publishing api whitehall content cannot relied upon guarantee accuracy also expectation data accurate many piece whitehall content created changenote model introduced publishing api content publisher migrate change history whitehall content would ensure entire change history sync publishing api removingediting change note relatively common task govuk line support engineer requested remove modify change note published piece content resolve whitehall developer would modify past edition piece content either remove amend change note content publisher ideal modify past edition edition represents snapshot content published govuk edits invalidate accuracy snapshot backdating content backdating feature content publisher support backdating first edition piece content subsequent one allowed whitehall publishing api mean change initial item change history content thus would cause change history inconsistent firstpublishedat time consequence publisher make mistake backdating forget backdate content publisher cannot rectify without creating new document requesting support developer approach considered correct whitehall data publishing api considered audit syncing exercise time change history whitehall publishing api would involve either large data modification exercise creating new endpoint publishing api allow importing data positive approach could mean content publisher could continue rely publishing api time change history management without needing data stored content publisher negative would guarantee data would remain accurate work complete whitehall continues operate would easy check whether data still accurate migration content publisher store also didnt allow improvement removingediting change history allowing backdating past first edition store time change history content publisher sync publishing api considered changing content publisher similar approach whitehall canonical source publishing time change history time content publisher content updated publishing api would sent time change history approach offer greater degree control data allows content publisher enhance backdating feature provide support change history removalediting also offer higher degree compatibility whitehall migrating content due similar model negative increase content publisher responsibility storing time change history also mean prior publishing content content publisher would update timestamps publishing api add additional api call adapt publishing api support altering change history considered modifying publishing api allow altering change history would involve change note particular value could identify request positive allows change note treated separate concept content compared approach allows reduction duplicate data shared different edition content negative requires additional development complexity publishing api potential migration needed existing content also presented number complication whether change history would part draftlive workflow since content already concern decided take approach storing time change history content publisher felt pragmatic approach didnt require additional development publishing api compatible whitehall approach change history increased control offered also consistent potential future feature allowing change history modified via user interface concluded recommended approach change history publishing api ultimately flawed reconsidered recommendation concern publishing application exception specialist publisher publishing api syncing target rather store publishing history reversal unrealised intention publishing api canonical store content history change history lone outlier user visible data govuk publishing application cannot fix case issue publishing api changenote model designed appendonly therefore incompatible ability change time content marked first published change history disagree value resolve mistake consequence content publisher store information needed present firstpublishedat publicupdatedat change history publishing api content publisher considered canonical source data data reflected non user editable data firstpublishedat document model publishedat edition model reflects time content publisher published content addition existing changenote field metadatarevision also changehistory field store json representation previous change history entry content changehistory field store collection timestamps note include fixed first published change note automatically appended start change history time based either firstpublishedat backdating value also include current change note edition become aspect change history content published update type publishing time fixed noted changenote changehistory field risk confusion developer however seemed preferable complicating changehistory field data yet historical initially mean edit item change history via rake task developer perform provide mean add edit delete item eventually may choose build web edit expand integritychecker system content publisher verify time change history sent publishing api match already stored whitehall content ensure remain consistent migration publishing api previously deprecated changehistory field favour changenote field remove deprecation reflect changehistory field still valid approach active