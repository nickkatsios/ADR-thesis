layout default title adr navorder permalink record text derivative file generation sdr ocrtranscription proposed deciders peter mangiafico summer justin coyne justin littman alan lundgard niqui oneill mike giarlo andrew berger dinah handel proposed recommended problem statement automated ocr imagespdfs transcription videoaudio desired subset content deposited sdr order improve accessibility discoverability current process generating derivative file manual require operator intervention proposal automate generation derivative file via various mechanism either ondemand request made operator proposal address called nonimage derivative though may referred simply derivative throughout adr purpose adr nonimage derivative defined derivative file add value delivery content strictly required delivery example jps must created image viewer work derivative must generated accessioning prior shelving ocr transcription derivative file make content accessible searchable viewer still work without note viewer work may meet accessibly requirement derivative become available distinction useful derivative must generated accessioning others may generated accessioning additional planning see link section driver derivative able created automated process user able supply precreated derivative automated generation skipped precreated derivative present user able reaccession item providing changed file user able review generated derivative proceeding user able replace edit update generated derivative part review process user able regenerate existing derivative generation nonimage derivative delay accessioning derivative generation failure handled derivative versioned single system file retrieved considered three original considered summarized document derivative generated prior accessioning similar current manual process derivative generated accessioning similar derivative creation derivative generated accessioning also derivative generated accessioning via workflow instead tool access stack considering pro con approach selected described pro con various summarized document reason selected requirement generation derivative delay accessioning would possible proposed solution combination messaging workflow driven solution described detail document summarized outcome several discussion part architecture forum propose combination messaging new workflow produce nonimage derivative form described document listed basic flow architecture user initiate accessioning via current system preassembly goobi new user interface element added indicate ocr transcription needed material batch material set new field cocina andor add new workflow variable accessioning proceed normal last step accessionwf currently endaccession logic create new ocrcaptioning workflow object needed new workflow created immediately needed accessionwf allowed complete creation new workflow blocking new workflow consist several step include required versioning ocr transcription possible pause review review required indicated operator ahead time via element likely preassembly goobi passed workflow note since new workflow version object since new version cannot opened previous one closed may race condition new version opened previous one closed happens occasionally restart workflow fix problem happens often may implement automatic retries look alternate messaging based solution described ocr performed abbyy transcription performed whisper service likely run separately server monitoring endaccessioncompleted running new robot triggered api call robot part workflow object opened closed ocr transcription complete ensure file preserved closing object trigger accessionwf ensure file properly shelved preserved change made versioning separate workcycle ensure user process close object new workflow process preventing two process altering object time alternative mechanism start ocrtranscription accessioning complete endaccessioncompleted message currently sent alternative new ocrtranscription workflow triggered last step accessionwf listen message trigger new workflow message received new service would thus look message logic create new ocrcaptioning workflow object needed logic consider content type new field set existence derivative determine new ocrcaptioning workflow needed tbd issue known outstanding decided later exact variable passed accessioneer system variable stored cocina workflow model combination two review performed system edits performed system single new workflow handle ocr transcription two separate workflow code distributed existing codebases vms new codebases vms link integrating text extraction sdr accessioning architecture forum overview derivative generation proposal meeting running note high level overview andrew derivative generation proposal post processing