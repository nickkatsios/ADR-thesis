retain data one year original adr concerning data retention resides outline approach february point time decided retain data email alert api exception email archived deleted week since weve come realise revision data retention policy needed generating data never system initially prompted recent work migrate subscriber daily digest email lead increase amount unmanaged data produce store locally email alert api consequently provoked worry perpetually keeping data could result capacity issue due rapid increase data stored example generate digestrunsubscriber record day eight time amount compared ten month ago weve also gained insight data analytics original plan documented previous retention policy retain much data possible enable much analysis needed future however much data never analysis doesnt serve purpose email system contrary previously thought storing lot unused data indefinitely actually complicates pollutes auditing analysis example seen look subscriber list list active subscriber last week alone weve accumulated list dont subscription ended active unused list prevent simple auditing task easily like finding list report knowing thought could cleanup unused data keep email alert apis database manageable going forward couple different approach consider including storing unused data cloud storage away system database like archiving email subsequently deleting data locally setting mean removing data dont system entirely decided historic unused data removed periodically system entirely concluded data system longer exist maximum year removal sometimes analyse historic data year ago evidence needing data analytics beyond year following list document approach different data system contentchange message digestrun remove createdat value year old matchedcontentchange matchedmessage digestrunsubscriber removed automatically parent contentchangemessagedigestrun deleted subscription remove subscription theyve ended year based endedat value subscription ended cant currently made active deleted previously subscribed subscriberlist remove list active subscription latest ended subscription year old possible list deem historic subscribed however seems unlikely due list active subscription year happen list deleted new subscriberlist record generated unused subscriberlist remove list never subscription day old scenario happen user quits signup journey midway day chosen retention period allow user complete signup journey day limit confirm subscription mentioned section unused subscriber list pollute analytics remove regularly subscriber remove subscriber createdat year old dont subscription active ended subscriber without subscription historic subscription deleted mean able delete subscriber year old dont subscription however dont delete subscriber prevent removing new subscriber lack subscription due flaw code example unintentionally possible end subscriber subscription found email associated subscriptioncontents one place already manage retention held locally day also archived athena indefinitely still low retention email order manage size table however archiving athena inconsistent delete unused data entirely originally thought athena might serve data source analytics happened practice archive data stored entirely unused therefore decided remove archiving mechanism email since value consequence historic deletion worker implemented worker run periodically every day midday removing data deemed non urgent deleting day hour seemed sufficient first historic deletion run first run worker handle deleting historical data removed million record breakdown amount deletion per model found contentchange matchedcontentchange message matchedmessage digestrun digestrunsubscriber subscription subscriberlist subscriber restrict analytics year unused data restrict unused data analytics period year mean query looking data ended subscription year old met result dont expect issue due current expectation data well future analytics modify nullify process retire deactivated concept documenting data retention policy described adr found difficult understand document tangential concept deactivating nullifying subscriber give concept nullifying subscriber mean update address subscriber record nil unsubscribed subscription day deactivating subscriber concept revolves around deactivatedat field subscriber model field populated subscriber unsubscribes last active subscription mean determine subscriber nullified however obtain information held within deactivatedat endedat field recent ended subscription unsubscribed user meaning deactivated concept superfluous subsequently didnt want spend energy documenting process didnt make much sense begin decided would easier beneficial whole remove deactivated concept completely removing deactivated concept modified nullify process endedat described instead deactivatedat also updated process nullify subscriber subscription active ended older day prevents system storing user personal data longer needed whatever reason subscriber created without subscription see example happened deprecate archiving email athena planned work remove future meantime consider archiving athena deprecated updated documentation around reflect