api key access control author opqdonut macroz foxlynx background rem access control always userbased example application command must actor code check whether actor allowed perform command api authentication done two header xremsapikey must valid api key xremsuserid specifies user impersonated user limit access available api key response added list allowed role api key role whitelist role impersonated user filtered approach work fine socalled explicit role granted role table database however also implicit role granted per application based application state example user reviewer role application invited review application api key role implemented accidentally implemented explicit role extending implementation implicit role would require code concrete example api key role loggedin would still able impersonate handler application perform handler command like approving application order support case end document either fix interaction api key role implicit role choose new approach proposed approach let dismantle api key role support instead associate api key optional whitelist http path method api key allowed access optional whitelist user api key allowed impersonate case case api key access control comparison current approach proposed approach nkr project see issue creating user application case proxy service creates user applies resource created user current approach api key userowner applicant role additional work would required actually support applicant role api key implicit role proposed approach two api key one api key creating user impersonate fixed user userowner role also limited apiuserscreate endpoint another api key creating application impersonate anyone limited apiapplicationcreate apiapplicationsavedraft apiapplicationsubmit endpoint fetching entitlement application case fetching entitlement application applicant current approach api key reporter role proposed approach api key associated user reporter role additional path restriction possible needed closing application case closing application thus ending entitlement longer needed current approach new applicationcloser role api key associated also fix handling implicit role proposed approach api key associated user handler suitable workflow api key limited apiapplicationsclose post request additional get request needed implementation doc issue docsusingtheapimd