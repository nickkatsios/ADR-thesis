import implemented proposed adam gibson discussed paul dub currently gap way samediffndj operation implemented framework represent model kera tensorflow pytorch attribute based format name interop onnx tensorflow kera tends follow following formula map name equivalent name framework operation configuration name name associated attribute operation convd stride kernel size map inputoutput tensor equivalent tensor type framework setup complete graph equivalent framework sometimes framework concept dont map output equivalent result regardless though order sometimes framework addremove operation order produce equivalent output different graph tensorflow onnx import good example samediffndj internal representation set ordered argument execution form argument floating point argument float double integer argument integer argument long integer boolean argument boolean argument data type argument data type inputoutput input argument ndarrays input output argument often optional dynamically created output ndarray argument user want pas output control memory allowed axis argument integer argument represent dimension operation executed reference implementation map well enough execution file format related work may encourage future work done samediff file format implementation serialization file format via flatbuffers found note prior work current code generation httpsgithubcomkonduitaidljdevtoolsblobmastercodegensrcmainopsorgndjcodegenopscnnktl definition kotlin dsl found intended description kotlin specific available small subset ops precreated object created specific operation goal adr expand upon make language agnostic providing information neutral file format code generation current code generation effort augmented file format making found proposal expose symbol based mapping libndj protobuf format similar framework bridgeintermediary format make easier implement interop framework add necessary information needed able define direct mapping could future file format depending framework evolves considered work around making writing import code easiermore portable similar onnx tensorflow protobuf express attribute based file format map samediffndj operation format translation layer handle mapping attribute ordered argument approach reflected samediffndj operation define mapping process tofrom attribute format order based execution format separate similar set rule mapping ndarrays attribute based format intermediary representation compile equivalent call libndj format definition found consequence migration attribute based import format make working deep learning framework easier future drawback yet another file format risk migrating new file format future lot front manual work index set current operation backwards compatibility yet another thing maintain wrote converter forward compatibility address specifying opset schema scheme similar onnx advantage easy maintain backwards compatible easily interops existing deep learning framework additional dependency whats already normal protobuf allows easy code generation language industry standard convention proprietary tooling reducing friction adoption people coming framework straightforward mapping argument import provide easy bridge existing libndj allow automation descriptor language would understand pas data library appendix comparison framework implicit explicit find existing attribute convention libndj code base libndj convdcpp file contains following declaration auto inputshapeinfo inputshapeat auto weightsshapeinfo inputshapeat sdlongtype const biasshapeinfo blockwidth inputshapeat nullptr int intarg intarg staticcastshapesizeatweightsshapeinfo filterkernel width int intarg stride width int intarg padding width int intarg dilation width int paddingmode intarg valid int isncw blockgetiargumentssize intarg intarg nwc ncw int wformat blockgetiargumentssize intarg see macro libndj code base reflect argument accessed list argument expected order explicitly map parseable structure comparison onnx convolution operator explicit attribute various type list ints named tensor shown concept exist internally operation layer ndjsamediff exposed directly user theoretical descriptor libndj follows java private string name private int ninnouttargsiargs private boolean inplaceable private list inargnames private list outargnames private list targnames private list iargnames private list bargnames private opdeclarationtype opdeclarationtype public enum opdeclarationtype customopimpl booleanopimpl listopimpl logicopimpl opimpl divergentopimpl configurableopimpl reductionopimpl broadcastableopimpl broadcastableboolopimpl contains declaration field associated descriptor libndj code base represent descriptor type implicitly validation well different macro present code base representing execution look like validation present various name found set macro declaration libndj found appendix format comparison framework add tensorflow look like name add inputarg name typeattr inputarg name typeattr outputarg name typeattr attr name type type allowedvalues list type dtbfloat type dthalf type dtfloat type dtdouble type dtuint type dtint type dtint type dtint type dtint type dtcomplex type dtcomplex type dtstring onnxs add found httpsgithubcomonnxonnxblobmasterdocsoperatorsmdadd onnx tensorflow purely attribute based format