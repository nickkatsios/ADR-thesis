configurable operator rbac permission proposed deciders cloudonks team problem statement operator operate one two mode clusterwide operator manage resource namespaces clusterwide admin privilege single operator running cluster namespaced operator manage resource namespace deployed admin permission namespace several operator running different namespaces first clusterwide single operator major drawback scale well number cluster requires elevated permission cluster second namespace operator also major drawback play well crossnamespace feature single enterprise license pool multiple cluster multiple namespaces crosscluster search replication cluster across namespaces deploy cluster different namespaces requires operator running single one could technically enough driver scalability must able scale singlecluster deployment without overly complex manage scalability must able scale large installation manage ten thousand cluster simultaneously sufficiently large installation cluster load going high variance response time different api call one cluster responsiveness able negatively affect operation cluster security solution easy understand story around credential rbac permission service account far possible adhere principle least amount access require permission strictly necessary operator accomplish considered global namespace operator previous design proposal introduced concept one global several namespace operator global operator deployed clusterwide responsible highlevel crosscluster feature ccr enterprise license namespace operator responsible managing cluster single namespace might several namespace operator running single cluster namespace operator would potentially automatically deployed global operator doc also introduces hybrid approach global operator configured manage elasticsearch cluster clusterwide configurable operator term namespaces role single operator concept global namespace terminology take several configuration list namespaces manage resource single namespace default requires rbac permission single namespace list namespaces default production teamx requires rbac permission list namespaces namespaces requires clusterlevel permission list role specifying controller run internally oriented towards cluster management elasticsearch kibana oriented towards licensing management licensing oriented towards crosscluster feature crosscluster everything according list namespaces role operator deployed strictminimum rbac permission give flexibility around running single multiple operator single kubernetes cluster different scope according one increased complexity mapping exact rbac permission deployment yaml resource would require deployment tooling introducing elasticoperator cli name exact specification tbd bash cli sample usage exact specification tbd elasticoperator generate configoperatorsyaml generates one multiple yaml file readytodeploy including deployment serviceaccount clusterroles clusterrolebindings yaml sample configuration exact specification tbd operator manage cluster namespace teamaproduction image dockerelasticcoksoperators role elasticsearch kibana managednamespaces teamaproduction namespace teamaproduction manage cluster namespace teamadevelopment image dockerelasticcoksoperatorsalpha role elasticsearch kibana managednamespaces teamadevelopment namespace teamadevelopment manage enterprise license namespaces image dockerelasticcoksoperators role licensing clusterwide true namespace elasticsystem manage ccsccr namespaces teamaproduction teambproduction image dockerelasticcoksoperators role crosscluster managednamespaces teamaproduction teambproduction namespace elasticsystem compatibility configuration tool helm remains evaluated cli would perform simple check around configuration consistency example would reject configuration operator would concurrently manage elasticsearch cluster namespace enough prevent user accidentally deploy conflicting operator also enforce lockingleader election mechanism operatorlevel thanks reconciliationloop approach probably fine operator running concurrently limited short timespan hence probably lock mechanism optimistic far controllerruntime cannot watch resource list namespaces either one namespace namespaces seems planned longterm though workarounds exist idea one operator deploying operator automatically scope nothing preventing applied kiss implementation run cli periodically outcome chosen configurable operator give flexibility deployment strategy allows restricting rbac permission finergrained level positive consequence much flexibility cover various deployment scenario single clusterwide operator one operator per namespace one operator production namespaces another one staging namespaces dont require clusterlevel permission handle enterprise licensing single operator concept namespaceglobalecosystem vocabulary madness negative consequence many lead confusion proper documentation increased yaml complexity develop tool generate yaml specification controllerruntime ready yet multinamespace watch pro con global namespace operator pro concept understand seems match case con hybrid version deploy everything single restricted namespace default bit confusing globaloperator elevated permission cluster read access secret one might want several globaloperators single cluster one operator per namespace might lead deploy many operator introducing multinamespace feature would solve several concern configurable operator pro flexibility deployment setup single clusterwide operator one operator per namespace one operator production namespaces another one staging namespaces restricted rbac permission according one exact single operator simplifies communication around project actually superset concept global namespaces operator easily implemented con develop extra tooling lockleaderelection protection inconsistent configuration increased complexity number available controllerruntime ready yet multinamespace watch managing many namespaces rather manual adding new namespace might require adding new configuration item unless clusterwide operator link discussion issue global operator adr