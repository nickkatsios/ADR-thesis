compacting projection data many projection produce data required limited period time application developer consider long projection data retained ideally implement measure remove unnecessary data often data removed future event occurs however case future event appropriately indicates data longer required encountered genuine example implementing sql projection insert row whenever user performs specific action data queried order enforce cool prevents user repeating action within specific time frame insert triggered occurrence event data becomes unnecessary whenever cool time elapsed particular case cool part business logic rather api level restriction hence processestimeout message appropriate solution decided add compact method projectionmessagehandler implementation compact modify projection data whatever mean appropriate unnecessary data removed projection still serf purpose consequence engine complexity change introduce complexity engine implementation course entirely possible perform kind compaction outside engine keep compexity minimum avoided building facility projection handler schedule compaction specific time backwards compatibility every existing projection implementation requires addtional method even compaction required nocompactbehavior struct embedded within projectionmessagehandler implementation provide noop implementation compact first class compaction making compaction firstclass feature projection interface encourages application developer think lifetime projection data might cleaned something might easily ignored testing dogmatiqtestkit updated perform compaction event routed projection ensuring compaction code actually invoked testing hopefully interfere regular operation projection optimal scheduling compaction many aspect engine behavior enginespecific giving engine control compaction occurs engine implemenators may able make informed appropriate perform compaction example engine may perform compaction period low event activity engine implementation clustering andor sharding technique might schedule compaction occur single node