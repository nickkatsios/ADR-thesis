templating engine proposed application consume marainusernotifications control appearance notification end user receive bare minimum notification must convey relevant information organization also typically want communication look brand example want full control layout design email notification furthermore communication channel likely different requirement notification brevity little design flexibility compared email example adr describes marainusernotifications provides templating mechanism give consuming application control presentation notification templating widelyused solution problem enables separation concern application code focus deciding send notification collecting relevant information concern present information handled template template defines design layout notification typically notification particular type share layout even content place value must inserted convey particular end user example birthday email notification design formatting emailsubject fixed certain custom data recipient name different notification application defines template placeholder variable data templating engine plug real data place time message sent code consuming application raise notification build property baga keyvalue collection containing information vary across instance particular notification type example might include display name message recipient name customer application sends along notification type marainusernotifications management api request send notification enable marainusernotifications transform property bag actual message emailsmsetc consuming application define set template distinct notification type produce set must include one template communication channel email web push notification etc notification type sent application defines message type could sent either email application supply template whenever application sends notification marainusernotifications apply relevant template produce communication object appropriate type web push email etc send via desired delivery channel sendgrid twillio airship etc example notification going sent web push message delivery channel requires object includes three thing title message body action url web push notification template describes form three property bag particular notification type creation storage template template stored tenanted blob storage notification type communication type filename example template describing notification type marainleadcreatedv would presented web push message would live blob named marainleadcreatedvwebpush blob would look something like json body assigned new lead assignedbyusername title new lead contenttype applicationvndmarainusernotificationsnotificationtemplatewebpushtemplatev notificationtype marainleadcreatedv actionurl actionurl since different communication channel require different set information exact template structure depend channel example email template would like web push template body title would actionurl default template organization must define complete set template covering communication channel notification type wish raise error application attempt send notification defined template notification typechannel combination configuration dictate message delivered multiple channel template every channel must supplied notification type certain channel particular notification type application supply template notification typechannel combination rendering template application send notification request management api specify notification type provide property bag marainusernotifications service responsible determining channel channel locate correct template webpush email apply template engine field channel requires marainusernotifications corvusdotliquidasync templating engine supplying property notification property bag invokes engine required field example web push template shown template engine run three time template property bag time body title actionurl field consequence application consume marainusernotifications tailor presentation notification complete control define separate template distinct combination notification type communication type since template stored tenanted blob storage template always applicationspecific although absence fallback default template give organization complete control message presented also increase amount work required able send message design layout communication changed without needing deploy code update code request sending notification make presentation presentation determined template live blob storage application must arrange relevant template created blob storage part deployment process new notification type added additional template created application support enduser customization template take care ensure mechanism ensure initial deployment template overwrite user customizations want force application provide template every conceivable combination notification type channelfor example application never attempt send particular notification type supply template notification type consequently straightforward way verify necessary template present marainusernotifications way knowing advance particular channel particular notification type upshot error relating missing template necessarily raised point application try send message marainusernotifications cannot offer postdeployment check verify required template present design provide way offer say razor alternative templating engine template specify templating engine implicit assumption template always dotliquid syntax application might define multiple message type presented way might enable end user control message type delivered via email example mechanism declaring multiple message type template application work way provide multiple copy template set one message type