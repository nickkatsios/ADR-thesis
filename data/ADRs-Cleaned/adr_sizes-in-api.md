graphql implementation size discussion participant roanna philipp vahid daniel implemented problem statement api size well relation sizerangesizegroup product complete graphql schema implementation discussed mainly two design schema implement variation second see considered driver fulfill frontend easy api user closeness current database structure complexity implementation risk lockin technical debt later refactorings whether design business logic reflective real operation query performance considered original plan size graphql enums stored varchars graphql schema enum size graphql enums dont allow value start number type sizerange label string size size type product sizerange sizerange type box size size potentially nullable size size type mutation createboxcreationinput boxcreationinput box input boxcreationinput size size potentially nullable size size database level sizeranges table label varchar size table sizerangeid sizeranges sizevalue varchar enum value representation value naturally repeat since enum value might across least size range box table size varchar enum value representation value naturally repeat since enum value across lot box sizeid size proscons pro user friendliness easier documentation user interact api via graphql explorer potentially slightly better performance probably making difference user experience con restriction enum value leading number value sure extension future size unitdimensions would look like requires complexity enum value different current size value dropapp well human readable name new related even design database way save enum value box directly boxstock table resolving reference table likely would keep current database structure change dropapp logic alternative enums full type graphql schema type size value int type sizerange label string size size type product sizerange sizerange type box size size potentially nullable size size type mutation createboxcreationinput boxcreationinput box input boxcreationinput sizeid database level sizeranges table label varchar size table sizerangeid sizeranges sizevalue varchar box table sizeid size proscons basically inversion pro con written explicitly pro database change needed former point risky easier change later api heavily partner extended future also support unit size see full freedom regarding naming size value mapping needed enum value user friendly name con potentially small performance disadvantage compared additional reference table querying box auto completesuggestions possible value user interact api graphql explorer alternative variation support fine grained detail size differentiating nonnumeric numeric size adding unit numeric size potential extension future graphql schema type nonnumericsize value string enum numericsizeunit type numericsize value int unit numericsizeunit union size nonnumericsize numericsize type sizerange label string size size type product sizerange sizerange type box size size potentially nullable size size type mutation createboxcreationinput boxcreationinput box input boxcreationinput sizeid database level would follow kind polymorphic association pattern single table inheritance able connect polymorphic size type could type nonnumeric numeric box sizeranges going size case typical plainolddata case strong reason making concept first class citizen graphql besides bit user friendliness regarding autocompletion graphql console fact also shortcoming enum approach naming constraint graphql dont allow enums start wit number woudl affect lot size value also seem low risk lockin couldnt extendedovercome future want also add size unitsdimensions regarding raised concern worse query performance additional reference table dont see high performance risk since still normal query complexity level indexed foreign key kind operation exactly relational database made reflect currently known reality operation partner organization difference concrete behavior api involved data structure compared also doesnt require additional mapping enum value human friendly value keep implementation complex initial time investment well maintenance complexityeffort change current structure needed moment dont signal complex structure necessary extended future easier needed later want enrich size data size unit would require complex graphql type consequence easier easy elegant implementation full flexibility actual size value difficult auto complete feature graphql console available size value api user would run small additional extra query get available sizegroups size