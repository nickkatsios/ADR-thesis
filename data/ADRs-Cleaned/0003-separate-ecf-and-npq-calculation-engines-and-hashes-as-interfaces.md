separate ecf npq calculation engine hash inputoutput interface currently two different training scheme scope trackandpay project rumour possible third future similarity many difference input output math payment training scheme example fixed payment allow pulling fixed payment earlier setup payment cashflow output payment different detail different banding system people tim abell pavel lisovin track pay developer discussed issue amongst came time build two payment engine share code similar inputoutput interface ruby hash structure later easily converted json similar pattern engine gherkin bdd driven unit test plus normal rspec unit test consequence becomes easier difficult risk introduced change mitigated keeping separate allow iterate fast even payment calculation rule diversify making sure dont put engineeringdriven constraint policy training scheme payment system consistent inputoutput interface allow integrate engine whatever larger flow end