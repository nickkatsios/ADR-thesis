adr direnv nix editor integration per adr nix manage dependency good nix development involves switching nixshell contains appropriate library binary required build program handy terminal tricky editor editor often require access binary enable fancy feature like autocompletion jumptofunction currently emacs could open emacs within nixshell want able switch buffer project without breaking everything one ive past leverage direnv direnv tool modify environment variable perdirectory basis crucially support nix emacs plugin create envrc containing nix another leverage nixbuffer seems require creation dirlocalsel approach seems promising havent able make sense fairly sparse documentation result ill discarding direnv integrate editor nix consequence make envrc file make everything work editor direnv support able take advantage change