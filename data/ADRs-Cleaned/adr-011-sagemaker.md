record sagemaker search team decided aws sagemaker training serving model learning rank sagemaker initial infrastructure learning rank looked like model trained adhoc local machine serve model search machine hosted tensorflow serving docker container searchapi would call looked like locallytrained model search machine search api docker container tensorflow serving sagemaker introducing sagemaker infrastructure training serving model docker training serving done aws model training serving done aws sagemaker instance search api reranks search result making request sagemaker endpoint create new model trigger change sagemaker concourse pipeline new model trained aws sagemaker spot instance aws sagemaker external model build trigger concourse sagemaker training search machine search api sagemaker endpoint serving search apis perspective nothing changed still make call endpoint reranks result however externally docker longer running search machine reranking performed different machine rather orchestrating model change search machine concourse pipeline handle process creating training data training serving model downside new architecture downside search architecture complicated involving machine bigger aws bill since pay sagemaker instance search api request sagemaker instance considerably slower request local docker container potentially reliable locked aws infrastructure however didnt feel bad architecture sufficiently complicated couldnt manage running docker search machine potentially going trickier manage running separate machine example scaling much easier sagemaker docker cost high get greater control cost training done spot instance cost little sagemaker request prohibitively slow request docker container took whereas sagemaker take slower part search request optimise first benefit sagemaker made easier train serve new model specifically possible serve many model time testing scale sagemaker instance separately search api instance train deploy new model schedule easier train experiment model locally running tensorflow search api elasticsearch deploying simpler general benefit get benefit aws monitoring alert box sagemaker elsewhere data lab team help ensure usage consistent sagemaker large suite product dont may want future likewise may move jenkins concourse future nice step towards still add documentation performing data job spot instance training data still generated search machine