buildah discovery work desire user able build docker image artifact job creates security problem technical limitation within docker adr result discovery work discern whether solution building docker image securely discovery focussed evaluating software product called buildah technical problem worker run within docker container may build another docker image artifact requires host server docker socket exposed worker container docker daemon run root full control host server meaning malicious code running within worker docker container could trivially gain access host system mounting via host system root docker support rbac control restrict access socket way provided docker prevent privilege escalation method occuring buildah solves problem able build docker container without docker vulnerable socket buildah discovery note root access run buildah command requires privilege docker run bit ackward install could package meaning wed maintain requires nonstandard repos ppas installation ppaalexlarssonflatpak lead flatpak developer ppagophersarchive ppaprojectatomicppa buildah official repo build image send local docker dockerio ecr compatible image worked well overall support buildarg volume documentation recommend rebuild creates container specifically buildah run create artifact docker image upload somewhere ready consumption buildah artifact image stored worker faster build run mean manage image nuking old one may expose docker socket reintroduce problem trying avoid buildah image stored dockerio image uploaded creation downloaded executed making thing slower uploaded public dockerio wed careful exposing secret uploaded private dockerio data sovereignty concern work upon secret management allow upload download docker image stored within ecr certain possible specifically noted fast managed iam role endpoint security group etc version controlled kept private similar tool buildah comparison table buildah address problem docker container privilege escalation feature rich support typical case feature compatible docker provides mean provide docker image artifact consequence indepth discovery product may appropriate discovery product might neccessary