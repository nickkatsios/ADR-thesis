stacked handler solve many problem greenlog logger push generated log entry log handler formattingfilingforwarding log different way achieved different handler however crosscutting concern might apply regardless way log entry formatted stored forwarded example may want inject log entry process thread name trace may want tee log entry multiple destination may want buffer log entry inmemory outputforward asyncronously favour stacking handler solve problem source logger push entry intermediate handler intermediate handler transform input entry required forward one downstream handler required handler stack arbitrary depth created mermaid sequencediagram app logger infomessage logger middleware entry middleware writer entry approach based rack middleware concept alternative considered considered supporting filter could take entry return transformed entry would allow teeing log multiple destination buffering filtering log consequence many various middleware handler handler stack could get deep