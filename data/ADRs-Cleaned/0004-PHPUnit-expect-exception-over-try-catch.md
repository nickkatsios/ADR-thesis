phpunit expectexception api trycatch executing code expected fail test case two way php function testsomething void try statement fail thisfail catch exception php function testsomething void thisexpectexceptionexception statement fail recommended sebastian bergmann article since case phpunit specific api necessary taken leverage expectexception api possible pull request fix practice whole codebase may done made mandatory new pull request though stick practice