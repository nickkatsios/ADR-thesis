architecture record persistent configuration many arachne application transient config rebuilt initialization script every time instance started user might wish instead store config persistently full datomic instance number possible benefit approach deployment configuration highly reproducible organization maintain immutable persistent log configuration change time external tooling persistently build define configuration including full drag drop architecture application design introduces number additional challenge initialization script persistent configuration introduces question role initialization script play setup merely persistent config make easier modify hand quite opposite init script could create configuration clear would updated point absent full config editor rerunning modified configuration script existing configuration pose challenge well would require script idempotent create spurious object subsequent run also script would support concept retraction scope naming extremely convenient dbuniqueidentity attribute identify particular entity configuration configuration init script convenient required init script idempotent since mechanism datomic determine new entity older entity system however multiple different configuration database risk unique value might unintentionally collide causing inadvertent linkage ought logically distinct configuration mitigated simple case ensuring every config unique namespace still something keep mind configuration copying versioning although datomic support full history history linear datomic currently support forking maintaining multiple concurrent version logical data set introduce complexity thinking modifying configuration still keeping old one kind fork would require deep clone entity config well renaming dbuniqueidentity attrs renaming identity attribute compound complexity since implies either idents cannot hardcoded initialization script init script cannot generate update two different configuration environmentspecific configuration application slightly different configuration different instance application instance software told address make sense put data configuration mean would longer single configuration distinct yet identical configuration one solution would store data configuration instead picking runtime environment variable secondary config file multiplying source configuration run counter arachnes overriding philosophy putting everything configuration start relationship module load process would stored configuration represent initial configuration updated active module would represent complete configuration module completed update alternative present issue usersupplied initial config stored usefulness stored config diminished since provide comprehensive complete view configuration hand complete postmodule config persisted raise question happens user edits configuration way would cause module something different config possible run module update process multiple time config would old stale modulegenerated value removed goal technical approach good answer challenge described enables clean user workflow useful enumerate specific activity would useful persistent config implementation support define new configuration init script run init script existing configuration updating edit existing configuration repl edit existing configuration clone configuration deploy based specific configuration time careful overly complicate thing common case application still pattern generating configuration init script immediately running application attempt implement concrete strategy config persistence time run risk becoming quagmire halt forward momentum instead make minimal set choice observation enable forward progress preserving ability revisit issue persistent configuration point future configuration schema compatible several configuration present persistent database specifically logical configuration namespace namespace dbuniqueidentity value ensuring global uniqueness configuration entity reifies config possible root component constructed etc entity configuration must form connected graph every entity configuration must reachable base config entity required ability identify config whole within purpose current initial tooling building configuration including init script focus building configuration scratch tooling capable editing existing configuration sufficiently different different set requirement constraint design process future tooling storing viewing editing configuration explicitly determine whether want work configuration processing module since distinct set tradeoff proposed consequence continue making forward progress local configuration case storing persistent configuration remains possible immediately possible save configuration repeatability debugging purpose editing persistent configs difficult want edit persistent configuration analyze specific case determine best way develop tool specific task