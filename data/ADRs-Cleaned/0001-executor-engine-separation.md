executor engine separation deciders roleyfoley problem statement hamlet currently built two application stack set bash script run deployment invoke generation output freemarker wrapper supporting template handle creation output tight coupling component difficult determine authoritative source share stack driver improve user experience introduced cli tool based click library built python integrating cli environment highlighted cli tool also exposed tight coupling two application stack considered replicate cli feel provided click existing bash environment maintain existing coupling migrate bash process java based application call freemarker java based process create clearly defined abstraction layer existing bash script freemarker wrapper outcome chosen create clearly defined abstraction layer existing bash script freemarker wrapper make architecture cleaner provides clear way hamlet scale future positive consequence explicit definition hamlet made work make choice appropriate tool specific service within hamlet negative consequence defining building layer separation add complexity hamlet pro con replicate cli feel provided click existing bash environment maintain existing coupling rather looking introducing new tool hamlet instead update existing bash based script offer centralised cli experience model central bash script called hamlet would invoke bash script currently know exist call good remove extra dependency tool set education required introducing tool good requires effort introduce migrate bad bash testing tooling service arent mature language bash mostly intended script rather application migrate bash process java based application call freemarker java based process would move bash script currently freemarker wrapper java application would require rewriting bash script java equivilents providing java based cli good would reduce number application stack involved hamlet system good would cross platform java intended cross platform bad would require significant training retooling currently create clearly defined abstraction layer existing bash script freemarker wrapper would maintain existing tooling introduce abstraction layer two service model would define freemarker component engine responsible creating output content cmdb outline list instruction contract supporting document require bash component would become executor responsible actioning output provided engine providing output execution back cmdb model engine would invoked default set parameter requesting generation contract engine would create output outline additional output document required given action executor invokes engine parameter provided contract create output required could include contract executor run perform additional task order complete given action requires executor essentially implement contract would made defined step include parameter required complete step executor responsible providing implementation step defined engine good creates clear line bash tooling performs freemarker tooling performs good defines functionality within hamlet rather basing tooling good allows functionality implementation change required reduced impact redevelopment bad introduces new layer way hamlet work requires design implementation existing stack rather rewriting existing process redevelop existing implementation incorporate design