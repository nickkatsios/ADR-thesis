layout page title jettyfailsafe allow jetty management component run configuration deciders aaron mcgrath lewin chan problem statement way enable jetty management component bootstrapproperties first bootstrap jetty configured xml configuration file second bootstrap jetty server minimal default also doesnt default deploy webapp provider mean started unless optional webserverwebappurl specified always considered fromproperties variant production ready message logged effect startup managementcomponentsjmxjetty webserverconfigurlconfigjettyxml want override jetty port instance syspropjettyhttpport managementcomponentsjmxjetty webserverport webserverwebappurlwebapps normally well jettyxml contains reference default descriptor file xml set namedefaultsdescriptor property namejettydeploydefaultsdescriptorpathname default property namejettyhome default configwebdefaultxml default property set generally people dont edit jettyxml default mean gradle style project carry around srcmaininterlokconfigjettyxml webdefaultxml inside git configuration even dont formally within interlok configuration problem able start jetty management component actual sensible default jetty component enabled port config file specified considered nothing make fromproperties production ready embed jettyxml interlokcommonjar jetty enabled setting defined outcome embed jettyxml interlokcommonjar jetty enabled setting defined pro con nothing course easy change user since template file emit part project saving might make difference medium term since project automatically get jettyxml webdefaultxml present save project generate bootstrap file good change code bad additional artefact cluttering interlok project additional object git neutral build new deployment scratch problem doesnt manifest onwards make fromproperties production ready tightly couple default configuration jetty version effectively would replicate variant existing jettyxml code directly jetty setter getters add benefit add additional maintenance burden want expose various thing configuration user would define property inclusion bootstrapproperties define another fine load put back class problem always jettyxml file bad tight coupling internal jetty object bad wanted configurability would expose webserverxxx property similar bad maintenance overhead embed jettyxml since already jettywebdefaultfailsafexml present interlokcommonjar jettyfailsafexml well introduce new serverbuilder implementation build jetty configuration xml file found classpath add new fromclasspath serverbuilder implementation extracting commonality fromxmlconfig take effect webserverconfigurl webserverport defined fromclasspath jettyfailsafexml jettywebdefaultfailsafe build jetty instance since javaneturl reference file inside jar already work jettyxml inside custom jar zzlcjettyjar find resource create url calling resourcenewresourceurl syspropjettydeploydefaultsdescriptorpathjarfilecadaptrisworkruntimegradlenightlyinterlokjettyclasspathbuilddistributionlibzzlcjettyjarmetainfwebdefaultxml webserverconfigurljarfilecadaptrisworkruntimegradlenightlyinterlokjettyclasspathbuilddistributionlibzzlcjettyjarmetainfjettyxml basically jettyxml remains overload jettydeploydefaultsdescriptorpath location jettywebdefaultfailsafexml interlokcommonjar good jetty start sensible set default neutral still maintenance overhead single file since already check default jettyxml work anyway neutral build new deployment scratch problem doesnt manifest onwards