adr generate record jeremy well proposal depreciated superceded definition function javascript function service function complete function take message messaging service topic name within messaging service service listen message message distributed topic listener command message indicating user action repository service service read message save data kind store business service service read command message performs business logic transformation data eventually sending message data record created point unique key record generated usually rely database work database set generate incrementing uuid firebase generate unique key data pushed however firebase unique key generated client side indeed code even available httpsgistgithubcommikelehenabdc data generated put onto topic committed database repository service data key sent data topic generating key generate key push operation firebase repository send key interested party update message pro key generation current backend con adr repository service never broadcast topic mean dealing extra message generate uuid business service respond command message pro uuid library easy fast uuids low chance collision con generate uuids long generate key firebase algorithm pro key time orderable code available easy read con generate key higher probability collision attached kinesis record pro uuid format low chance collision mean tracking mechanism command message stored data con obvious happening long unknown probability collision uniqueness consequence