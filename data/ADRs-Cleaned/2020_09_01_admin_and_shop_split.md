separation admin shop route problem statement developing new unified api werent clear guideline structuring new api endpoint first approach introducing two different endpoint prefix similar currently done regular shop april merged unification endpoint httpsgithubcomsyliussyliuspull move dictated fact wanted push unification even depending currently logged user expose different data available entity besides ought simplify api usage would reduce number endpoint simplify relation resource however change rose lot new issue solve different serialization different user trivial relation object also contextual admin see many link regular visitor shop user endpoint like product show resolved differently depending well shop product determined based slug taking account current channel administrator browsing product code separation blur product identifier clear route considered iri split complete two separate log endpoint preserved due user architecture want explicit user trying log one unified identifier admin shop panel well shop slug able expose product data based url provide redirect proper resource based channel locale admin resource channel locale agnostic code instead driver driver strict requirement direct correlation entity database exposed api resource one resource database may aggregate several api resource driver clear way determine iri exposed api resource driver clear separation available resource path visitor admin may expected considered every described considering product example fetched shop user administrator staying current solution get newapiproductsknittedwoolblendgreencap visitor product slug return slug price get newapiproductsknittedwoolblendgreencap admin user product code return slug price adminrelatedinformation good one endpoint product bad depending currently logged user iris related product product list changed slug code bad clear operate endpoint jumping documentation example tax rate endpoint exposed shop user bad declare authorization rule endpoint basis really complicated rule different strategy admin shop user guest adding additional suffix path get newapiproductsknittedwoolblendgreencap visitor product slug return slug price get newapiproductsknittedwoolblendgreencapadmin admin user product code return slug price adminrelatedinformation good treat two different presentation two separate resource generate two different iris good clear endpoint admin shop good authorization admin shop user straightforward bad two endpoint product bad result path admin prefix others cautious path bad declare authorization rule endpoint basis really complicated rule different strategy admin shop user guest moving back prefixed path backoffice shop get newapishopproductsknittedwoolblendgreencap visitor product slug return slug price get newapiadminproductsknittedwoolblendgreencap admin user product code return slug price adminrelatedinformation good treat two different presentation two separate resource generate two different iris good clear endpoint admin shop good authorization admin shop user straightforward good take advantage symfony firewall hide admin endpoint behind one firewall bad two endpoint product outcome chosen moving back prefixed path backoffice shop selected allows easily leverage symfony security component benefit like firewall acl second third provides predictable behavior clear separation concern admin shop still suffix route seem like worse solution compared common prefix common prefix indicate endpoint grouped