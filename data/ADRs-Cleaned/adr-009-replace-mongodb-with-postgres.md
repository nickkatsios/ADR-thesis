adr replace mongodb postgres publisher mongodb persistence amazon documentdb deployed environment described amazon amazon documentdb mongodb compatibility fast scalable highly available fully managed document database service support mongodb workload there docker image available support local development documentdb official mongo docker image locally pipeline connect documentdb deployed integration standard mongo feature supported documentdb dont usually experience issue experienced issue theyve severe time consuming diagnose bug mongo driver update surfaced connecting documentdb unit test integration smokey test caused publisher fail production resulting identifying issue attempting set fast feedback environment verify experiment became quite drain focus week certain search within publisher failing due hitting proxy timeout second locally search order magnitude quicker data upon investigation due documentdb behaving slightly differently mongo term query strategy index though primary motive switch document database isnt great fit publisher based data model usage pattern another influence longer term strategic goal easier maintain set apps consistent platform considering impact issue already experienced team time along fact estate going documentdb give reason motivation make change migrate database publisher mongo postgres migrate data documentdb rds consequence performance characteristic differ baseline current performance track effect change application unavailable period time environment migrate period least time required export current data import new datasource