adr bootstrap sentinel amended adr deprecated adr connaisseurs main component mutatingwebhookconfiguration connaisseur pod mutatingwebhookconfiguration intercept request create update kubernetes resource forward connaisseur pod tasked high level verifying trust data order deploying component matter since blocking mutatingwebhookconfiguration without connaisseur pod answer request would also block deployment said pod noted prior version connaisseur looking ready connaisseur pod could report ready nonfunctional due mutatingwebhookconfiguration missing however stated mutatingwebhookconfiguration deployed connaisseur pod solved checking ready state said pod one add dependency ready state show ready mutatingwebhookconfiguration exists run deadlock mutatingwebhookconfiguration wait pod pod wait mutatingwebhookconfiguration considered start helm deployment one create pod named connaisseurbootstrapsentinel run minute also installation timeout helm connaisseur pod report ready access notary mutatingwebhookconfiguration exists connaisseurbootstrapsentinel pod still running hold true sentinel killed even minute passed yet let connaisseurs pod readiness stay nonindicative connaisseur functioning advertise someone running connaisseur monitor mutatingwebhookconfiguration order ensure proper working deploy mutatingwebhookconfiguration helm connaisseur pod healthy instead ready require pod started working notary connection health require additionally existence mutatingwebhookconfiguration readiness outcome chose important brief glance connaisseurs namespace allows one judge whether running properly chosen readiness pod easily seen service whereas health would require querying every single pod individually deemed ugly nonkubernetesy solution hence decided positive consequence connaisseur pod report ready connaisseurbootstrapsentinels runtime mutatingwebhookconfiguration deployed helm otherwise helm deployment fail timeout period default min since wont running connaisseurbootstrapsentinel pod anymore resolve installation deadlock connaisseur pod never reach ready state mutatingwebhookconfiguration never get deployed mean get consistent deployment failure inital waiting period something work additionally mutatingwebhookconfiguration get removed whatever reason operation connaisseur pod failing indicating failed dependency hence monitoring connaisseur pod sufficient ensure working negative consequence hand adversary deploy pod named connaisseurbootstrapsentinel connaisseurs namespace connaisseur pod always show ready regardless mutatingwebhookconfiguration however adversary deploy connaisseurs namespace chance connaisseur compromised anyways importantly single connaisseur pod successfully deployed notary healthcheck fails sentinel lifetime deployment fail regardless possible recovery later time another issue would connaisseurbootstrapsentinel pod left behind however since limited case also clean deployment apart minimal additional complexity deployment nonissue