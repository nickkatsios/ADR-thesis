log log gogo kit kubernetesnomaddcosecspsdockerkubernetesmesos consuletcdzookeeperlinkerd zipkinjaegerappdashlightstep prometheus influxdbgrafana elasticelkelasticluceneelastic kafkaqoshbasehadoop twitterhekahekaekanitefluentdlogstashsplunklogglyps prometheus prometheusprometheus serverless tsdbweb prometheus prometheusforwardersingestersstoragesquery debuginfowarnqos qos mysql contextingestetls grepgrepetlsps prometheusjulius volzprometheusingestprometheus prometheuselastickafkacanssandramastervnodes agentsforwardingestersingestersingesters ingestion ingestionquerying ingesterididuuidulid twitterbyteidokulidsnsid fast kafka ingestforwarderforwardersingestersforwardersingestersbackpressureingesters prometheuspushpullingeststoregossipstorepullingestsizeingest ingeststore ingeststore ingeststore ioingeststore ingesterokulids ingestingestersstore ingestgossipstoreingestingestsizestoresize size mergeagent grepulidsidyesbut would involve prior knowledge segment locationallocation requires form cordination deliberately make read path dumb pay cost inefficiency keep cordinationfree digitalocean forwarderingestercrashprometheus twitterkbpsmbpsmbsecnode digitaloceanmbpsmbpsmbpsiombsecnodeingest ingestmbpsmbps forwarding forwardernetcat golang client connection forwarder conn netdialtcp ingesteraddress sbufionewscannerosstdin sscan fmtfprintfconn stext tcp bufioscannertcpwhatever limit hit werent imposed scanner cpu timetickerticker golang hztimesecond recordspersecond range timetickhz golang var recordspercycle timepercycle timesecond recordspersecond timepercycle timemillisecond recordspercycle timepercycle range timeticktimepercycle recordspercycle cpumbps also building log line random data within hot loop burning lot cpu mathrand precomputing large fixed set random log line program start solved one change could easily push plenty mbps second process negligible load forwardforwardersingestforwardersbytesmb ingestion ulidtoms senartulidulidnssulid golang benchmarknewwithoutentropy nsop allocop benchmarknewwithentropy nsop allocop benchmarknewwithcryptoentropy nsop allocop ingestmbpsbytesfieldsfunccpu bytesfieldfunculidsulidingest syscallsingestingest size sizesize sizessdmbingestmb ingest ingestsizeingestps sizenningest ingestion storegatherreplicatecommit gather replicatepostpost ingestingest ingestmaybe chewing backlog querying grep tomscpups multireaderreaderreader syscallscpummapingmmaping mmapmemmove cpucpu cpugoroutineiopipepipeiopipedjherbisniopipembiopipe bytescontainsniceflagpcreps perl ggg digitalocean dropletcpu cassandraioreadaheadsggbps log cassandraissue cassandra cassandra key akey oneread repair quorum allread repair nissue ingestingestgossip forwardingest ingest ingest forwardingestxingestingestissue consumeingestgossipissue jepsenmbpsingest queryissue adrian cockcroftissue