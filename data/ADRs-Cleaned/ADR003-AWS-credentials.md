amazon web service aws current infrastructure service iaa provider deployment tooling concourse terraform bosh etc cloud foundry component cloud controller rds broker blobstore client etc apis manage access iaa resource common mechanism authenticating api call create identify access management iam user appropriate permission generate access key secret access key user export environment variable awsaccesskeyid awssecretaccesskey standard environment variable name utility library problem approach easy accidentally leak plain text key appear output shell might copypaste gist email debugging problem might add shell configuration include script pushed public code repository team leaked key like one occasion worth noting even realise youve done delete commit revoke key may already maliciously automated bot monitor site like github event firehose detect credential pregenerated key aws recommends iam role instance profile accessing api instance delegate permission instance temporary credential made available instance metadata service tool library automatically support credential regularly rotated never stored configuration file reduce likelihood leaking aws key iam role instance profile operation run instance includes everything happens within concourse cloud foundry reduce impact leaking aws key iam policy awssourceip condition enforce iam account team member office address iam role profile policy managed awsaccountwideterraform repo consequence well still aws key operation run outside care must taken storing handling credential operation include creation bootstrap concourse instance running awsaccountwideterraform iam profile drawback process running get credential model play well required assign credential specific process running different container example concourse apps container access aws iam profile well maintain fork standard concourse resource add support iam role instance profile maintainer dont wish support feature concoursesresourcepull resource include alphagovpaassresource alphagovpaassemverresource well office vpn administer aws outside office match administer concourse cloud foundry outside office disaster recovery provision vpn office connectivity problem