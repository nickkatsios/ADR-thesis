data migration several way migrating data including activerecord migration writing rake task running deploying code update migration change database structure otherwise break application write rake task migrate data consequence data migration code typically removed application good reason avoid activerecord migration must remain application deployment require coordination since rake task must run code deployed work deploy activerecord migration