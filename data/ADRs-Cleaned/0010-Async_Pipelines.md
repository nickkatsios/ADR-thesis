async pipeline proposed alex black discussed sham paul machine learning deployment perform inference periodically regardless whether anyone actively querying pipeline restgrpc etc endpoint example processing video want perform inference frame time per second etc regardless whether someone call rest endpoint example processing video want number pipeline execution independent number client querying rest endpoint run fps return latest outputprediction available regardless whether client querying per second example anomaly detection case without sort restgrpcmqtt etc server imagine want perform inference every second conditionally fault detected execute http post pipeline step report fault example want perform inference time per second request occur shouldnt perform inference request per second occur want return last cached result instead example periodic push based pipeline execution microservices style suppose want perform inference camera feed fps every frame post prediction example predicted class detected object http endpoint kafka queue mqtt endoint simply writing file implemented pipeline step case arent yet supported konduit serving introduce additional pipeline type asyncpipeline implement pipeline interface sequencepipeline graphpipeline api execution point view pipeline type asyncpipeline decoratorwrapper pattern java pipeline sequencepipelinebuilder build pipeline asyncpipeline new asyncpipelinep trigger asyncpipeline two thing performs execution underlying pipeline based sort trigger usually store last output underlying pipeline return query called consider asyncpipeline set perform inference underlying pipeline per second query asyncpipeline time per second example difference user querying rest endpoint get result returned time independent potentially redundant execution underlying pipeline trigger configurable allows different way performing inference underlying model trigger interface would following api text querydata data called asyncpipelineexecutorexec called return either cached data instance optionally block perform new inference setcallbackfunctiondatadata void function provided trigger perform execution underlying pipeline whenever trigger want provided data irrespective whether query call idea trigger would call function whenever want inference performed whether external pipelinepipelineexecutor called irrespective whether querydata called note trigger instance thread safe builtin implementation would initially include simplelooptrigger performs inference loop fast possible unless optional configuration frequencyms set case call underlying pipeline every frequencyms millisecond timelooptrigger call every timeunits offset example every hour start hour hour past start day every day etc cachingtrigger performs inference every millisecond example say per get querydata call block call functiondatadata subsequent query return cached value call next call immediately result another blocking call update cached value json format json format sequencepipeline graphpipeline something user supposed able understand edit potentially even write scratch desire also exception programming language independent sequencepipeline graphpipeline differentiated form step field list sequencepipeline objectmap graphpipeline simple extension idea noting asyncpipeline decorator pattern either asyncpipelinesequencepipeline asyncpipelinegraphpipeline either case simply add new field asynctrigger otherwise leave existing json format unchanged presence field mean asyncpipeline decorator alternative setting style instead decorator style sequencepipelinesettriggertrigger downside pipeline step implement loop execution caching functionality definitely ideal trigger set inferenceconfiguration doesnt serve nonserving case like example consequence advantage support case described beginning adr reasonably easily serving embedding pipeline program doesnt know anything looping caching etc etc design allows build general purpose pipeline image classifier object detector etc etc add control solves redundant execution inference latency problem pipeline relying exclusively videosensor type data external data disadvantage json format additional decorator like somethinglooppipelinesequencepipeline require rethinking additional fieldapproach however yet aware functionality case could make decoratorstyle design discussion originally proposed call looppipeline eventually settled asyncpipeline backgroundpipeline also proposed renamed looptrigger trigger decorating executor would probably make sense respect looppipelineexecutorsequencepipelineexecutor disadvantage come serialization specify executor config pipeline isnt ideal design point view setcallbackfunctionfunction defined json configuration wouldnt serialized json would set executor upon initialization trigger field excluding function json serializable another case come mind security camera maybe step type realtime streaming protocol rtsp onvif profile quiet popular idea would detect anomaly video stream reporting file database type output would additional step define reporting style alex originally thinking pollingbased via frame capture step sort external streaming setup trigger feed image periodically rather pipeline extracting image part execution would also work supported design