machinist factory machinist ruby library make easy create object test factory tend preferable fixture decided try switching machinist factorybot primary behind switching machinist unmaintained last commit master factorybot well maintained popular converted roughly dozen factory machinist factorybot starting leaf node object graph moved object association encountered increasing degree friction difference sequel activerecord handle association mean factorybot well suited activerecord association created placing foreign key one two record specifically record belongsto contains foreign key record hasone mean factory library create hasone record generate primary key create belongsto record foreign key usage sequel association mutual foreign key two record factory library create first record generate primary key association create second record primary key foreign key update first record foreign key createcreateupdate workflow tricky possible factorybot clean machinist ruby machinist appmodelblueprint name shamname space spacemake buildpacklifecycledata buildpacklifecycledatamodelmakeapp objectsave end factorybot factorybotdefine factory app alias appmodel class vcapcloudcontrollerappmodel name transient space end trait buildpack aftercreate app evaluator appbuildpacklifecycledata createbuildpacklifecycledata end end trait docker end aftercreate app evaluator appspace evaluatorspace evaluatorspace end end end reverted conversion commits remaining machinist switch maintained fork machinist turn people machinist consequence new team member learn machinist whereas rubyists would probably familiar factorybot longer state machinist factorybot converting