userdata provisioning snippet pending provisioning process terraform userdata script customise installation instance initialisation part customisation common project instance install puppet client apply package update add external disk etc moment nodegroup module take parameter default userdata script optionally accepts another parameter additional script appended default one weve adding common customisation default userdata script nodegroup module adding similar code additional userdata script within project module problem default userdata script nodegroup module becoming specific govuk repeating lot code additional userdata script add userdatasnippets directory root terraform directory part script concatenated create additional userdata script project variable accepts list part concatenated final script customised project userdata snippet live directory easily locate maintain provisioning script default userdata script nodegroup module generic probably header type script appending afterwards consequence adding little bit logic project code evaluate variable list snippet concatenate part additionaluserdata parameter passed nodegroup module snippet script numeric prefix make sure part concatenated right order