adr service scope jeremy well frederik krautwald proposal depreciated superceded definition function javascript function service function complete function take message messaging service topic name within messaging service service listen message message distributed topic listener command message indicating user action first task implementation required service function take command transforms data writes data firebase order make sure task know data change change broadcast another topic mean function two responsibility writing data broadcasting new message writing test service function showed mocking two target hard cause complexity single service receives command particular domain object make transformation writes firebase broadcast another topic pro service fast look service see everything happens con harder write test single service dual responsiblities change way data stored reflected many service service service recieve command domain object make transformation broadcast topic service read message particular topic write firebase pro service single responsibility testing easier firebase service reused con command take longer run service name business service repository service consequence business service receive command produce data never save data instead must rebroadcast change one many message topic repository service store data must rebroadcast stored data broadcasting repository topic synonymous storing data listener topic repository service must consider data stored repository service enters failure mode rule mean data sent repository topic still considered saved normal response failure mode fix reprocess existing message consequence service listens repository topic broadcast rely state underlying data store repository service