adr generalize genesis account changelog initial draft currently cosmos sdk allows custom account type auth keeper store type fulfilling account interface however auth handle exporting loading account tofrom genesis file done genaccounts handle one concrete account type baseaccount continuousvestingaccount delayedvestingaccount moduleaccount project desiring custom account say custom vesting account fork modify genaccounts summary unmarshal account interface type directly amino rather converting genaccountss genesisaccount type since remove majority genaccountss code merge genaccounts auth marshalled account stored auths genesis state detailed change unmarshal account directly amino auth module genesisstate gain new field account note arent type exportedaccount reason outlined section genesisstate auth state must provided genesis type genesisstate struct params params jsonparams yamlparams account genesisaccount jsonaccounts yamlaccounts auths initgenesis exportgenesis unmarshal account well defined params initgenesis init store state genesis data func initgenesisctx sdkcontext accountkeeper data genesisstate aksetparamsctx dataparams load account range dataaccounts acc aknewaccountctx set account number aksetaccountctx acc exportgenesis return genesisstate given keeper func exportgenesisctx sdkcontext accountkeeper genesisstate params akgetparamsctx var genaccounts exportedgenesisaccount akiterateaccountsctx funcaccount exportedaccount bool genaccount accountexportedgenesisaccount genaccounts appendgenaccounts genaccount return false return newgenesisstateparams genaccounts register custom account type auth codec auth codec must custom account type registered marshal follow pattern established gov proposal example custom account definition import authtypes cosmossdkioxauthtypes register module account type auth module codec decode module account stored genesis file func init authtypesregisteraccounttypecodecmoduleaccount cosmossdkmoduleaccount type moduleaccount struct auth codec definition var modulecdc codeclegacyamino func init modulecdc codecnewlegacyamino register module msg account interface leave codec unsealed registeraccounttypecodec register external account type defined another module internal modulecdc func registeraccounttypecodeco interface name string modulecdcregisterconcreteo name nil genesis validation custom account type module implement validategenesis method auth know account implementation account validate unmarshal account genesisaccount interface includes validate method type genesisaccount interface exportedaccount validate error auth validategenesis function becomes validategenesis performs basic validation auth genesis data returning error failed validation criterion func validategenesisdata genesisstate error validate params validate account addrmap makemapstringbool lendataaccounts acc range dataaccounts check duplicated account addrstr accgetaddressstring addrmapaddrstr return fmterrorfduplicate account found genesis state address addrstr addrmapaddrstr true check account specific validation err accvalidate err nil return fmterrorfinvalid account found genesis state address error addrstr errerror return nil move addgenesisaccount cli auth genaccounts module contains cli command add base vesting account genesis file moved auth leave project write command add custom account extensible cli handler similar gov could created worth complexity minor case update module vesting account new scheme module vesting account type minor update type registration auths codec shown validate method account concrete type proposed consequence positive custom account without needing fork genaccounts reduction line code negative neutral genaccounts module longer exists account genesis file stored account auth rather genaccounts module addgenesisaccount cli command auth reference