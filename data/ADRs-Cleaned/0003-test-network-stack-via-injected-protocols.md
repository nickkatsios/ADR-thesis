test network stack via injected protocol two main way testing networking stack introduce protocol wrap apple foundation type like urlsession urlsessiondatatask etc introduce stubbing library like ohhttpstubs leverage urlprotocol small bit swizzling allow json fixture data case approach appropriate even project weve decided opt protocolbased testing networking layer allows unitbased approach testing consequence unit testing fast dependent network great time also like assurance endtoend test weve opted include integration test suite actually hit network separate target run xcode potentially future