command event design author opqdonut macroz adr outline discussion event design implementing reviewerdecider invitation point feature able invite reviewer deciders email similar existing feature inviting application member email existing command event command invitemember produce event memberinvited command acceptinvitation produce memberjoined command requestreview produce reviewrequested command requestdecision produce decisionrequested design first implementation trying share decider reviewer invitation logic generic inviteactor command reuses existing acceptinvitation command reuse frontend backend route commit command inviteactor role decider role reviewer produce actorinvited command acceptinvitation produce actorjoined role decider role reviewer memberjoined event invitation member problem naming hard actor already overloaded term mean author event actorjoined event needed duplicate behaviour existing reviewrequested event design trying reuse even code reusing reviewrequested event commit command inviteactor role decider role reviewer produce actorinvited command acceptinvitation produce actorjoined role decider role reviewer produce reviewrequested decisionrequested benefit nice split responsibility event actorjoined mark invitation existing reviewrequested event granting reviewer right problem accepting invitation reviewrequested event trigger new potentially misleading notification email reviewer event log also bit confusing alice invited bob review bob invitation review alice requested review bob possible solution reword log message passive bob reviewer add sort notify false reviewrequested event prevent email possibly hide event list back design design discussion ended code sharing explicit api event structure commit bde command invitereviewer produce reviewerinvited command invitedecider produce deciderinvited command acceptinvitation produce reviewerjoined deciderjoined benefit consistent api requestreview invitereviewer requestdecision invitedecider reusing requestdecisionrequested event avoids pitfall event log email reusing acceptinvitation command make sense dont want multiple acceptinvitation url problem code duplication bot external consumer interested review request listen two event instead one discussion since rem command part public api make sense keep command large one command lot thing way user intent usually represented one command keeping frontend simple also since one command mean one database transaction see adr database transaction issuing single command safer issuing multiple command api usage also nicer often post single command however since command event decoupled could command produce multiple small event far rem favoured command producing one nongeneric large event event lot effect also command havent reused event example reviewrequested decisionrequested separate event way event explicit mirror user intent like command design attempt smaller decoupled event however immediately ran problem consuming event internally event log email generation would needed work perhaps best stick large event easily react user intent code instead trying recombine smaller event reproduce intent sending redundant email reminder however show internal event log user asis might make life harder future might reevaluate later