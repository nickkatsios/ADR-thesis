typeinterface destination proposal easy solution work major case destination type following scenario connectivity return type getdestination httpclient parameter executehttprequest definition destination look like interface destination mandatory key url string name string null type http ldap mail rfc however supporting destination type mail mandatory url key becomes problem mail destination save host url property destination make url optional obvious solution work pro con relatively low complexity non breaking destination designed common destination different type url mandatory theory therefore proper fix seamless update productive case destination object url key passed testing missing url detected compile time runtime validation already httpdestination maildestination destination connectivity package common destination specific destination like httpdestination maildestination created return type getdestination connectivity interface destination url string originalproperties key string type http ldap mail rfc parameter executehttprequest httpclient interface httpdestination extends destination url string type http parameter sendmail mailclient interface maildestination extends destination originalproperties key string mailsmtphost string type mail valid const destination error missing url key const httpdestination error wrong type const httpdestination url type mail vallid const httpdestination url error missing originalproperties key const maildestination error missing mailsmtphost key const maildestination originalproperties error wrong type const maildestination originalproperties mailsmtphost type http valid const maildestination originalproperties mailsmtphost pro con calling executehttprequest destination object compile time behaviour stay url checked sendmail key mailsmtphost breaking change code executehttpreqeustgetdestination possible getdestination know type httpmail compile time least medium complexity destination httpclient affected create new maildestination also keep destination connectivity httpclient package create new maildestination url maildestination optional mailsmtphost mandatory touch destination interface destination url string originalproperties key string make url optional mailsmtphost mandatory interface maildestination extends omitdestination url url string originalproperties key string mailsmtphost string error missing originalproperties key const maildestination error missing mailsmtphost key const maildestination originalproperties valid const maildestination originalproperties mailsmtphost pro con calling sendmail maildestination object key mailsmtphost checked destination connectivity httpclient package stay untouched non breaking change getdestination return destination cannot sendmail maildestination common destination different type actually httpdestination requires url