change endpoint pruning behavior related story prior story routeintegrity turned soon default prune route received retriable error code ensures two type error result prune hostname mismatch attempted non backend prune operation little user impact route get added next time routeregistrar run application still running prune route failure immediately consequently immediately pruning error final list includes following error attemptedtlswithnontlsbackend dial remotefailedcertcheck remotehandshakefailure hostnamemismatch untrustedcert also add logging case endpoint pruned consequence developer app flapping may start see new pattern followed series route reemitted logging introduced route pool pruning behavior giving operator view whether prune fail occurred error caused endpoint retry logic change