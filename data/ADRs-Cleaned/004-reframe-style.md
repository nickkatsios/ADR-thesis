reframe handler author hukka handling event sideeffects reframe architecture allows separation sideeffects event handler code way cofx input consists event vector event name parameter map coeffects output called effect effect common word event handler pure function coeffect map event vector effect map reframe suggests thing clojure avoid rfregeventfx sendrequestdecision key deciders applicationid comment requestdecisioneffect deciders applicationid comment second indirection rfregfx requestdecisioneffect deciders applicationid comment fetch apiapplicationsrequestdecision sideeffect params deciders deciders applicationid applicationid comment comment handler rfdispatch decisionresults actionbutton actionformid text text tactionsrequestdecision onclick rfdispatch sendrequestdecision first indirection listed reason cognitive load function later reader longer reason locally testing becomes difficult involves mocking test http get right url mocking mocked bad omen event replayability lost rem relatively simple spa found added indirection actually cause cognitive load find click handler find effect handler coeffects effect referred keywords jumping definition slower also necessarily colocated also unit testing event handler anyway part straightforward important logic split helper function easy test regular clojurescript test functionality furthermore havent time travelling debugger anything else benefit replayability therefore decided cause simple sideeffects fetching data backend directly within event handler therefore write handler like clojure rfregeventfx sendrequestdecision key deciders applicationid comment fetch apiapplicationsrequestdecision sideeffect without second indirection params deciders deciders applicationid applicationid comment comment handler rfdispatch decisionresults particular want mix sideeffects effect handler flow please avoid mixed model even confusing either solution clojure avoid rfregeventfx sendrequestdecision key deciders applicationid comment doanotherkindofsideeffect sideeffect without indirection requestdecisioneffect deciders applicationid comment sideeffect indirection handling user interaction component could also launch fetch directly component button onclick handler always dispatch reframe event consistency since quite often something else fire api call one common case set kind loading toggle turn show loading spinner data hasnt yet arrived usecases might setting purely internal state sorting moving page instead clojure avoid actionbutton actionformid text text tactionsrequestdecision onclick doafetch sideeffect write clojure actionbutton actionformid text text tactionsrequestdecision onclick rfdispatch sendrequestdecision indirection