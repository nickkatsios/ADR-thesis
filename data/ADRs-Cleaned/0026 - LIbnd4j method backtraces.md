function tracing ndj libndj code base implemented adam gibson discussed paul dub overview ndj libndj code base difficult debug due lack tool tracing program execution implemented function tracing finstrumentfunctions flag provided gcc trace function call exit code base feature help developer better understand flow program identify potential issue function tracing also work cuda long gcc underlying compiler enable function tracing enable function tracing follow step build code base dlibndjfunctraceon add correct compiler flag javacpp plugin add correct flag cmake build add maven profile ndj backend containing correct compiler flag work finstrumentfunctions build maven example maven build command cpu cuda backends respectively cpu backend mvn dlibndjfunctraceon pcpu clean install dskiptests cuda backend mvn dlibndjfunctraceon pcuda clean install dskiptests make sure necessary profile configured pomxml enable tracing respective backend implementation detail compiler flag following compiler flag enable function tracing bsymbolic bind reference global symbol link time reducing runtime overhead rdynamic export dynamic symbol dynamic symbol table making available backtracing fnoomitframepointer omit frame pointer allowing accurate backtraces fnooptimizesiblingcalls disable sibling call optimization maintain correct call stack finstrumentfunctions enable instrumentation function entry exit point enable debugging information set optimization level zero easier debugging setting output file implemented method backend set output file tracing result cpu backend following code java copy code ndjcpu ndjcpu ndjcpu nativeopsholdergetinstancegetdevicenativeops ndjcpusetinstrumentoutprofilerouttxt cuda backend following code java ndjcuda ndjcuda ndjcuda nativeopsholdergetinstancegetdevicenativeops ndjcudasetinstrumentoutprofilerouttxt call set appropriate file backend note dont put nativeops parent backend agnostic interface normally included build due overhead ldpreload lddebug ensure correct implementation enterexit function ldpreload utilized preload libndj binary generated build builtin libc implementation function noop preloading libndj binary necessary lddebug verify correct implementation showing symbol loaded origin sample log output bash copy code long end homeagibsoncccdocumentsgithubdeeplearningjlibndjblasbuildcpublaslibnd