cloudbuildyaml style feel specified cloudbuildyaml style identify different rule followed creating editing cloudbuildyaml file start file since cloudbuildyaml yaml file file always start every step make sure every step rule short clear title containing explanation step maximum character suffice word divided cannot explain step character add comment step explaining step avoid waitfor field try avoid waitfor field much possible since make sure step done order put cloudbuild empty line build step empty line build step increase readability order step following rule followed deciding order step cloudbuild first step cloudbuild always deployment data catalog subsequent step cloning necessary github repository cloud function permission set build step deployment cloud function scheduler deployed step schedule specific function also deployed cloud build step containing deployment scheduler deployed right step deploys permission cloud function chain test added make sure last step cloudbuild avoid ifelse statement based branch avoid ifelse statement based branch name build container always gcriogooglecomcloudsdktoolcloudsdklatest build container name field step different entrypoints container bash pipe bash entrypoint cloud build step one always pipe function call step function call done step command plus subcommand one line flag defined separate line one also long available becomes quiet gcloud entrypoint gcloud entrypoint bash instead call gcloud functionality cloud scheduler deletion deploying cloud scheduler old version scheduler first deleted redeployment one line command without bash entrypoint step one line bash entrypoint two way define step example step github repository cloned yaml name gcriogooglecomcloudsdktoolcloudsdklatest cloningrepository entrypoint git args clone branchgitbranch githubrepositoryurl yaml name gcriogooglecomcloudsdktoolcloudsdklatest cloningrepository entrypoint git args clone branchgitbranch githubrepositoryurl example yaml deploys function something name gcriogooglecomcloudsdktoolcloudsdklatest deployfunction entrypoint bash args gcloud function deploy functionfunc entrypointpythonentrypoint runtimepython triggerhttp projectprojectid regionregion maxinstances timeoutinteger setenvvarsenvenvironmentvar dir gitrepofunctionsfunction name gcriogooglecomcloudsdktoolcloudsdklatest deploypermissionsfunction entrypoint bash args gcloud function setiampolicy functionfunc regionregion projectproject permissionsjson consequence