frequency capping frequency capping allows content manager limit number impression interaction user content widely available tool publishing platform usually developed server side system decide many time serve content requesting user call global frequency capping additionally system may able limit number impression per user call local user frequency capping example content piece set global impression impression per user thus indirectly driving different user content functionality lacking snippet service due technical limitation imposed way metric collected content selection handled client side latest development firefox messaging center firefox telemetry pipeline unblock capability decide implement frequency capping functionality platform allow content manager limit number impression click block per job local user frequency capping handled browser level firefox messaging platform later support impression frequency capping snippet service provide interface content manager set upper limit number impression job get per hour day week fortnight month complete browser profile lifetime information included json generated job global frequency capping snippet service provide interface content manager set limit total worldwide number impression click block per job snippet service query mozillas redash telemetry data every ten minute fetch current impression click block job set limit reported number exceed set limit job marked complete pulled bundle next run updatejobs cron job frequency capping functionality additional publishing control therefore job end specific time global frequency capping limit met monitoring handling error since global frequency capping depends external system metric redash telemetry possible latest number always available snippet service make case include scheduled unplanned service interruption network error coordination snippet content owner decided case snippet service cannot get latest number hour job global frequency capping get canceled cancellation reason state job prematurely terminated due missing metric cron job responsible fetching data telemetry monitored dead man snitch consequence adr implemented snippet service support global local frequency capping current implementation global frequency capping set limit due four hour interval browser update bundle time needed browser report telemetry telemetry pipeline make data available consumption snippet service calculated discussed snippet content manager agreed even excess set limit acceptable number may reevaluated content manager switch functionality instead setting start end datetime limit excess percentage limited bringing interval browser update browser request bundle every one hour without significant change infrastructure supporting snippet service additional cost cdn traffic active kubernetes pod change decided coordination content manager requested local capping affected limitation set limit related snippet telemetry bug httpsbugzillamozillaorgshowbugcgiid