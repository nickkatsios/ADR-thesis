cqrs api guideline prestashop new api built powered apiplatform based command cqrs define convention path format apiplatform resource class mostly follow rest convention useful write clearly thing avoid confusion later convention uri path parameter convention base naming domain cqrs usually match objectmodel entity name well prestashopprestashopcoredomain example hook domain prestashopprestashopcoredomainhook apiplatform resource class prestashopbundleapiplatformresourceshook uri convention domain word base uri single entity apis singular form list return collection plural identifier related one entity domain name suffixed hook hookid list apiplatformmetadatagetcollection hook one hook endpoint apiplatformmetadataget hookhookid apis sub part larger entity whether display related entity small part big entity keep initial domain name beginning uri append definition sub part separated sub part identified entity complete initial uri path append sub part entity sub part action name compound name kebab case convention example hook sub part hookhookidstatus search action product productssearch product combination sub part productproductidcombinations assign product category action productproductidassigntocategory set product carrier set sub part productproductidcarriers attribute group list attributegroups attribute group associated value list sub part attributegroupattributegroupidattributes multilang entity prestashop multilang value like product name category description data must presented api endpoint single entity endpoint return language associative array indexed language localizednames english name nom franais list entity return one language multilang field returned string name english name language default default language configured shop specify langid query parameter fetch another language value allow knowing association language language language endpoint accessible without needed permission http method read operation get method creation operation post method without specified update partial andor full operation put method put productproductid delete operation delete method delete productproductid bulk operation similar convention list domain append end bulk delete product method delete product productids parameter request body array product bulk duplicate product method post productsduplicate productids parameter request body array product bulk update method put productsupdatestatus productids parameter request body array product cqrs mapping providersprocessors implemented helper automatically transform submitted data api cqrs queriescommands match convention parameter api request must match field cqrs command constructor parameter andor setter method exception entity must always naming entityid related commandquery parameter doesnt match well handle custom mapping uri format respect convention example command prestashopprestashopcoredomaincustomergroupcommandaddcustomergroupcommand command field localizednames string reductionpercent decimalnumber displaypricetaxexcluded bool showprice bool shopids shopid post parameter localizednames string reductionpercent float displaypricetaxexcluded bool showprice bool shopids int scope name convention core api module wish define api free convention scope entity domain name singular form append action whole string written snake case scope supposed represent single authorized action basic example order read operation orderread order write operation orderwrite future may define detailed sub scope follow similar convention example order update address orderupdateaddress order create invoice ordercreateinvoice