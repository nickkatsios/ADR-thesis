choosing nested directory schema proposed problem statement nnts support nested directory every organization best schemadatabase represent nested structure driver ease operation view directory org get immediate parentchild directory add directory another directory parent movedelete directory inherited permission directory future migration data nnts case readheavy writeheavy case looking immediate parentchild relationship case inherited permission query become complicated considered directory structure represnted json within org schema adjacency tree relational database application layer extracting directory structure postgres ltree extension nested set model relational database closure table directory materialized path neoj graph database outcome chosen adjacency tree calculation tree json application layer best readwrite query immediate parentchild directory positive consequence query one level directory quite fast type relational database negative consequence make sure going parent child row tree json efficient fast pro con directory structure org json organization schema bad user make sure every write updating json correctly bad database inherent structure stored text good get directory org short query bad finding immediate parent child relationship involve going full map adjacency tree tree formation application layer good addeditmovedelete done seamlessly without issue bad read query try get tree sql layer good read query calculating tree structure application layer bad implement noncyclic tree constraint postgres ltree good ease query bad missing node doesnt strictly follow tree convention bad postgres specific extension bad supported honeysql atm materialized path store full path every node represent structure good query containing path root bad query containing partial path starting root full index case nested set model mptt good read query especially getting subtrees node bad write query node updated lftrgt index closure table keeping relationship separate table content table good getting full data time want structure bad even immediate parent child query require asking two table neoj bad additional database simple spa