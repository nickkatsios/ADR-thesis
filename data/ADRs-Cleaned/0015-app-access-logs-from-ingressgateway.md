app access log ingressgateway log app show log emitted app access log gorouter access log gorouter look like logstream sourcetypeinstanceid log cfforks app developer similarly able see access log request app travel routing tier one discussion whether access log come ingressgateway envoy andor app sidecar envoy one important piece functionality cfforbosh app process killed healthcheck request still show access log stream request still make gorouter even though make app example access log healthcheck request killed app returned directly gorouter rtr doramaximumpurplecfappcom get health http curl xforwardedfor xforwardedprotohttp vcaprequestidcdfcdeeeaacabe responsetime goroutertime appidebdedcbbbfbd appindex xbtraceidfccfcfcc xbspanidfccfcfcc xbparentspanid bfccfcfccfccfcfcc weve done previous work exploring access log istio envoy ingressgateway see related story section documented field decided access log come ingressgateway begin think provide valuable information imagine scenario app crashed pod rescheduled envoy ingressgateway still log failed request sidecar hand would unreachable would able log anything failed request access log scenario could valuable information developer attempting debug app log also decided access log format would json following field work enable completed consequence order enable added fluentbit sidecar ingressgateways information decided add fluentbit image found draft final iteration merged extra work get log ingressgateway pod log stream corresponding destination app see httpsgithubcomcloudfoundrycfksloggingtreemainexamplesforwarderfluentbit information unclear difficult would add custom formatting sidecar envoy log know ingressgateway log may revisit sidecar log later want access log containertocontainer networking doesnt exist bosh today related story additional story team worked past emit json ingres gateway access log adding field access log gorouter parity explore emitting ingres gateway access log fluentd