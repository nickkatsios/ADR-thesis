split terraform configuration engineer team want code change built real environment development aws account work evaluated evaluation includes automated user acceptance testing evaluation finished possible destroy environment retaining important artifact data log example possible host multiple environment development aws account terraform configuration identify manage separately resource account level resource environment level account level resource bucket log default vpc networking environment level resource cluster dns route load balancer enable terraform workspace contain environment completely built destroyed simply account level resource remain place environment destroyed name spacing github number first character branch name namespace environment resource example dns record created environment namespace httpsviewumluseanlpaopgservicejusticegovuk cluster named umluseanlpa environment lifecycle environment built opened evaluation complete envirnoment destroyed begin pipeline print instruction destroying environment later destroying environment automated scheduled maximum life span day two cicd pipeline terraform step pipeline always first provision account level shared resource provision environment level resource consequence new account level resource required environment must created terraformshared configuration terraformenvironment configuration data source lead duplication sometimes additional complexity split configuration allow reuse resource default vpc resource costly persist log outside environment lifecycles enable developer work side side application change consistent automated test