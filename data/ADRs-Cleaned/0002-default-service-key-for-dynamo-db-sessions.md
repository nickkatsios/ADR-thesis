default service key dynamo session encryption key frontend user session provided environment variable cycled every release resulted one incident losing syncronisation causing error user service scale scale aws owned customer master key session dynamo table encrypt session token push encryption key container table name refundssessionsfront refundssessionscaseworkerfront consequence aws owned cmk opposed aws managed cmk mean level audit trail dynamodb encryption within cloudtrail release process simpler prone config drift config management salt reduced application code updated default service key key provided config management people involved matt machell andrew pearce richard mchale neil smith signed matt machell joel samuel moj consulted