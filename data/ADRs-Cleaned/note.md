oklogingeststoregossip storesizetimerstore pkgcluster memberlist gossipgomemberlist demodelegate oklog ingeststoregossip ingeststorepeertypeingestpeertypestorepeertypeingeststore peercurrentpeertype func calculateadvertiseipbindhost advertisehost string resolver resolver logger loglogger netip error gossipipip params bindhost string advertisehost string advertisehostbindhost peersgogossipipport gossipstoreingest pkgfs oklognopvirtualrealfilesystem file releaser nopoklogvirtualreal real pkgingest interfacestructmethod loggo log interface logsegmentsegmentsegment writesegment interface iowriter syncfs file readsegment interface ioreader commitpendingsegment pendingsegment size logstats struct apigo httppending mapsegment commit failed next read ingest ingestgroupgoroutine next nextlog interfaceoldestreadsegmentpending map read readpending mapkeyidreadsegmentreadtrue commit commitpending mapkeyidreadsegmentcommit size fail failpending mapkeyidreadsegmentfailed conngo connectionmanager struct forwardactive map nwriterlog writergo writer struct fsvitual nop realsegmentsizesegment fileloggo filelog struct log interface filereadsegment struct readsegment interface commit failed readsize filewritesegment struct writesegment interface close delete sync write pkgstore interfacestructmethod fileloggo filelog struct filelogsegment create query close stats overlapping purgeabletrashed squentialsegment trashableflushedtrashed querymatchingsegments querysegmentioreadercloser contains choosefirstsequential segmentsegment recoversegments activereadingflushed recordfilterplain query recordfilterregex query recordfilterboundedplain query recordfilterboundedregex query filewritesegment struct writecloseflushed delete filereadsegment struct readresetflushed trashedtrashed purge filetrashsegment struct purge segmentinfo struct basename modifyextension parsefilename lowhigh storelowulidhighulidactive reading flushed trashed lowulidhighulid segmentparseerror struct error apigo clusterpeer interface doer interface httpdo api struct clusterpeer queryclientstreamclient log apiclose apiservehttp dispatchqueryhandleuserquery query stream stream replicate clusterstate apihandleuserquery storegossipquerystore readerresponsewriter apihandleinternalquery fileloggoquery apihandleuserstream storestreamstoreclient apihandleinternalstream client apihandlereplicate segmentrequestbodyuuidactive apihandleclusterstate gossip interceptingwriter struct responsewriter writeheader flush teerecords segmentreaderwriter readgo mergerecordstolog mergerecords newqueryreadcloser recordfilterioreadcloser mergereadcloser struct ioreadcloser segment iocloser bufioscanner bool record byte byterecordsreadsegmentrecordidrecordulid mergereadcloserread mergereadcloserid idrecordidreadsegmengmergereadcloser read mergereadclosercloseioreadcloser mergereadcloseradvance indexreadsegmentmergereadcloseridindexrecordsindex newmergereadcloser mergereadcloserreadsegmentrecordidrecordsids batchsegments segment makeconcurrentfilteringreadclosers readsegmentnewconcurrentfilteringreadclosersegmentrecordfilterioreadcloser newconcurrentfilteringreadcloser readsegmentrecordfilter scanioreadcloser compactgo compact struct logsegmenttargetsize compactrungroupgoroutine segment compactcompactkindmergerecordstologkindsegment segmentsegment compactmovetotrash retainhigh trashed compactemptytrash purgehightrashed consumego ingestersstate machinegather segment replicate commit repeat consume structpeer pullingestclient size map pending active buffer consumerungroupstategather consumegather mergerecords mergerecordstolog consumereplicate peertypestorepeerstorestoreforconsumeactive bufferhttpstore consumecommit consumeresetviacommit consumefail consumeresetviafailed consumeresetvia commitfailed gatherpendingingestid httpingestgoroutine consumepending active buffer eventgo eventreporter interface reporteventevent store event structdebug file error warning msg logreporter struct reporteventeventreporter gokitkitlog loggo log interface storecreatestore query overlappingflushed sequential trashable purgeabletrashed statsactivependingflushedtrashedsizeclose writesegment interface iowriter interface close delete readsegment interfaceioreader interface reset trash purge trashsegment interface purge logstats struct activesegments activebytes flushedsegments flushedbytes readingsegmentsreadingbytestrashedsegmentstrashedbytes overlapgooverlap querygo queryparams struct toq regex queryparamsdecodefrom urlfromtoqregex ulidortime structulidulidtimetime fromtoulidtime ulidortimeparsefromto ulidtimerfcnano queryresult struct queryparamsnodesqueried segmentsqueried maxdatasetsizesize errorcount durationrecordsioreader queryresultencodetoqueryresultresponsewriter queryresultdecodefromresponsewriterqueryresultqueryresulthttphttpheaderxoklogfrom xoklogmaxdatasetsize queryresultmergequeryresult ioreadcloserbuffer queryresultrecords bufferioreadcloserbufferqueryresultrecords iocloserionopcloser queryregistrygostream queryregistry struct mutex chanmapchannel queryregistryregister queryregistryclosechanmap queryregistrymatch readcloser struct ioreaderiocloser newmultireadcloser ioreadcloserioreadcloser multicloser iocloser close multicloseerror error errorerrorerrorstring scanlinespreservenewline scansplitfunc pkgstream interfacestructmethod deduplicatego client deduplicate btree dedupe structbtreeinsertremove type item byte btree recordulid dedupeinsertrecord deduperemoveulidbtreeulid streamgo execute peertypestorestore storehttpchannel sink updateactive storeclusterpeertypestorestorecontextcancel readuntilcanceled storechannelcontext sleepsecond readonce bufioscannerchannel httpreadcloserfactory storehttp mergerecordstolog log segmenttargetsize ioreader readersreadersscanrecordidulidnew logsegmenttargetsize reader lowhighflushed lowidhighid advance consumegather ingestactive buffersizereplicate peertypeingestpeeringest ingest ingesthttpingestid ingestidhttpingestidid mergerecordsrespbodyactive buffer active bufferagereplicate mergerecords iowriter ioreader mergerecordstologmergerecordsioreaderiowriteriowriterlowhighid queryregistrymatch match queryregistryregisterrecordfiltermatch channel newqueryreadcloser filesystem readsegment recordfilter bufsz ioreadcloser readsegmentrecordfilterioreadcloser readsegment readsegment groupreadsegmentrecordfilter ioreadcloser group mergereadcloser struct ioreadercloser newmultireadcloserioreadcloserioreadcloser ioreadcloserquery