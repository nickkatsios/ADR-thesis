online patient lookup proposed want ensure patient medical record within state always available nurse treatment connected internet see related prd detail feature related specification lookup new api server mobile app call following aspect problem addressed adr api contract data retention access restriction audit logging rate limiting data retention two broad kind data retention app facility permanent patient within sync criterion block appointment assigned facility temporary patient within sync criterion order better control retention send information retention type server also send retention duration second static number begin later vary depending state country factor see api contract detail implement temporary retention app feature every patient retrieved via lookup api store time record retained retention type temporary retainuntil synctime retention duration sync happens every minute delete record retained temporarily passed retention time period retainuntil temporary record synced via sync api retention type set permanent treat manual automatic syncs way configure retention period suit showing patient recent list etc alternatively choose hardcode retention period app api contract request endpoint get httpsapisimpleorgapivpatientsidentifier identifier valid patient business identifier type identifier specified request client might able discern type identifier might exist across different type passport nhid future type response return list patient identifer note possible single patient identifier response contract similar api passport app patient fecabfebcbbbbaf fullname string age gender male active recordedat reminderconsent granted phonenumbers address registrationfacility medicalhistory bloodpressures bloodsugars appointment medication businessidentifiers retention type temporary permanent durationseconds api timeout android app prevent delay patient care alternatively could prefix disambiguate passport app lookup api clearly access restriction access api restricted state user registered trying lookup patient resides outside state return patient travelled across state record state corresponding identifier patient belonging requesting user state returned api audit logging similar sync api create lookup audit log successful lookup performed api separate sync audit log since looking specific patient conceptually different fetching block patient following field userid userid facilityid currentfacilityid identifier identifier patientids patientid time timecurrent alternatively try repurpose existing audit log capturing information rate limiting currently rate limit authentication endpoint rackattack api see relevant section prd rationale chosen rate limiting configuration consequence synchronous request server patient care hour server going minute consequence number duplicate registration could potentially reduce memory footprint app retention period nonlookup usecases could repurpose temporary retention app implement access restricted time future needed