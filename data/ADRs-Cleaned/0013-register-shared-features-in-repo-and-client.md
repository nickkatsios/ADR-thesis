register shared feature repo client adr part wikibase needed wikibaserepo wikibaseclient extension include php code autoloaded mediawiki hook resourceloader module message currently made available repo client stored separate third extension named wikibaselib extension grown time become incoherent adding code functionality shared repo client developer see obvious place put result continued growth increased lack structure solution considered rejected registering shared feature client making repo depend client appears general logical flow data give impression tighter coupling keeping lib extension trying keep structure defined still leaf place future developer may tempted dump shared logic stop registering wikibaselib separate extension part needed either wikibase client repo registered client repo extensionjson part encompass autoloaded php code mediawiki hook resourceloader module message consequence new shared code longer placed lib directory discouraged new code added existing code modified lib depends client repo add test help enforce future shared code distributed composer package anticipated shared message may remain jointly registered client repo extensionjson duplicate registration wikibaselib hook may challenging try refactor order either remove make joint registration possible