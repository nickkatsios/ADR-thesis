testing proposed one benefit writing infrastructure fully fledged programming language ability write reusable component tested library defines component form construct pattern see constructsandpatterns detail two main strategy unit test component snapshot test synthesise given stack compare output previous version verified user checked repository change test fails user displayed diff either fix update stored snapshot quick easy write pick change output cloudformation particularly useful unintended side effect change component may cause many unrelated test also fail testing different permutation component number snapshot created contains certain amount information irrelevant particular test add extra effort understand relevant test youre looking snapshot easy update especially multiple affected change make easy accidentally update incorrectly snapshot essentially assertion stored different file immediately obvious assertion valid direct assertion different assertion provided test framework test specific functionality example asserting property exists array contains particular value test contains relevant assertion test making easier understand consequence setting certain prop change fail test cover particular area complex time consuming write position snapshot everything direct assertion everything combination everything direct assertion construct snapshot pattern stack direct assertion construct snapshot pattern stack recommendation general approach may case different approach applicable given test consequence haivng consistent style test make easier decide test component approach ensure unit test provide good coverage whilst easy understand maintain direct assertion test time consuming complex write snapshot create additional work