launcher auto update process author seph directionless march superseded version one feature launcher ability securely update osquery unix implementation straightforward exec implementation however window exec adr document current implementation solution window new software version distributed update framework tuf client library built inhouse launcher periodically check new update new version detected downloaded staging directory running binary replaced code found autoupdatego unix launcher call syscallexec replace current executable without new process new binary code found updatergo window variation two needed change window first window support replacing running binary disk attempting result permission denied error workaround rename old version place new one correct location drawback losing atomicity second window support exec instead exit launcher assume service manager restart empirically start new binary configured path exiting launcher hard navigate thing inside tuf buried deep routine simple returning error isnt enough could call osexit seems abrupt instead plumb signal channel signal osinterrupt note signal posix sense constant sent channel example code example service exploring mechanism see code comment discussion consequence one consequence approach installed file updated place new binary verified launcher may look like corruption packaging system update process window based service manager restarting service dont believe there downside increase restart count due implementation limitation wix shortest recovery period day due nature update process update depend command line flag change require reinstallation launcher handled outside update process act moving new binary running old one unix result running binary longer disk trigger notice monitoring software example osquery