adr modular validation upcoming notaryv similar project like cosign opportunity connaisseur arises support multiple signing mechanism combine single validation tool work internal validation mechanism connaisseur modular easily swap different method considered configuration change choice obviously change made configuration connaisseur split change previous notary configuration image policy notary configuration notaryv trust data always resided notary server connaisseur needed url authentication credential etc isnt true anymore notaryv cosign connaisseur may data meaning configuration dependent type validation method also mechanism digest whitelisting doesnt even include cryptographic material might considered future structure previous notary section valuesyaml change validators different validation method validators defined least required field validator name later referencing type knowing correct kind yaml validators name dockerhubnv type notaryv name harbornv type notaryv host notaryharborio rootkeys name default key name cosign type cosign depending type additional field might required notaryv type requires host rootkeys field json schema validation work easily handle various configuration based type going structure due lack alternative provides needed information flexibility multiple validation method needed sensitive value allow multiple validators may contain different form sensitive value notary credential symmetric key service principal properly handled within helm chart respect configmaps secret currently distinction hardcoded add optional sensitivefields field validator config top level sensitive value handled helm chart secret value treated public configmap advantage generic configuration could potential plugin validators data properly handled potential future hard forget configuration newly implemented validators disadvantage implemented config mergesecret configmap way might allow sensitive value configmap connaisseur still working hardcode sensitive value based validator type advantage strict validation field without extra work disadvantage helm chart change might forgotten new validator helm chart release required new validator natively allow plugins going hard code sensitive field prevent user misconfigure accidentally sensitive part configmaps image policy image policy similar change notary configuration made proposition previous notary field image policy changed validator referencing name field one item validators list additional field required delegation role notaryv validator given field look similar yaml policy pattern dockerharborio validator harbornv key default delegation lou max pattern dockerio validator dockerhubnv besides self configured validator two additional validators available allow deny allow validator allow image deny validator deny anything advantage powerful verify flag explicit deny disadvantage config change user stick current verify flag advantage config known current user disadvantage explicit deny going dont additional field offer powerful configuration validator given default deny validator advantage easy disadvantage explicit require validator policy config advantage explicit configuration accidental denying image disadvantage going reduces configurational effort consistent key selection behavior validators allow deny purely internal additional validator named allow deny advantage configurational effort disadvantage bit obscure user allow deny validator added default configuration type static extra argument name discussion specifies whether everything denied allowed yaml validators name allow type static approve true name deny type static approve false advantage obscurity user dont delete disadvantage bigger config file going favor obscurity bigger configurational effort validator interface choice see validator interface validation return json patch digest validatorvalidate creates json patch request hence different validators might make change addition transforming tag digest advantage flexibility future disadvantage open door change core connaisseur functionality validatorvalidate return digest connaisseur digest standardized way create json patch request advantage code duplication stay core feature translating input data trusted digest disadvantage allowing additional change would require additional work wanted allow future going current upcoming validation method return digest