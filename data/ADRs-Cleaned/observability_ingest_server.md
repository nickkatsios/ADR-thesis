observability ingest server observability ingest server accepts log trace launcher authentication exporting trace log mermaid sequencediagram participant control server box launcher participant control service participant agent flag subsystem participant auth token subsystem participant trace exporter end participant agent collector loop config generation control server control server generate jwt ttl hour control service control server perform regular check see subsystem data changed control server control service return config including jwt end opt ingest url update control service agent flag subsystem perform update agent flag subsystem trace exporter notify url changed trace exporter trace exporter init new exporter new ingest url end opt token update control service auth token subsystem perform update auth token subsystem auth token subsystem store new token control service trace exporter ping trace exporter auth token subsystem fetch new token trace exporter trace exporter replace token export end trace exporter agent collector send trace bearer auth header stored ingest url agent collector agent collector validate jwt agent collector agent collector process store trace