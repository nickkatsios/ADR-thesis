implement tosca parser user story abstract eclipse winery project provides winery yaml parser reuse parser implement first integrated winery parser toscana however weve quickly realized resulting data structure tservicetemplate felt inconvenient obvious reason data structure designed around tosca syntax winery modelling tool tosca around semantics example data access typesafe much casting made handling tservicetemplate addition tosca symbolic name resolved rolled data structure mainly quite simple pojos named effectivemodel whose design focused semantics template additionally built converter convert tservicetemplate effectivemodel however trying implement automatic resolving tosca intrinsic function like getattribte soon realized single graph backbone effectivemodel otherwise keeping model sync arbitrary linked data would least hack worst mess pojos would access graph store value vision servicegraph born point christmas felt current workflow kind complicated first force yaml structure basically graph shape tservicetemplate afterwards construct graph wouldnt much simpler directly snakeyaml tool winery internally parse yaml template directly populate servicegraph note point servicegraph logic would convert tservicetemplate servicegraph yet implemented considered alternative winery yaml parser implement parser outcome chosen alternative implement parser come best see tough retrospective ditching conversion code adding custom parser implementing aspect related effectivemodel servicegraph ended smaller code base turned parsing template done loc handling short notation took loc note still winery parser syntax validation parser pro con alternative winery yaml parser parsing logic already implemented though converter logic still get written already support handling short extended notation variant tosca syntax visitor builder pattern make winery parser inconvenient work winery parser well tested back january occuring bug would require deep dive undocumented foreign codebase tservicetemplate could change future revision winery lean interface implement parser quite effort hard estimate hard really maybe harder think miss aspect get rid converter logic code always better