title medium path rewrite area core tag medium url strategy current medium system possible configure different shopwarecorecontentmediapathnamepathnamestrategypathnamestrategyinterface strategy store file uploaded medium entity certain path configured strategy also generate url frontendstore api embed file generation url currently triggered event subscriber registered medialoaded event generating url implementation urlgeneratorinterface php interface urlgeneratorinterface public function getabsolutemediaurlmediaentity medium string public function getrelativemediaurlmediaentity medium string public function getabsolutethumbnailurlmediaentity medium mediathumbnailentity thumbnail string public function getrelativethumbnailurlmediaentity medium mediathumbnailentity thumbnail string interface pathnamestrategyinterface public function getname string generate hash missing url omitted public function generatepathhashmediaentity medium mediathumbnailentity thumbnail null string generate cache buster part path missing url omitted public function generatepathcachebustermediaentity medium mediathumbnailentity thumbnail null string generate filename public function generatephysicalfilenamemediaentity medium mediathumbnailentity thumbnail null string issue pathnamestrategyinterface well urlgeneratorinterface dependency dal always fully loaded entity generate url big overhead consider data currently needed url generation end medium upload must always done via shopware application folder structure stored file system generated url match conditionally possible upload medium directly cdn without uploading file via shopware stack theory strategy must never reconfigured file uploaded file uploaded footestjpg strategy changed one would place file bartestjpg new strategy take effect url generated file never moved filesystem current strategy called cache busting system uploadedat value included file path however work url statically included replacing medium file always lead new file path image longer reached old file path address issue listed make following change system file path saved directly medium entity thumbnail file uploaded way dont access strategy generating url might changed meantime allow change file path via api write directly creating entity way file synchronized directly external storage path changed entity given import generate strategy new location structs easily created via service remove dependency dal generate file path generating url implement new service operated without entity url generation resource efficient done without fully loaded entity new url generator new cache busting system writes updated timestamp medium entity query parameter url way file path remain even file updated change entity meta data also result new url promise backwards compatibility take following measure old url generator still generates url old strategy new url generator generates url based mediaentitypath project specific strategy must migrated new pattern provide bcstrategy convert new format old format easy transition major make possible always mediaentitypath relative path realize via entity loaded subscriber generates value runtime via url generator writes path property consequence resource generate absolute medium url generate url even without fully loaded entity strategy changed time without moving file file system load file directly external storage adjust path entity remove dependency dal strategy url generator example php namespace example shopwarecorecontentmediacoreapplicationabstractmediaurlgeneratoruse shopwarecorecontentmediacoreparamsurlparamsuse shopwarecorecontentmediamediacollectionuse shopwarecorecontentmediamediaentityuse shopwarecorecontentmediapathnameurlgeneratorinterface class beforechange private urlgeneratorinterface urlgenerator public function foomediaentity medium relative thisurlgeneratorgetrelativemediaurlmedia absolute thisurlgeneratorgetabsolutemediaurlmedia public function barmediathumbnailentity thumbnail relative thisurlgeneratorgetrelativethumbnailurlthumbnail absolute thisurlgeneratorgetabsolutethumbnailurlthumbnail class afterchange private abstractmediaurlgenerator generator public function foomediaentity medium relative mediagetpath url thisgeneratorgenerateurlparamsfrommediamedia absolute url public function barmediathumbnailentity thumbnail relative directly stored entity relative thumbnailgetpath path generation entity related could also partial entity loading also call batch see url thisgeneratorgenerateurlparamsfrommediamedia absolute url public function batchmediacollection collection params foreach collection medium paramsmediagetid urlparamsfrommediamedia foreach mediagetthumbnails thumbnail paramsthumbnailgetid urlparamsfromthumbnailthumbnail url thisgeneratorgeneratepaths url flat list url medium also thumbnail class forwardcompatible forward compatible featureisactivev function public function foomediaentity entity provide entity loaded subscriber assigns url urlgeneratorinterfacegetrelativemediaurl path property till always relative url mediaentitypath proprerty path entitygetpath featureisactivev new generator call absolute url else old generator call absolute url