adr composite run step customer want able compose action action httpsgithubcomactionsrunnerissues important step towards meeting goal build functionality action user simply execute number step guiding principle dont want workflow author know internal working action work user shouldnt know internal working composite action example defaultshell defaultworkingdir inherited workflow file action file deciding design certain part composite run step want treat one logical step consumer composite action treated one individual job step known encapsulation adr support running multiple run step action build support mapping flowing input output env variable nested step access parent input variable nested step overwrite input variable composite run step feature feature support top action level name description input run output feature support run step level name run env shell workingdirectory feature support run step level timeoutminutes secret conditionals etc continueonerror step example workflowyml yaml job build runson selfhosted step step actionssetuppythonv step actionssetupnodev actionscheckoutv usercompositev name workflow step run echo hello world name workflow step run echo hello world example usercompositeactionyml yaml run composite step run pip install requirementstxt shell bash run npm install shell bash example output yaml npm installation output pip requirement output echo hello world echo hello world add token called composite allows runner code process composite action invoking composite runner code process step attribute convert template code list step finally run run step sequentially step fails condition defined whole composite action job fails default support default composite action shell workingdirectory run step composite action action author set shell workingdirectory attribute step shell attribute required run step action author know workflow author operating system explicitly prevent unknown behavior making sure run step explicit shell set action author hand workingdirectory optional moreover composite action author map value input shell workingdirectory attribute step level action example actionyml yaml input shell description name default pwsh step run echo shell inputsshell note workflow file action file treated separate entity workflow default never change shell workingdirectory value run step composite action note default workflow apply run step step step action running local script example workflowyml yaml job build runson selfhosted step usercompositev example usercompositeactionyml yaml run composite step run chmod githubactionpath testscriptsh shell bash run chmod githubactionpathscriptsh shell bash run githubactionpath testscriptsh shell bash run githubactionpathscriptsh shell bash usercomposite file structure actionyml scriptsh test scriptsh user able run script located action folder first prepending relative path script name githubactionpath githubactionpath contains path composite action downloaded file live note youll chmod running script git check script file github repo executable bit turned input example workflowyml yaml step foo usercompositev yourname octocat example usercompositeactionyml yaml input yourname description name default ethan run composite step run echo hello inputsyourname shell bash example output hello octocat input variable composite action viewable scope output example workflowyml yaml step foo usercompositev run echo randomnumber stepsfoooutputsrandomnumber shell bash example usercompositeactionyml yaml output randomnumber description random number value stepsrandomnumbergeneratoroutputsrandomid run composite step randomnumbergenerator run echo setoutput namerandomidecho random shell bash example output setoutput namemyoutput randomnumber output variable composite action viewable workflow file composite action word every child action output viewable parent dot notation stepsfoooutputsrandomnumber moreover output accessible within scope defined note example workflowyml file access output randomid reason dont want require workflow author know internal working composite action similar workflow file composite action access object github env strategy environment composite action youll able setenv set environment variable like could action secret support secret composite action functionality focused future adr well pas secret composite action parent workflow file composite action secret created composite action secret action yaml well automatically mask secret ifcondition condition supported composite run step feature supported later new feature old reasoning example workflowyml yaml step run exit usercompositev run marked always running always example usercompositeactionyml yaml run composite step run echo succeeding shell bash run echo run current scope succeeding shell bash success run exit shell bash run echo run current scope failing shell bash support ifcondition composite action functionality focused future adr see paragraph rudimentary approach thank cybojenix idea example explanation approach statement parent example workflowyml show whether run composite action composite action run since condition running composite action always note ifcondition parent propagate rest child though child action example actionyml start clean slate word imposing ifconditions similar logic paragraph echo run current scope succeeding run since condition check previous step within composite action failed run echo run current scope failing run since previous step resulted error default expression set success ifcondition set step step cancelled opposite approach cancelled composite run step cancel step condition workflow cancelled timeoutminutes example workflowyml yaml step bar usertestv timeoutminutes example usercompositeactionyml yaml run composite step foo run echo test timeoutminutes shell bash foo run echo test shell bash foo run echo test timeoutminutes shell bash support timeoutminutes composite action functionality focused future adr composite action entirety job set timeoutminutes whole composite action step long sum timeoutminutes composite action step attribute timeoutminutes equal timeoutminutes composite action default timeoutminutes composite action step time taken step combination individually exceeds whole composite action timeoutminutes attribute whole job fail individual step exceeds timeoutminutes attribute total time including step overall composite action timeoutminutes individual step fail rest step run based timeoutminutes attribute still abide condition though reference example composite step foo take minute run step fail rest step foo foo proceed long total runtime previous failed foo action composite action timeoutminutes minute composite step foo take minute run cause whole composite action job fail rationale behind user configure step condition conditionally set step rely due additional capability offered combining timeoutminutes andor wanted timeoutminutes condition dumb possible affect step usage limit still apply continueonerror example workflowyml yaml step run exit bar usertestv continueonerror false foo run echo hello world step run example usercompositeactionyml yaml run composite step run exit continueonerror true shell bash run echo hello world step run shell bash support continueonerror composite action functionality focused future adr step fail composite action continueonerror set false whole composite action step workflow file step run flip side continueonerror set true whole composite action step workflow file next job step run composite action step follows logic example hello world outputted previous step continueonerror set true although previous step errored visualizing composite action github action want composite action step condensed original composite action node visual representation first example yaml compositeactionnode echo hello world echo hello world echo hello world echo hello world consequence adr lay framework eventually supporting nested composite action within composite action adr allows user run multiple run step within github composite action support input output environment step well timeoutminutes continueonerror attribute composite action step