appointment reminder testing primary goal simple reduce death cardiovascular disease able patient return clinic care currently patient miss followup appointment three day send polite text message reminding continue taking medicine return clinic get last attempt via text convince patient return would like know different message sending message different relative appointment would result higher rate patient return would also like patient recently stopped visiting clinic return care would like know type message frequency message would effective convincing patient return care develop framework testing different message message delivery message delivery cadence framework able run experiment patient upcoming appointment well patient visited clinic recently patient appointment scheduled experiment range referred current patient patient last visited clinic day ago referred stale patient chose day patient expected return clinic monthly patient hasnt clinic day probably late chose day cutoff patient havent clinic year considered lost follow two type experiment require process difference patient upcoming appointment reminder must sent relative appointment message sent appointment messaging stale patient run continual daily basis experiment stagger message course experiment overwhelm clinic many patient coming clinic day add specified number random stale patient per day experiment schedule based messaging template configured experiment type experiment patient randomly placed treatment group treatment group define message text number message send message patient experiment receive standard missed visit reminder sent three day scheduled appointment control group patient receive message patient selection criterion patient potentially eligible filtered following criterion least year old hypertensive valid phone number ongoing experiment one ended recently subject current patient experiment selected appointment scheduled experiment range subject stale patient experiment selected last visited clinic day ago also filter patient appointment scheduled future prevents messaging patient needlessly also ensures experiment patient pool mutually exclusive patient experiment ended within past two week filtered selection process treatment group assignment patient assigned treatment group completely random patient selection process patient treatment group assignment captured via treatmentgroupmembership model data modelling framework introduces five new model experiment defines type current stale range experiment treatmentgroup treatment group determine message patient receive receive contain information message treatment group zero reminder template contain message information design intended flexible enough allow test number message allows test type message different delivery cadence remindertemplate reminder template capture message want send relative appointment want send zero value mean send message appointment negative value mean send message appointment positive value mean send message appointment notification represents message either scheduled sent already sent contain scheduled delivery experiment message locale identifier translated patient language notification model also moving forward capture nonexperiment appointment notification notification multiple communication represent attempt send notification patient via integration partner twilio communication created message successfully received integration partner whether message successfully delivered patient captured communication detailable model treatmentgroupmembership join table treatmentgroup patient allows track patient treatment group supported language message localized patient based state assigned facility facility address instead patient address likely valid language mapping logic found appmodelsfacilityrb experiment message translated many regional language country simple operates notification window want ensure send notification appropriate hour notification scheduled sent next messaging window see communicationnextmessagingtime initially send message whatsapp imo fall back callback whatsappimo tell message failed schedule message resend either immediately messaging window tomorrow consequence found bug failed missed visit reminder resent every day bug fixed change historical data appointment thousand failed notification realized notification language localization strategy limited patient receiving notification english changed strategy described patient language partially tested framework sending medication reminder patient india covid lockdown process learned twilio rate limit purchased additional phone number speed sending process avoid error due persecond rate limit rate limit considered notificationbased experiment additional sending number may purchased avoid smsssecond limit twilio cannot queue message time twilio cannot send per second per sending phone number per hour whatsapp cannot send message per day tier graduate next tier ensuring quality rating adequate cumulative number user send notification add twice current messaging limit within day period user access quality rating available facebook interface twilio interface clear must increase number notification time want increase number whatsapp message send per day without buying number notification volume increase result experiment naturally graduate next tier whatsapp send message second debugging covid notification found daily notification window production one hour per day result whatsapp message failed retry often sent day expanded delivery window moved afternoon morning clinic close early afternoon dont want direct patient closed clinic area concern include additional strain background queue difficulty debugging background job limited visibility health notification system added extensive logging datadog dashboard metabase dashboard mitigate limitation developer responsible scheduling monitoring see docwikirunningabexperimentsmd