security group terraform two method defining security group aws terraform distinguished add rule inline separate inline rule keep definition close resource ever rule changed terraform regenerate entire resource separate rule terraform make single rule change greater boilerplate separation group resource rule resource security group defined separate rule additionally security group defined entirety single file consequence terraform create specific rule changed run larger distance definition group rule separate file may harder follow heavy crossreferencing security group may performance impact terraform depending treat forward reference