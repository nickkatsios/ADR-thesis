adr hermes usecases changelog proposed one major problem planning evolution hermes presently insufficient clarity regarding requirement known typical hermes user human operator automated pipeline primary usecases adr proposes usecases seem interesting point view general target base user hopefully subset requirement future user three element provide discussion hermes still early stage implementation usecases set stone concrete usecases starting emerge hermes either cover altogether cover poorly inconsistent thus informing proposal hermes one three relayer binary developed roughly parallel two developed typescript respectively see reference section plausible hermes focus performance robustness richness feature longer term summary usecases command discussed rest adr note command omit binary name hermes keep command length minimum create update client create client hostchainid targetchainid optional params clockdrift millis trustingperiod day trustthreshold numeratordenominator update client hostchainid clientid create connection create connection chainaid chainbid optional delay delay create connection chainaid clienta clientaid clientb clientbid optional delay delay create channel create channel chainaid chainbid porta portid portb portid optional order order version version create channel chainaid connectiona connectionid porta portid portb portid optional order order version version start packet relaying start chainaid chainbid porta portid portb portid optional order order version version start chainaid connectiona connectionid porta portid portb portid optional order order version version start chainaid channela channelid porta portid finishing preinitialized unfinished object handshake connection channel establish connection chainaid connectiona connectionid establish channel chainaid channela channelid porta portid rationale primary goal usescases decided cover prevent situation user could get stuck example output command may unclear may error thereby cli command finish partially two relayers concurrently try perform operation interfere resulting chain state obscure user user could consequently stuck first pattern seek help unblock user second pattern variation first permit efficiency allows reuse previouslycreated object creation new object chain reuse client creation connection reuse connection creation new channel pattern propose two basic pattern hermes able fulfil simple invocation perform basic action action mean complete handshake object scratch specifically connection channel two chain relaying packet two chain focus command include retrying mechanism perform robustly simplest interface allow reusing preexisting state basic command preexisting state could client specific trust instance case hermes would provide support creating connection specific client pattern also include retrying mechanism detail usecases applying pattern case get following concrete command hermes fulfil create update client minimal invocation create client scratch create client hostchainid targetchainid clockdrift millis trustingperiod day trustthreshold numeratordenominator detail submits transaction type client create chain hostchainid sometimes called destination chain transaction new client verifying header chain targetchainid often called source chain see also limitation section discussing optional security parameter command update client update client hostchainid clientid detail submits transaction chain hostchainid update client identifier clientid new consensus state uptodate header hermes automatically infer target chain client client state upgrade client upgrade client hostchainid clientid detail submits transaction chain hostchainid upgrade client identifier clientid hermes automatically infer target chain client client state upgrade client target specific chain upgrade client targetchainid detail submits transaction upgrade client chain config target chain targetchainid create new connection minimal invocation create connection scratch new client create connection chainaid chainbid delay delay detail start transaction perform connection open handshake protocol two chain chain called symbolically hence name chainaid chainbid handshake hermes submits first step typically called init connopeninit side second step connopentry side optional parameter delay delay period new connection note also limitation around delayperiod feature reusing preexisting state concretely existing client create connection chainaid clienta clientid clientb clientid delay delay detail similar previous command command perform connection open handshake protocol reuse client identifier clienta client expected exist chain chainaid target chain client identified client state concretely target chain represented chainid field client state provides identifier side new connection side chain command establish connection client identifier clientb must verifying header chain chainaid create new channel new connection client create channel chainaid chainbid porta portid portb portid order order version version existing specific connection create channel chainaid connectiona connectionid porta portid portb portid order order version version packet relaying relay packet new channel new connection new client start chainaid chainbid porta portid portb portid order order version version relay packet new channel reuses existing connection start chainaid connectiona connectionid porta portid portb portid order order version version relay packet existing channel start chainaid channela channelid porta portid finishing partially complete handshake command serve purpose covering certain cornercases handshake may partially started finalize handshake partially established connection establish connection chainaid connectiona connectionid finalize handshake partially established channel establish channel chainaid channela channelid porta portid command output default command provide humanreadable output pretty printing practice final result hermes command captured output structure support json serialization enable json add configuration parameter logjson global section config file look follows toml global loglevel error logjson false default parameter false set true hermes output json partially implemented consequence positive simpler accurate cli invocation create precise handshake improved output human operator negative command possibly turn useless requires rethinking relayer architecture mainly limitation surrounding light client neutral reference relayer httpsgithubcomcosmosrelayer relayer typescript httpsgithubcomconfiotsrelayer