title catalog import api area core tag catalog product category import api current api importing entity flexible however documentation lackluster brittle due fact schema map directly database exposure implementation detail lead issue documenting api also certain field entity bookkeeping size complexity current schema make impossible generate client mapper variant medium uploads fully managed client api put effort error handling onto client resulting increased effort build maintain middlewares want provide http api php api importing catalog related entity independent database schema reduce amount implementation detail developer know integrating shopware within existing system productvisibility productmedia entity medium creation error etc introduce new php layer importing catalog entity evolve independently current database schema strongly typed support referencing association different field assign tax name instead simpler import image generate variant support asynchronous importing advanced error handling reporting expose new php layer http api full open api specification consequence first release experimental feature limited scope minimal data set support full breadth available catalog system allow gather feedback make change provide welldesigned system api overview php api php structure myproductdata see appendix function mymigrationarray myproductdata productbatch productbatchfromrequestdatamyproductdata session thisimportfactorystartsessionmyimport sessionaddproductrecordsproductbatch sessioncommit required import run async whilesessiondone echo sessionstatus rest api api exposed following http endpoint starting import post apiimportcatalogstart creates import return unique identifier import endpoint accepts configuration payload allowing customize import example name import productimport indexing configuration reporting webhooks error creatingupdating entity post apiimportimportidrecord example create product new medium update product update medium create category assign product create product custom entity update custom entity endpoint create update entity data stored later import specifically commit http call note imported system yet stage take care resolving specific association existence check important note possible create nested entity possible update via parent entity update performed root level example create product nested medium want update medium must root level referencing entity directly resolvers entity support stage also extract inline record example medium record specified directly product create separate record process sort record based dependency optimize bulk insert performed entity created custom entity also added updated manner normal entity however must defined extension key due fact schema known ahead time see example relating custom entity example consider following record set product tax medium medium product tax medium entity assigned level value like entity level tax tax medium medium medium product product data decide record processed time highest level dependency case level record processed time done next level processed record saved simple intermediate store generic structure related database dal store either something like redis mysql regardless store behind interface exchangeable push many record end point wish done call commit endpoint calling record possible import committed error returned deleting entity post apiimportimportidrecorddelete example delete product medium endpoint delete entity system post call record endpoint deletion queued delete happen commit call payload simple array entity array delete unassigning nested entity post apiimportimportidrecordunassign example unassign medium product endpoint remove entity association committing import post apiimportimportidcommit endpoint commit record begin actual import shopware previously noted record batched worker according level traversing highest level lowest process generic record structure mapped expected dal structure internally sync api perform actual insert calling commit performed subsequent commits return error getting import post apiimportimportidstatus endpoint return import subsequent call end point return current import error reported far reported one started importing cancelled done import finished reported done error included duration total reflect total imported cancelling import post apiimportimportidcancel endpoint cancel noncommitted import possible cancel already committed import cancelling import delete record pushed might useful case erroneous data pushed import http schema openapi schema resolver concept associating record possible specify association example want assign tax entity product pas tax problem may know want keep record referenced entity introduce concept resolvers solve problem job resolver look reference entity case tax resolve reference reference initial experimental release ship minimal set reference resolvers prove concept also explore open extension developer provide reference resolvers automatically integrated api specification medium uploading first iteration support uploading medium file external url image downloaded import still honor configuration setting mediaenableurluploadfeature config disabled import skip importing medium error handling whilst adding import record whilst adding import instruction via record endpoint error directly reported regarding resolving example try update entity exist assign entity another exist see error response resolving root entity request response trying update product exist nested entity exist error reported root entity error occurs nested entity root entity updated see error response resolving nested entity request response trying assign product exist category whilst committing error occurs created nested entity root entity also fail updated root entity cannot updated created nested entity deleted note possible update nested entity issue rolling back nested entity previous state see error response root request response trying create product unique product number see error response nested request response trying create product medium cannot downloaded error reporting error reported real time given webhook url via end point error key property described failure object api specification note webhook implemented first draft general concept open discussion error keyed entity given record endpoint error classified severity level rfc appendix appendix example php payload import product category medium tax record php myproductdata abbadfbddabf name cool prod productnumber coolprod tax name reduced rate tax record referenced via name attribute instead price currency eur gross net linked false stock category path home category category product assigned category homecategory category medium image downloaded assigned medium record assigned product url httpsimagesunsplashcomphotobebfaixlibrbixidmwxmjafdbmhxwagbywywdlfhxfgvufdbfhxfaddautoformatfitcropwq title pommes alt alt filename othermediajpg