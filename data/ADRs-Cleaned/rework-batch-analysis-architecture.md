rework batch analysis architecture current implementation batch analysis kbbatchapp kbase following issue current adequate user shouldnt code order run batch analysis also difficult even familiar kbase code find object name dependency kbparallel change kbparallel could affect batch subsequently apps queue deadlocking user max slot queue current implementation one taken manage job could lead deadlock scenario missing ability able run manage track job subjobs good way test hard benchmark measure performance code split necessary author leiasefkin pending alternative considered writing new batch app implementing dynamic service implementing standalone narrative widget implementing new set endpoint outcome much discussion research create new endpoint set endpoint purpose running batch analysis workflow kbase consequence implement new narrative however work would happen regardless due looking improve batch upload analysis kbase far discussed seems positive consequence able streamline code structure kbase make batch analysis easier test improve usability job management initial architecture sketch could look like started still determined scope adr endpoint may cancel batch implementation detail tbd narrative poll update job subscribe kafka creating set object end batch run set child task fails processing pro con alternative writing new batch app potential first pas implementation remove dependency parallel current implementation longer slot queue however could easily morph con depending manage set creation reduce step could require multiple slot offer improvement upon job management code still split location good way test hard benchmark measure performance tracking managing sub job still challenge implementing dynamic service longer app custom endpoint longer slot queue manage job closely table control lifecycle resource request canceling subjobs hard test secret variable dynamic service appdev prod catalog hard tell service service wizard cause problem take microservices approach extreme service make sense live within rather separated locked kbsdk coupled dynamic service rancher devops cant easily modify deployment without change service wizard implementing standalone narrative widget longer app longer slot queue reuse logic build widget cell drive batch submission process keep track job progress maintain new cell type possible code duplication add extra load eventual narrative refactor tightly coupled narrative mean want run batch outside narrative capacity work duplicated job resource queue management happen narrative narrative closed reaped job state management stop implementing new set endpoint longer slot queue deadlock longer issue longer app logical paradigm service easier test scale monitor control job lifecycle management table resource request subjob cancellation possible control job priority queue batch job could lower priority individual job could also run concurrently user could start batch import still run analysis task would able start finish first there possibility user andor admins control job priority queue submission code cohesion