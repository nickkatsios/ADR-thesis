nomad deployment cljdocs deployment story simplistic effective recap zip file pushed contains file run application live server systemd service download archive run version downloaded archive specified via file server updating simply required updating file server restarting service issue approach however every time new release pushed server restart systemd service would incur minute downtime generally isnt huge deal discourages certain development practice may desirable continuous deployment existing deployment setup tool poorly equipped handle kind deployment scenario large amount bash script would required start new cljdoc server wait become available update nginxs upstream port kill old cljdoc server instance repeatable automated manner likely bash script would errorprone turn something nobody like touch implement canary deploy mechanism cljdoc server application nomad traefik tool probably aimed much complex workload provide following benefit existing systemdnginx setup automatic ssl certificate via let encrypt declarative specification job desired update semantics apis schedule new job cycle oldnew deployment health check verify new deployment work expected machine image become much simpler since nomad consul docker simplifies lot cljdocs operational task also enabling continuous deployment consequence inefficient resource allocation way nomad handle canary deployment requires sufficient resource available run two set task side side result instance operating half capacity practice cljdoc server never ran resource constraint likely wont cause actual problem imperfection nonetheless note scaling plan cljdoc always put cdn front backend complexity nomad consul complex tool designed multiinstance orchestration compared shell script also force additional complexity upon developer trying work tool machine atypical nomad usage running single node cluster also atypical usage scenario thus may receive limited support improvement future