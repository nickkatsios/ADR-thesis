nondeterministic docker build principle agree deterministic bulids great idea practice first creating lock file pipenv piptools via docker based workflow would require separate image thus seems inefficient build docker image directly requirement let resulting container deterministic unit distributing code feel improved build workflow outweighs negative consequence consequence slight risk difference introduced local build later cicd build however sooner later difference would come anyway secondly pregenerated hash dependency someone compromise environment insert malicious pypi server would detect changed package