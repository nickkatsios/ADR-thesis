subscription controller problem definition react especially concurrent mode enforces pure side effect free rendering behaviour component conflict heavily subscribe state change caused call observe actual render function executed immediately solution introduced subscriptioncontroller class memoize observe avoid registration observer instead tag registered subscriptioncontroller however registered actually subscribed instead leave control registration reactivecomponent register subscription useeffect callback thus safe point time component committed already subscriptioncontroller hold reference tag way around memory freed eventually case component discarded committed chance observed effect gone stale time initially executed actual subscription example sibling suspended component made commit phase thus whenever subscribe subscriptioncontroller validate whether effect run execute summary avoids impure render function avoiding eager subscription