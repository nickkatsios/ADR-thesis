rapid release moving towards monorepo proposed deciders sync team bendk tarikeshaq lougeniac ddurst mhammond release management rvandermeulen release engineering jlorenzo firefox android csadilek firefox nish firefox desktop sylvestre dec feedback deadline jan problem statement application service currently long cycle time code change make release main adhoc schedule averaging release month consumer application take release also adhoc basis firefoxandroid take release fairly frequently firefoxios frequently desktop infrequently mean code change take relatively long time released public example release taken firefoxandroid new commits release ranged day old two main reason long cycle current release process requires good deal developer involvement normal release take couple hour developer monitor progress perform several manual step along way unreleased code breaking change developer also merge consumer application release ideal since developer often one wrote worse dev caused breaking change forgot create create leading multiple devs coordinating release release main also require extra work creating branch version backporting fix making patch release etc applicationservices team application team generally put low priority updating applicationservices version generally focus benefit waiting take release rather cost mozilla generally favor rapid release model long cycle time firefox desktop adopted rapid release decade ago mobile application similar release cadence current work move service towards rapid release although cost rapid release company weve decided willing accept application service consider moving towards rapid release model reasoning led team adopt rapid release also applies furthermore mobile team working increase release cadence even may depend applicationservices also increasing finally process moving towards single monorepo android code potential add code andor move mozcentral monorepo would require application service code taken consumer application monorepo soon merged reducing amount time release application take release brings closer monorepo world driver want get change merged released consumer application faster want simplify pushing new code application especially urgent bug fix want move towards future monorepo world mozilla moving towards rapid release mobile code willing accept overhead upgrading applicationservices frequently application repository considered keep current release process move rapid release process change appservices frequently merged consumer application phase update branching model release process jan feb update branch match firefoxandroid work main branch current nightly build releasesvn previous release automate nightly release main branch see discussion bottom document could work note regardless choose longer semverstyle version also following semver semantics releasing breaking change nightly cycle without bumping major version manually handle patch release releasev branch update version number firefoxversionn create github release branch avoid unreleased code branch release soon new code committed branch code always uplifted branch code merged beta branch already merged main released nightly code merged releasevn branch merged released releasevn branch continue maintain changelog new versioning main keep rolling log update header firefoxversion replaces current release process push change consumer create repository bump applicationservices version one release issue merging revert merged application revert breaking change applicationservices wait next nightly release merge implement script manually run monthly firefox merge script create releasevn branch main update version number final release version change vna create github release branch bump major version number main start new changelog header phase automate merges applicationservices consumer application march may create system running android desktop inprogress applicationservice branch needed confidence androidiosdesktop code resolve breaking change ready merge breaking change main branch every morning consumer application including mobile apps desktop create take current applicationservices code main set automerge system automatically merge phase merge issue application back change application get merge start merges morning set alert get sent syncbots test suite fails mean would identify test failed assign developer resolve issue expectation would developer fix thing time next nightly merge note currently automation android leverage existing code much possible perform process whenever new applicationservices version published releasevn branch applicationservices change breaking consumer corresponding consumer repos reviewed approved accidentally merge change applicationservices ready back change outcome move rapid release process change appservices frequently merged consumer application pro con keep current release process good doesnt require change workflow bad reason enumerated top document move rapid release process change appservices frequently merged consumer application good code get merged released frequently good dont spend time cutting release good uplift done much quicker good release process automated bad implement new automation bad breaking change cause automatic nightly merge fail application mean developer get relatively urgent task resolving thing however mitigated policy merging change sure taken consumer application good avoids current state affair main branch ready taken application mean current code getting tested complicated get change application including bugfixes bad breaking change require corresponding approved team merged applicationservices good thing work monorepo world adjusting workflow prepares future give insight may help guide monorepo migration good version number align closely rest mozilla good make easier know applicationservices version application current firefox release always latest applicationservicesx release mobile apps desktop good align better firefox process may make easier mozilla tool later example buildhub product detail nonnormative discussion impact team application team android desktop phase applicationservices version number style change may increase amount applicationservice version upgrade approve well want make sure application applicationservices release match release avoiding fenix applicationservices androidios team small increase desktop larger phase applicationservices approve especially start eventually able arrange get automerged release management handle tagging releasing version bumping applicationservices end nightly cycle handle patch release release nightly branch release engineering support applicationservices team developing automation believe proposed change simple enough applicationservices team handle nightly release adr mention making nightly release main branch two basic approach create new release create new version number github tag github release kotlinswift package etc update single release name like firefoxversiona nightlies dont change dont create github tag release republish existing kotlinswift package rather create new one plan follow second approach firefoxversiona version number follows team manage release main benefit first fit better existing tooling expect replace new tooling