start summary document defines structure application database storing node edge currently working migrating redux store reframe good point define data structure api access application hashmap following key node store hashmap key node value node root store root node loc store focused node node represented hashmap type value child parent key application define following event handler modify node nodesmake node create node given loc nodesappendchild child add child bottom child nodesinsertchild child add child top child nodesinsertup child add sibling loc nodesinsertdown child add sibling loc nodesremove remove node loc lot moved preceding node nodesreplace node replaces node loc following event handler modify loc locroot move loc root locdown move loc locup move loc locbottom move loc bottom loctop move loc top locright move loc right locleft move loc left following event handler modify root rootchange root change root new value alternative store tree looked storing tree application update clojurezip sounded like perfect idea first one convenient way work asts clojure however solution came ended overly complicated harder reason requires good understanding clojurezip pitfall took nice api inspiration working alternative datascript datascript inbrowser databased modeled based datomic sound like good fit problem however decided approach due unclear benefit simple hashmap datascript add extra dependency learning curve one understand datalog query work might case future datascript might come handy problem add later case