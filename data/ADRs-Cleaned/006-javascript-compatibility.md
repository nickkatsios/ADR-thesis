javascript browser compatibility publish javascript parsed without error browser supporting script typemodule update guidance tell service team include javascript govuk frontend script typemodule set transpiling modern javascript syntax parsable browser support module linting prevent newer feature syntax unless actively opted going forward want newer feature disable linting rule checking performance impact transformation current component require polyfills set transpilation make syntax transformation bundle avoid dependency babel helper automatically inject third party polyfills revisit want introduce new feature would require polyfills order keep style component interactive javascript going included add new govukfrontendsupported class body part inline script browser support htmlscriptelementprototypenomodule add guard clause check class initialisation component rationale line agreed browser support want ensure javascript govuk frontend loaded executed likely parsed executed successfully supporting modern set browser tooling evolved since last javascript compatibility updating strategy fulfil goal believe provides right balance engineering effort performance whilst maximising likelihood regardless browser user able complete task risk constraint requires good nonjavascript experience javascript execute browser support script typemodule approach requires component follow principle progressive enhancement ensure user still complete task browser dont support similarly service bundle javascript govuk frontend feature implemented following principle progressive enhancement well requires team follow guidance loading javascript browser execute without error requires service typemodule script tag control may require service refactor javascript service may run code browser rather supporting typemodule example analytics code would split code bundle govuk frontend requiring service refactor code accordingly overhead planning optin specific modern feature assessing impact transformed code might lead overhead researching documenting impact well making whether optin tooling isnt comprehensive sure exact coverage tool provide either checking feature transforming example eslintpluginesx cover web apis there engineering cost transpilation step detecting whether polyfills would including reliably especially guard execution feature presence specific apis browser wouldnt want polyfill mean still level manual check susceptible human error tooling evolution tool plan may evolve support modern baseline support module similarly rollup stopped supporting internet explorer point could force pin tool specific version want keep benefiting devise new approach ensuring compatibility revisit baseline would require major release though published code monitoring making transformation source code published code potentially provide room malicious code introduced tooling supply chain attack monitoring change one release another may also trickier tooling update may introduce extra change code example refactoring reordering would make comparison harder alternative considered adding styling hook typemodule inline script adding govukfrontendsupported class cannot run script typemodule would defer execution script adding class page load defeat purpose script run immediately prevents flash noninteractive style publishing source code could write source code browser supporting module parse publish without making transformation could lint away compatibility concern would require manual testing ensure match browser support parse execute due manual nature would also prone bug regression finally due extra knowledge necessary know whats compatible would require extra effort developer contributor offer change guarding based newer apis letting javascript error instead availability htmlscriptelementprototypenomodule set govukfrontendsupported class governs styling execution component could pick modern feature check example promiseprototypefinally transpile modern set browser support rather way browser support module let javascript error browser support typemodule newer feature appear code publish would reduce amount feature get transpiled notable would spread asyncawait chose promiseprototypefinally however come following drawback extra error browser support typemodule new baseline make harder know error expected browser supported complicates debugging user triaging bug syntax error service code bundled govuk frontend would get chance executed would require extra effort service part decide bundled govuk frontend separate script ensure run recommending dynamic import govuk frontend dynamic import call would allow handle syntax error parsing govuk frontend via catch promise trycatch block depending browser youd want support complicates integration service requires javascript knowledge understand piece code run govuk frontend fails parse also complicates import multiple individual component requiring make sure import call run parallel hinder performance top individual component discoverable browser preloadscanner handle potential failure call appropriately import map import map could provide another way load govuk frontend browser certain level support modern javascript feature widely supported enough yet could good consideration revisit baseline want future implication automating part development process writing changing javascript currently remember feature arent available oldest browser support manually add polyfill also rely heavily manual testing across multiple browser improving build process introducing transpilation additional linting rule improves developer experience provide additional safety guard unsupported feature enables modern syntax including future feature long tooling transpile time recognise deferring responsibility ensuring browser compatibility linting transpilation tool find transpilation producing code work targeted browser may relying maintainer dependency help address issue also carefully monitor impact transpilation code publish potentially removed source code improving experience older device restricting javascript running browser support typemodule mean run oldest browser likely old underpowered device mean user older device get simplified likely performant experience pin javascript publish approach pin publishing code based browser released exception internet explorer weve decided provide javascript enhancement target cover visit govuk internal link target creates long tail browser user longer well publish code transformation long tail expand browser vendor release newer version mindful transformation may increase file size provide compatibility tiny percentage user number transformation required grow time new feature introduced may prevented new feature think performance implication transpiling great pinning browser support module make sense long revisit either extra weight caused transformation polyfills becomes untenable unable implement something would provide value end user either way transpile would add much weight better way becomes available require service team make change working assumption future mechanism provide clean cut contributor brett kyle domoscargin colin rotherham colinrotherham oliver byford degree romaric pascal romaricpascal associated issue pull request outcome set babel update linting performance monitoring