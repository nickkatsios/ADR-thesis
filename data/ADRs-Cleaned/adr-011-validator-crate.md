adr validator crate changelog created adr tendermint provides interface privval external process validators deploy different signing backends yubihsm tendermint beyond signer process expected grpc serverservice tendermint connects tonicbuild grpc server interface code generated extension existing tendermintproto crate definition signing backend implementor could possibly implement interface tendermintproto follows rust tonicasynctrait impl privvalidatorapi validatorsigningbackend async getpubkey self request request result async signvote self request request result async signproposal self request request result implementation however raw protobuf type implementor would duplicate common validation code tendermintvalidator crate added tendermintrs repository help developer implementing tendermint validator signing backends provide basic tonic server implementation privvalidatorapi implementation accept different signing backends implemented via two trait signing one communicates hsm rust tonicasynctrait pub trait signerprovider type stderrorerror async signself signablebytes result async loadpubkeyself result state storage one persists validator state file whatever make sense signing write cpu monotonic counter rust tonicasynctrait pub trait validatorstateprovider type stderrorerror async loadstateself result async persiststatemut self newstate consensusstate result selfe besides checking chain request calling corresponding provider implementation also following common validation step existing domain type tendermint crate validate incoming request check signing request height optional maximum check signing request last validator state persist new state successful signing operation validator state checking existing consensus state extended conversion signing request well partialord implementation crate also contain example software signer backend implementation provider trait store signing key inmemory text file validator state persistence consequence positive reduced code duplication easier implementation new signing backends negative async function due tonic grpc implementation neutral one crate reference httpsgithubcominformalsystemstendermintrsissues httpsgithubcominformalsystemstendermintrspull