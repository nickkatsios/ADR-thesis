disable squash merge deciders lauren zugai ivo planemac barry chen wil clouser vijay budhram technical story problem statement late september enabled squash merge pull request github optional engineering convenience however enabling caused several issue surface team discussion chosen turn document architecture serf capture summary experiment problem around squash merge current git workflow changing development release strategy scope adr conversation ongoing fxas commit guideline standardize commit formatting prefer one commit per issue closed preference help maintain clean git changelog history serve documentation needing git blame line help reviewer understand breadth change review one commit per task help debug problem arise merging also make cherrypicking dot release easier preference engineer sometimes run interactive rebase squash commits one force push branch theyve previously pushed multiple commits change requested squashing merging help mitigate force push terminal final review step engineer squash commits edit commit message merge github set user default merge strategy whatever last squash merge regular merge doesnt allow disabling certain branch caveat alongside human error automated dependency upgrade caused number problem weve identified accidentally squashing merging train branch main cause merge conflict next patch release differing parent commits accidentally forgetting edit commit message squashing merging approved mean merged without meeting commit guideline accidentally regular merging branch meant squashed merged mean multiple unformatted commits land single task squashing merging dependabot packagejson bananafox yarnlock commits automated dependency seemed like nice pro keeping squash merge there couple instance something funky happened bad squash merge dependency update caused bananafox get sync commit multiple without packagejson change caused issue dot release could mitigated able cherrypick needed change without yarnlock commit see others around time seems ideal keep separate commits dependabot work properly yarn retire bananafox considered continue allowing squash merge disable squash merge outcome chosen disable squash merge current workflow team discussion concluded doesnt appear adequate workarounds alleviate problem listed leaving squash merge enabled also disable force pushing train branch keep rule never force push main final continue conversation around development strategy process improvement viability squash merge future positive consequence train branch longer accidentally squashed merged reducing merge conflict burden release owner extra step squashing commits locally pushing regular merging rather squash merge button extra step allows see exactly whats going merged click merge problem laid alleviated commit message reviewed part review dont hard rule oftentimes nicer reviewing typescopesummary commit message body filled already rather ring bunch wip commits trusting squashed one commit follows guideline merged disabling force pushing train branch help alleviate risk around allowing force pushing since train branch shared better preservation commit signing integrity squash merge sign commit negative consequence squashing merging convenient engineer interactive rebase squash force push branch feel scary since override history may rare circumstance may want push force pushing riskfree way soften risk loss work engineer push fork squashing locally preserve copy history point time run git diff locally squashed branch whats pushed andor forcewithlease pushing also branch protection force pushing main add protection train branch train force pushing branch one person pairing done lot care coordination safest forcewithlease link tale two merges document created deepdive squash merge cause problem train branch beginning process improvement conversation