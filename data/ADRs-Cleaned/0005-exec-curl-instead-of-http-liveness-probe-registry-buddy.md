exec curl liveness probe registrybuddy added liveness probe registrybuddy container restarted container unhealthy registrybuddy simple http server implemented configured permission push delete image container registry perform authentication authorization check caller protected virtue sidecar container trusted workload cfapiserver cfapiworker given make authnz check binding loopback address localhost cannot regular http liveness probe health check since kubelet access localhost within pod network namespace enable kubelet reach registrybuddy would listen reachable address instead localhost may expose rest pod network though open registry access nontrusted pod instead adding additional authnz registrybuddy listen externally reachable address chose instead exec liveness probe execute curl within container consequence registrybuddy continue listening localhost defer work add additional authnz