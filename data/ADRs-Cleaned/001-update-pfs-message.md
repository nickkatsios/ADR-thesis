pfscapacityupdate message design deciders augusto dominik karl konrad paul problem statement pfs requires information capacity mediation fee channel raiden node information must passed raiden node design balance fee update must optimize two contradicting paradigm accuracy global state pfss perspective privacy raiden node node decide whether send balance fee update pfs advertise channel mediating driver channel capacity computable privacy node behaviour cheating node considered solution participant broadcast signed unblinded balance proof received participant pfs via global matrix room solution message contains capacity channel side participant broadcast pfs via global matrix room conflicting statement resolved taking minimum provided value outcome chosen allows privacy offering smaller safe capacity worst case honest node always submits real capacity pfs minrealcapacity dishonestcapacity pfs always assume capacity smaller equal real capacity there incentive decrease capacity channel either direction there incentive lie positive consequence message includes capacity balance proof stay private privacy possible possibility broadcast certain threshold every balance proof change negative consequence case one channel participant malicious available capacity lower detailed analysis look feasibility design one look three different scenario channel participant participant well behaving participant malicious one participant malicious also important make clear incentive malicious behaviour announce bigger channel capacity available capacity order get mediated payment routed pfs case two well behaving participant case pfs learns correct channel capacity message design case two malicious participant case pfs anything find malicious behaviour however assume participant network malicious therefore channel must exit case active case one malicious participant thesis neither economic incentive providing incorrect message definition honest malicious deposit transferred amount represents capacity channel side variable equally defined looking broadcasting balance proof never incentive send older balance proof transferred amount monotonically increasing mean every balance proof older latest would smaller therefore would smaller well would artificially decrease capacity lead economical incentive looking broadcasting channel capacity never incentive cheat capacity calculated minca three case capacity based message capacity respectively case honest node channel assumed capacityless cheat value matching intention malicious node could simply stop routing achieve result pfs case malicious node economic incentive want provide capacity mediating simply send smaller value increase fee pfs case distribution could cheat delta either direction sending would lead lower would give economic incentive sending would lead sending correct value economic incentive given either artificially lowering doesnt lead economic incentive pfs pfs