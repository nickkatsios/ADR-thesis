separation concern saml profile eidas scheme requires saml message sent directly receiving proxy node via user browser introduces host security concern especially take history saml exploit xml security general account due many attack centred around breaking xml parsing main concern raised saml parsed publicfacing service service responsible communicating hardware security module hsm suggests cant implement proxy node monolithic architecture proxy node going split series microservices limited set responsibililties kubernetes ensures sensitive microservices run node attacker limited damage compromising single service unable compromise vital service maliciously constructed xml gateway public internetfacing service hosting saml endpoint responsible managing user session parsing saml carried service eidas saml parser esp small service solely responsible parsing eidas saml authnrequests returning useful information json format gateway session management purpose esp also responsible consuming validating requesting member state connector node metadata passing encryption certificate back translator via user session verify service provider vsp application provided verify build verify saml authnrequests parse saml response verify hub return user attribute json format translator construct eidas saml response destined requesting member state connector node message signed hsm encrypted connector message flow connector gateway esp vsp translator hub log browser samleidas request jsoneidas request jsonuseful info jsonverify request browser samlverify request user hash browser samlverify response jsonverify response jsonverify response jsonuser data user hash sign response hsm jsoneidas response browser samleidas response consequence usual maintenance overhead running microservices