unified gpio base class issue motivating influence constrains simplify implementation driver create unified gpio base class provides standard interface set mode input output special function provide single class implement gpio support rather one class mode ideally find way zerooverhead create wrapper class constrain interface appropriately mark pin gpioinput gpiooutput compiler report error try invalid operation given type consequence simplified implementation porting purpose implement one class lose type safety default base class there way generate compiler error set called input gpio pin