adr notification hook runner adr detail design change supporting custom configurable hook various runner event long requested user feature user information runner observability ability run cleanup teardown job feature mainly intended self hosted runner administrator hope solve feature runner admininstrator able add custom script cleanup runner environment start end job runner admininstrator able add custom script help setup runner environment beginning job reason like caching runner administrator able grab custom telemetry job running self hosted runner dont think solve policy feature require certain step run beginning end job would better solved central place setting rather decentralized runner proposed notification hook runner limited self hosted runner dont beileve policy feature reuse scenario job covered composite action resuable workflow security application security handled policy side server decentralized runner hook expose variable user set enable hook actionsrunnerhookjobstarted actionsrunnerhookjobcompleted set variable absolute path file execute pwsh fallback powershell bash fallback appropriate file execute args pathtofile file execute args command pathtofile set standard flag typically set run command want set pipefail bash example script want ensure experience user invoking workflow good hook take long may feel job delayed broken much like set job generate two new step automatically job one configured hook set runner complete runner step contain output invoking hook visibility runtime also provide information path hook shell invoking much like run step running hook job may helpful script access standard default environment variable variable step specific like githubaction case set pull full webhook event payload githubeventpath command expose command environment file yes imagine scenario runner administrator deprecating runner pool warn user swap different pool support however limitation savestate supported traditional step pre post action setoutput supported traditional step environment file also enable environment file support setup scenario runner environment self hosted runner admin set env variable apply job enabling ability add path set env give runner admins ability dynamically based workflow environment variable empower setup scenario exit code synchronous hook block job execution run exit code indicate successful run hook proceed job exit code fail job appropriate annotation support continueonerror key expose variable user set enable hook actionsrunnerhookjobstarted actionsrunnerhookjobcompleted user set variable path file execute job started completed output added new step startend job named set runner complete runner step generated run hook hook always execute env variable set file execute runner user outside container specification job synchronous hook runner admins execute background process async hook want fail job halt execution exit code runner admin responsible returning correct exit code ensuring resilency includes runner user access file env file must exist continueonerror type launch timeout launch consequence runner admins ability tie runner job execution publish telemetry perform cleanup setup new step added showcasing output hook