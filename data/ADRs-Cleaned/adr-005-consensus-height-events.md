adr updateclient event clientstate consensus height changelog initial draft ibcgo implementation leverage cosmossdks eventmanager provide subscriber method reacting application specific event ibc relayers depend consensusheight attribute emitted part updateclient event order run tendermint misbehaviour detection crosschecking detail header emitted given consensus height header originating chain includes detail signedheader containing commitment root validatorset signed header trustedheight seen client equal height header last trustedvalidatorset trusted height following refactor client submodule associated clientstate interface possible light client implementation perform action batch update inserting number consensusstates application state tree single updateclient message flexibility provided ibcgo usage protobuf field contained within updateclient message example batched client update message serialized protobuf type tendermint lightclient implementation could defined follows protobuf message batchedheaders repeated header header complement flexibility updateclient handler support submission client misbehaviour consolidating header misbehaviour interface single clientmessage interface type clientmessage interface update ibc client update may done single header batch header misbehaviour type verified produce change state ibc client type clientmessage interface protomessage clienttype string validatebasic error support functionality getheight method omitted new clientmessage interface emission standardised event client submodule becomes problematic twofold client submodule previously depended upon getheight method header type order retrieve updated consensus height emitting single consensusheight event attribute sufficient case batched client update containing multiple header following made order provide flexibility consumer updateclient event nonbreaking fashion return list updated consensus height exportedheight new updatestate method clientstate interface updatestate update store necessary associated information ibc client clientstate corresponding consensusstate upon successful update list consensus height returned assumes clientmessage already verified updatestatesdkcontext codecbinarycodec sdkkvstore clientmessage height maintain consensusheight event attribute emitted client update handler mark deprecated future removal example tendermint lightclients simply consensusheights following successful update single header add additional consensusheights event attribute containing comma separated list updated height provides flexibility emitting single consensus height multiple consensus height example usecase batched header update consequence positive subscriber ibc core event act upon updateclient event containing one consensus height deprecation existing consensusheight attribute allows consumer continue process updateclient event normal path upgrade consensusheights attribute moving forward negative consumer ibc core updateclient event forced make future code change neutral reference discussion issue