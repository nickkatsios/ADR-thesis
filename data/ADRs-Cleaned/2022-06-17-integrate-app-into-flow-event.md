title integrate app flow event area servicessettings tag flow app integrate app flow event currently apps extend list available event flow builder update flow builder apps expand list available trigger event flow builder flow aware define flow aware class detect data available event function get problem unsure data app event provide solution create interface customappaware implementation custom event app example pseudocode php interface customappaware public const appdata customappdata public function getcustomappdata array flow storer flow data storer save data event storableflow flow action problem currently keep event data core store personalized event data application solution create customappstorer store data custom app event api trigger custom trigger data body stored flowstore key example define data api json customerid dedeeafdbceeefec saleschannelid cbfddcabbb shopname shopwares shop url httpsshopwarecom action get data thought flowstorer php saleschanelid flowgetdatamailawaresaleschannelid customer flowgetdatacustomerawarecustomerid data defining email template html hwelcome shopname hvisit url example pseudocode php class customappstore extends flowstorer public function storefloweventaware event array stored array check event instance customappaware foreach eventgetcustomappdata key data storedscalarvaluesawarestorevalueskey data storedkey data public function restorestorableflow storable void return flow event event must implement floweventaware able available flow builder trigger problem posse floweventaware event instance app developer utilize custom trigger dispatched triggered app solution create new customappevent class triggered app system example pseudocode php class customappevent extends event implement customappaware floweventaware private string name private array data construct getters businesseventcollector businesseventcollector collect event implemented floweventaware output flow builder problem currently collect event implemented floweventaware collector contain event activated app solution collect customappevent event activated apps example pseudocode php public function collectcontext businesseventcollectorresponse fetch app event thisfetchappeventsnew businesseventcollectorresponse private function fetchappeventsbusinesseventcollectorresponse result businesseventcollectorresponse check valid app event database return thiscreatecustomappevent private function createcustomappevent customappevent return new customappevent trigger app custom event api provide apis trigger customappevent problem currently event provided triggered core user performs specific action storefront admin like checkout order user recovery party add custom trigger trigger themself solution provide api app call api trigger custom event provide event name data api create customappevent object dispatch information provided example pseudocode php since routepath apiactiontriggereventeventname name apiactiontriggerevent method post public function flowcustomtriggerstring eventname request request jsonresponse data requestrequestall criterion new criteriadataflowappeventid criteriaaddfilternew equalsfilterappid dataflowid criteriaaddfilternew equalsfilterappactive flowevent flowappeventrepositorysearchcriteria return http code flowevent empty thiseventdispatcherdispatchnew customappeventfloweventgetname data return http code success message defining app flow event xml flow event configured approotsrcresourcesflowxml file store following information flow event also define one event one app name technical name unique prefixed app vendor prefix dispatching customappeventphp aware deciding flow action allowed show event list aware supported following orderaware customeraware mailaware useraware saleschannelaware productaware customergroupaware example awareorderawareaware list action related order selected flow actionaddordertag actionremoveordertag actiongeneratedocument actiongrantdownloadaccess actionsetorderstate actionaddorderaffiliateandcampaigncode actionsetordercustomfield actionstopflow awarecustomerawareaware list action related customer selected flow actionaddcustomertag actionremovecustomertag actionchangecustomergroup actionchangecustomerstatus actionsetcustomercustomfield actionaddcustomeraffiliateandcampaigncode actionstopflow complete xml structure look like xml flowextensions xmlnsxsihttpwwwworgxmlschemainstance xsinonamespaceschemalocationhttpstestflowcomflowxsd flowevents flowevent nameswagbeforeopenthedoorsname awarecustomerawareaware awareorderawareaware flowevent flowevent flowevent flowevents flowextensions defining translated support defining translation custom trigger event show trigger tree trigger name flow list create snippet file folder approotsrcresourcesappadministrationsnippet structure snippet follow principle swflowcustomevent fixed key instance snippet trigger event eventtree fixed key key defined inside key based specified trigger name name flowxml translate trigger tree flowlist fixed key key defined inside key based trigger name defined name flowxml translate trigger tree example pseudocode json swflowcustomevent eventtree swag swag openthedoors open door flowlist swagbeforeopenthedoors open door database migration create new table appflowevent save defined data approotsrcresourcesflowxml file table column like bellow binary null appid binary null name varchar null unique aware json null createdat datetime null updatedat datetime null