title plain sql dal area core tag sql dal storeapi storefront adminapi entityindexer often discussed whether work plain sql data abstraction layer following application layer dal following reason store api data selected returned via store api must extensible third party developer request store api always allow additional data loaded data retrieval encoding must secured acl storefront page loader controller data passed storefront twig template must extensible third party developer since template customized many developer cannot provide minimal offset actual data admin api level data selected returned via admin api must extensible third party developer request store api always allow additional data loaded data retrieval encoding must secured acl writing data dal validation event indexing system write process therefore mandatory ensure data integrity write process take place exclusively via dal entity indexer exception see following application layer work plain sql following reason entity indexer entity indexer located behind entity repository layer make sense work repository database connection directly entity indexer must able reindex data version update avoid much hydration event overhead possible work directly connection entity indexer extension point shopware query executed internal processing data never rewritten core component core component like theme compiler request transformer etc place third party developer able load additional data data loaded pure processing never rewritten deep process like theme compiling affected plugin entity schema plugins optional part system might unstable state update process