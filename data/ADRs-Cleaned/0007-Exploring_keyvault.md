setting vault certification authority proposal wanted explore azure keyvault capability serve service deployed strategic platform hmcts thats issue certificate service may authentication purpose compare previous finding first difference show comparing azure keyvault hashicorps vault per adr azure offering self hosted service provided microsoft whereas hashicorps vault would iaa based solution hosted inside private vnet important difference since currently way interact connecting public endpoint although make rest endpoint public ssl encrypted important highlight way interact service first authenticating azure active directory service combination access policy capability provides fairly granular control regard information accessed appserviceprincipal service support couple method create certificate including selfsigned described rest api provides support extensive number certificate related operation including basic case hmcts might cover cnp currently following list certificate related operation certificate operation azure key vault rest api support following operation certificate create certificate import certificate list version certificate list certificate get certificate delete certificate update certificate merge certificate certificate management operation rest operation management certificate operation associated key vault certificate delete certificate operation get certificate operation update certificate operation certificate policy operation following operation available certificate policy get certificate policy update certificate policy softdelete operation softdelete feature support operation deleted certificate get deleted certificate get deleted certificate purge deleted certificate recover deleted certificate certificate issuer following certificate issuer key vault set certificate issuer get certificate issuer update certificate issuer delete certificate issuer get certificate issuer certificate contact following certificate contact get certificate contact set certificate contact delete certificate contact interacting keyvault api interacting keyvault rest api step process first one must obtain valid authentication token subsequently conduct keyvault operation listed providing service principal right access policy targeted vault illustrate process sample api call obtain token list certificate keyvault called danvaultpoc first request access token youll information serviceprincipal specifically tenantid clientid clientsecret value shell curl post httpsloginmicrosoftonlinecomarmtenantidoauthtoken contenttype applicationxwwwformurlencoded dataurlencode clientidarmclientid dataurlencode granttypeclientcredentials dataurlencode clientsecretarmclientsecret dataurlencode resourcehttpsvaultazurenet accesstoken total received xferd average speed time time time current dload upload total spent left speed eyjexaioijkvqilcjhbgcioijsuziniisingdciijjlvmnenfbawrpthfxufvbddzzsr output truncated obtain token possible conduct operation like listed specific vault show get list certificate stored vault danvaultpoc shell curl authorization bearer put token httpsdankvaultpocvaultazurenetcertificatesapiversion total received xferd average speed time time time current dload upload total spent left speed value httpsdankvaultpocvaultazurenetcertificatescert hbrfbhrdsrdvjffsjvugbk attribute enabled true nbf exp created updated nextlink null consequence although currently clear could leverage intermediate believe extensive number operation controlled via rest api provide enough flexibility accommodate webapp cert case currently devised cnp also important note although avoiding complexity hosting similar service iaa hashicorps vault well case design implement detail suitable authentication workflowframework webapps deployed cnp describing permission must enabled deployment time apps successfully retrieve authentication code active directory order create retrieve certificate via rest api workflowframework covered separate adr information please check following resource httpsdocsmicrosoftcomenusrestapikeyvaultcertificatescenarios httpsblogstechnetmicrosoftcomkvmanagecertificatesviaazurekeyvault httpsdocsmicrosoftcomenusrestapi