swares general architecture single process multithreaded monorepo problem statement three major make impact technology code implemented single process multiple process distinct piece functionality live separate github repos many thread driver want rocksdb solution rocksdb support multiple process unless readonly since writer forced readswrites happening single process multiple repos ended distributed monolith needed wxshared repo hold shared functionality domain structs want deal zeromq fun learn serde ipc added layer complication whenever tried refactoring troubleshooting considered old way multirepo multiprocess singlerepo multiprocess could monocrate multiple crate workspace singlerepo single process outcome chosen singlerepo single process keep thing simple allows focus writing new feature making existing feature bulletproof instead trying wire multiple repositoriesprocesses positive consequence reduced complexity easier read understand reducing repos involved allows shared library module code removing multiple process solution mean ipc isnt needed mean code around zmq transport serde removed greatly simplifies interaction store negative consequence unable scale horizontally needed however rocksdb make difficult anyways dont get learn functionality like crate workspace zmq mpsc queue rebuild rocksdb making change unrelated thing like api route