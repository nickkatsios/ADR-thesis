opensearch migration lazy consensus implemented migration opensearch highlevelrestclient opensearch restclient remains done james distributed server historically elasticsearch software empower search feature apache james relied elasticsearch however elasticsearch changed license term server driver library choosing sspl server side public license nonosi compliant license clash requirement apache project rely asf compatible client library similarly requiring nonfree software dependency would allowed clear infringement asf philosophy freeer alternative available alternative fork emerged elasticsearch one could mention open distro elasticsearch renamed opensearch whose release line fully compatible elasticsearch driver meaning apache james user opensearch alternative opensearch however fix security issue dependency upgrade elasticsearch driver cannot done without license infringement hurting opensearch compatibility similarly opensearch introduces subtle difference make driver longer compatible elasticsearch switch opensearch driver fully adopt opensearch search backend distributed james server first conduct easy migration toward opensearch highlevelrestclient dependency whole opensearch ecosystem conduct expensive migration restclient dependency http client json parsing library consequence user expected deploy opensearch configuration adapted user able james distributed server top elasticsearch product anymore alternative upgrading expose security vulnerability upgrade elasticsearch also due license clash alternative opensearch could apache solr yet distributed search engine also based lucene different elasticsearch would demanded full reimplementation effort could hardly afford migration opensearch tinier step term operation code user willing maintain search system still assemble james server technology choice incurs maintenance cost reference jira discussion mailing list