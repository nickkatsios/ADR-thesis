changing username lazy consensus implemented changing username desired feature email server common practice especially user marries divorce example alice martinez email address alicemartinezdomaintld get married bob ernandez thus want change email address aliceernandezdomaintld preserving email data nowadays james username identifier user data therefore feature hard implement changing directly identifier another value difficult could break data consistency carefully decided changing username two step first create new username migrate old user data new account way expect dangerous current data consistency data old account truncated migrating new account data migration step decided form webadmin task modular design big data migration task contains many small task implement usernamechangetaskstep interface modular design migration step could help developer easier managetest step help tailor james server implement step well today implemented migration step forwardusernamechangetaskstep creates forward old user new user migrates existing forward filterusernamechangetaskstep migrates user filtering rule delegationusernamechangetaskstep migrates delegation impacted user either delegatee delegator mailboxusernamechangetaskstep migrates mailbox belonging old user account new user also migrates user mailbox subscription aclusernamechangetaskstep migrates acls mailbox migrated user access update subscription accordingly introduce fromstep query parameter allows skipping previous step allowing operator resume username change failed step could ease operator case data migration fails middle consequence add one useful feature james rich feature set user change name preserving email data modular design changing username extension friendly tailor james server user would aware new account new usernamepassword implicit migration without user attention archived today jmap identity data migrated tightly coupled old username user create identity data considered critical like push subscription vacation response migrated today contribution welcome could another choice implementing topic create account identifier linked directly username hash value point username changing pointer value would easier changing pointer however approach two great concern huge refactoringbreaking change required nowadays username identifier everywhere table schema code performance concern request required every time want resolve username