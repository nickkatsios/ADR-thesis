config yaml structure integration currently many different way structuring integration config home assistant allow config yaml either integration key platform key integration name allow config flow configuration entered via gui stored config entry allow importing config yaml config entry via config flow adr focus configuration yaml structure integration many configuration impact integration structured home assistant backend apis integration single platform place configuration platform key asyncsetupplatform set platform integration multiple platform sometimes centralize configuration integration domain name key load platform via discoveryasyncloadplatform turn call asyncsetupplatform integration multiple platform doesnt centralized config user add configuration integration domain set integration platform key set platform load platform via asyncsetupplatform backend apis point also sync version increase multitude config integration structure make harder user know configure integration harder contributor know way implement support harder home assistant support confused user contributor harder support extend disparate code base limit configuration yaml structure one way new integration require yaml configuration present integration located integration domain key configuration yaml new integration point existing integration dont allow change yaml configuration platform section integration refactored configuration moved integration domain key yaml allowed awesomeintegration username user allowed sensor platform awesomeintegration username user exception integration fall adr implementing optional uniqueid configuration key set unique entity created platform allowed consequence new integration put integration configuration section integration domain key configuration yaml configuration yaml platform section existing integration frozen integration refactored integration platform loaded via discoveryasyncloadplatform discoveryloadplatform configuration entry small increase complexity new integration contribution decrease number breaking change integration want add platform move configuration per platform configuration centralized integration domain configuration section increase consolidation home assistant core configuration yaml integration structure instead increasing disparity