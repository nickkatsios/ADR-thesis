license check proposed technical story tbd problem statement want control behaviour operator based current enterprise license applied operator example conditional behaviour commercial feature available licensed operator driver currently support multiple deployment operator single namespace multinamespace activation commercial feature minimal amount protection tampering consider admission controller optional mean verification dont want rely functionality exist place well regard license somewhat sensitive data shared freely across namespaces controller considered configure license statically operator startup example shared secret bound instance simple flag trial mode configure license dynamically admission control label resource licenseduntil timestamp create shared secret controllerlicense every relevant namespace tamper proof evidence current enterprise license outcome additional design detail create new crd called controllerlicense created global license controller signer enterprise license different installation specific privatepublic key pair public key shared namespace operator installation time individual controller interested license check verify controllerlicenses appearing namespace key must toggle commercial feature valid license present license controller must create controller license either valid enterprise license valid enterprise trial license present system issue controller license shorter lifetime enterprise license autoextend needed limit impact accidental license leak license leak currently understood much concern cluster license leak controller license validity outside operator installation created elasticsystem foosystem license foo ctrl ctrl enterprise controller pubkey license license creates creates due restriction controller runtime license secret would deployed managed namespace control plane namespace unless course run everything one namespace anyway implement custom client access control plane namespace namespace operator latter underlying assumption license controller graph positive consequence give every namespace operator access full enterprise license allows issue short term controller license limit impact exposure allow relative protection tampering negative consequence effort complexity implementation keypair verify controller license manipulated global license controller extend counteract deletingrecreating correct license public key resource pro con statically configured license good simplifies trial basic cluster creation might start basic default good independent deployment scenario chosen operator bad solve burden proof commercial feature enablement would still copy actual license namespaces controller commercial feature currently global one bad would require operator restart update license information dynamically configured license admission controller good solves problem propagating license global operatornamespace individual namespace operator bad fairly complex bad make admission controller central nonoptional component operator bad offer convincing solution update expiry information problem might want relabel resource new license become available link build top adr