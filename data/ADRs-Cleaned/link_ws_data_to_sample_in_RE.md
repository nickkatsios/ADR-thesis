sample service relation engine data linking design document background see linkwsdatatosamplemd document purpose flesh sample service data linking link data sample database via workspace annotation general design consideration user access sample mean necessarily access data linked sample must explicit workspace permission data user access data linked sample read access sample creating new version sample data link automatically updated could feature future either automatically request particular data unit linked one sample workspace object may contain multiple data unit matrix containing data many sample example data unit linked multiple version sample definition sample service workspace service relation engine sidv sample version sample version sample omitting version indicates recent version obviously subject race condition upa unique permanent address unique identifier object workspace data unit cohesive unit data taken single sample workspace object may contain many data unit duid data unit unique identifier data unit upa optionally identifer data within data object operation link data sample make request sidv duid may want bulk method especially linking column matrix multiple sample may associate metadata link denoting column matrix link refers check user admin access sample link data sample grant read permission sample thus creating link equivalent admin privilege sample open question want explicit link data permission admin admin open question link data perm implictly grant write perm permission become nonmonotonic unfortunate samplesets affect whether user link data sample contained therein check user permission data open question permission required data order link sample link grant special privilege linked data another stakeholder data doesnt want data linked perhaps write admin access required since effectively modifies data require write permission add link shadow object appropriate node sample check object link sample sample link object see slack conversation probably requires transaction ensure data unit linked sample node sample well linked version sample case old link expired time traveling open question verify data unit somehow seems really expensive really complicated would verifier type type would put standard location json dont verify complicated expensive update delete link essentially step linking data except older version link expired limit doesnt apply implemented last view data linked sample make request sidv optionally timestamp time travelling query check user read access sample get list workspace user read access performs traversal version node sample shadow object workspace list accessible workspace return list upas list limited object see may returned bulk sorted without major cpu memory concern open question may also want query workspace object property node index property could speed query dont support view sample linked data make request duid data optionally timestamp time travelling query check user read access upa performs traversal shadow object connected sample node sample tree root open question may want query sample metadata may restructure sample metadata make possible iiuc equality query done array document index maybe index hand separate metadata separate document thats going make document count explode traversal may possible metadata parent node linked node sample affect query metadata inherited duplicate parent metadata child dont support list limited object see may returned bulk sorted without major cpu memory concern open question exclude latest sample version sure possible query done server support toggle api operation missing complex query example given taxon sample find object linked find genome specific gene linked sample set subset workspace design implication object linked sample copied copy linked sample