public api generation typescript library common barrel make import easy consumer barrel simply indexts reexporting content source file consumer import part public api via root indexts past exported everything via multiple barrel file folder barrel export somefilets convenient distinction part public api consumer rely stability part internal api meant direct usage consumer convenience drawback often blocked refactoring adr proposes way improve situation api category new strategy provide following exported public api cautious consumer rely stable contract minor version contains object see reuse potential customer api reachable via root level import sapcloudsdkodatav exported internal api exported technical reason meant consumer keep api stable path version api accessible via sapcloudsdkodatavinternal exported wherever possible object like constant function interface type class must one category achieve note problem two side typescript dts file source truth available type could stripinternal compiler flag remove internal object dts file could still export abc type definition reduced javascript module export transpiled indexjs matter minimal api exposed one avoid export statement tool like barrelsby create barrel however tool create named minimal export hence propose following approach code manually maintain api internal annotation stripinternal compiler part internal api remove internal api dts file maintain minimal named export root indexts pointing object public api creates also minimal module export javascript usecase create internal export case imported via sapcloudsdkodatavinternal internal folder contains export large manual effort initially seems redundant minimal indexts alone would already trick however double maintenance make better check rule possible plan implement following check check avoid export root indexts automatic tool like barrelsby create indexts exporting everything internal folder check enforce exposed object dts match named export root indexts missing value indexts denotes exported something code added relevant barrel missed internal missing value dts denotes violated api contract marked previously exported object internal integration test enforce root level import via eslint rule optiona check enforce tsdoc exported object either full doc part public api least internal minimal value eslintplugintsdoc require rule eslintpluginjsdoc recognize many typescript object interface internal package package odatacommon generatorcommon meant direct usage hence export public api root level index empty object intended public reexported odatavodatav generator package consequence minimal api exposed consumer exported function internal able refactoring internal api method tooling enforcing keep public api minimal well documented