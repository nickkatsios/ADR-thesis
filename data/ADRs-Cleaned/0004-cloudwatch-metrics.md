cloudwatch metric wanted gather metric infrastructure drive alert thing wrong amazon expose platformlevel metric via cloudwatch prometheus provides cloudwatchexporter make metric available prometheus spike see could cloudwatch exporter get cloudwatch metric trigger alert getting work number metric able start estimate cost estimate concern regarding high cost running due number metric requested cloudwatch api time metric endpoint hit trigger exporter retrieve metric cloudwatch api every cloudwatch metric request cost money regardless ask metric metric per api call metric metric per api call cost number metric metric page number scrape hour number hour year price requesting metric api number prometheis running across environment based simple assumption metric requested scraped every minute per hour prometheis production prometheis staging dev account would work per year however wish scrape rate would normal target second would become roughly per year metric also appears unlikely based asking alb metric applicationelbrequestcount applicationelbtargetresponsetime applicationelbhttpcodeelbxxcount ebsvolumewritebytes ebsvolumereadbytes ebsvolumereadops ebsvolumewriteops appear requesting roughly metric per scrape scraped current config period every minute would end roughly year scraped every second would requesting alb metric dev account still produce api request according cloudwatchrequeststotal counter scrape somewhat strangely return timeseries sure config incorrect number api call could reduced closer match number timeseries note dev account lot resource volume may fewer metric requested staging prod unlike dev account wouldnt exporting metric stack take long time get response metric endpoint make many api call cause slow response time prometheus scrape config allow scrapetimeout setting found cloudwatch exporter app cpu intensive double standard instance size mxlarge get work also concerned cpu intensive task running instance prometheus fetch config sidecar container race condition fetching config starting cloudwatchexporet found condition encountered every time meaning either restart task needed would add delay exporter starting try solve exporter task slow start health check longer usual pas health check spotted several target scraping prometheus alertmanager set short scrape interval every seems excessive likely change every sec regardless story roughly minute delay cloudwatch metric prometheus cloudwatch exporter readme explains cloudwatch observed sometimes take minute reported value converge default delayseconds result data least minute old requested mitigate cloudwatchexporter gather cloudwatch metric prometheus consequence alert volume attached instance concern prometheus would start metric stored however fixed commit resolve causing user data script exit failure volume attached alert raised failure longer silent prometheus longer run without attached volume also dont metric available alb part aws infrastructure explore solution get metric costefficient