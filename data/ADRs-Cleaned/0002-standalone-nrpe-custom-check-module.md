standalone nrpe custom check module add new functionality project ability create custom nrpe check mean templated configuration adding servicespecific plugins purpose monitoring base module already contains nrpe specific code installs nrpe ensures running also configures set default monitoring plugins considered three possible approach adding new nrpe functionality add basenrpe create separate nrpecustomchecks module keep base way create separate nrpecustomchecks module refactor base check creation rather extending base nrpe class chose create standalone nrpe custom check module keep base independent consequence positive consequence adding new nrpecustomchecks functionality base keep scope small tightly focused standalone foundation centos image guarantee faster build dependency content deliberately kept minimal nrpecustomchecks module evolve design without constrained design restriction base potential negative consequence argument merit providing ability create custom check part base logic duplication plugin configuration basenrpe nrpecustomchecks module testing nrpecustomchecks module becomes bit tricky resource nrpecustomchecks module parameterised external nrpe installation configuration basenrpe basenrpe depends hiera data must mock test basenrpe implementation change could break nrpecustomchecks module test based current change future there new information