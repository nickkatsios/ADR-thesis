add provide listmetrics target querytype rejected metric support query type list metric however query query type metric selected providing listmetrics api information would make possible filter metric list solution add target query type listmetrics api extend listmetrics api additional attribute specifies query type current query backend property filter selected metric pro easy implemented allows backend filter metric support selected query type con inconsistent user experience user perspective clear certain metric included list degradation user experience work properly grafana variable scope variable dashboard therefore information current query reject change degrades user experience plugin consequence listmetrics always return metric regardless selected query type