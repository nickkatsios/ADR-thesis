adr twirp implement datastore api project component within project called decode european commission funded project aim explore pilot new technology give people control store manage personal data specific subtask project belongs internet thing iot pilot aim demonstrate architecture individual retain autonomy data collected published iot device within home agreed architecture pilot requires implementation three independant component together provide mechanism registering claiming ownership iot device creating encrypted stream data device providing mechanism storing encrypted data somewhere provide mechanism allowing user correct decryption key download decrypt saved data component required follows encrypted datastore must able persist encrypted data robust storage allow data retrieved client decrypt read data provided correct key stream encoder must able subscribe raw event published iot device encrypt data encryption key supplied device write encrypted event datastore device registration service must able allow user claim device device create encrypted stream device decode explicitly attempting provide tool work decentralised way already taken implement functionality via separate component described record rather proposing technology expose implement api datastore easily usable component within system constraint component must support running distributed node meaning communication component must happen network standard protocol component operated smartcitizen running production component required support range client language internally thingful team perhaps one ruby python javascript eurecat smartcitizen tbd identified following component restful json http stateless vsimple understand conceptually standard http easy integrate service easy test debug via curl command line jsonrpc httpwwwjsonrpcorg lightweight remote procedure call protocol json readable transport agnostic testeddebugged via curl command line twirp httpstwitchtvgithubiotwirpdocsintrohtml lightweight rpc framework developed twitchtv protocol buffer httpsdevelopersgooglecomprotocolbuffers define message service http natively expose protocol buffer json endpoint automatic generation client server stub able tested command line via curl protocol buffer endpoint matching json endpoint simply post request grpc httpsgrpcio modern rpc framework open sourced google protocol buffer define message service allows automatic generation client server stub requires http soapxmlrpc xml based rpc framework vheavyweight one want twirp implement datastore service api reasoning automatic client generation single protocol buffer definition really nice feature http easier integrate existing infrastructure grpc natively expose jsonhttp endpoint meaning relatively easy cli testing debuggability standard rest api efficient protocol buffer implementation real client single repository created hold protocol buffer service definition service developed decode location repository time writing httpsgithubcomthingfuldecodeprotorepo language binding client generated repo pushed repository via automated script language binding packaged language appropriate way meaning easy developer attempting write code interacts service repo language binding packaged expected format language deployed standard package index given project binding datastore available httpsgithubcomthingfultwirpdatastorego consequence twirp allow automate generation client following language python ruby javascript protocol buffer allow compact efficient serialization message sent component addition client generated automatically manually write tedious code parse encode data protocol buffer may familiar consortium partner meaning might confusion system hoped provide generated client library automatically mitigate twirp relatively new protocol supported google level company risk long term might fully supported however project already star github active slack channel indicating reasonable level interest community growing around protocol