library optional field subobjects underlying protocol json field absent response received server furthermore application field query parameter select subset field response natural question whether field represented optionalt whether class represent object attribute look like class objectmetadata public stdstring const name const stdchronosystemclocktimepoint timecreated const customerencryption const customerencryption const look like googlecloudoptional class objectmetadata public optionalstdstring const name const optionalstdchronosystemclocktimepoint timecreated const optionalcustomerencryption const customerencryption const string field semantic difference empty string field present stdstring array field semantic difference field present empty array stdvector integer boolean field default false field present object field default wrapping field optional field wrapped optional offer convenience function make easier operate field field called foo hasfoo return true field set foo return field value set behavior undefined value set fooasoptional return optional field resetfoo reset field writable field setfoo set field writable field consequence advantage approach field easy time disadvantage approach include ambiguity application filter returned field value may default value client get field application change time start filtering different field code may assume value field valid default value optionals application crash testing may programmed defensively since start also requires thought designing class field different semantics default value reference originally discussed original also interesting discussion