determining appropriate database system store snapshot problem statement version repository several purpose display difference two version particular user receive notification change simply see change explore significant change tracked document offer corpus latest version document monitored service serve dataset research therefore important repository constitutes quality dataset provide relevant information user purpose following constraint considered necessary version must ordered chronologically navigation history document intuitive version contain noise significant change version must contain link snapshot generate currently following problem repository version identified noise version url structure change tracked document presence refilter commits related url selector update service declaration open term archive code evolution presence commits due code change type renaming service renaming documentation change repository presence unordered commits consequence import tosback history snapshot import snapshot corresponding archived document provided service solution considered order provide quality dataset therefore consists able regenerate version snapshot thats call rewriting history rewriting history rewrite history snapshot commits one one reordering memory create version commit time avoiding commits corresponding noise performing renaming implies able version service filter generate version snapshot see httpsgithubcomopentermsarchiveengineissues problem currently git database storing snapshot version one year ago process rewrite history estimated take hour commits also noted evolution time linear commits snapshot average time per commit increase appears costly operation accessing content commit checkout also appears older commit git history longer operation take example history containing commits accessing content oldest commit take accessing recent commit take document number commits entry approach million iterate snapshot rewrite version history currently take month also git implies store data hash tree form chronologically ordered commits insert snapshot history implies rewrite whole snapshot history also take time reading described previously able regenerate version snapshot example rename service able insert snapshot history example import database cannot take month moreover number snapshot keep growing system allows scaling potentially across multiple server thus database management system meeting following requirement access time snapshot constant independent authoring inserting time snapshot constant independent authoring support concurrent access scale horizontally solution considered keep system git splitting subrepos since accessing content commit take longer older history considered idea would work successively ordered subset history mean truncating history browsing remaining commits regenerating corresponding version creating another subset history contains arbitrary number commits following commits already browsed perform processing create history subset git create clone subset commits local snapshot git clone depth filelocalpathsnapshots snapshotstmp corresponding position first commit want block relative last commit history remove commits older last commit want keep block git reset hard sha sha corresponding last commit want block clean git ensure history navigation efficient git split history chronologically ordered block lead next problem splitting reordering block snapshot snapshot commits unordered cant simply create block fixed size git history otherwise wed process commits order necessary create block whose commits ordered within block also relation block example commits first block processed must older commits block solution would create block order git history look commits place whose earlier predecessor commits represents first commit block block extends previous one starting point next block thus obtain block whose commits ordered still order block note possible cut block able place another chronologically ordered commit block without overlap previous approach may necessary resplit block reasonable size move snapshot documentoriented database idea solution keep version git order continue enjoy benefit github provides term browsing viewing diffs save snapshot database since dont really browse snapshot via graphical interface see diff two snapshot would allow able access content efficiently mongodb seems meet constraint natively allows horizontal scaling replica set sharding support concurrent access inmemory storage engine performance also simple test ensure access time insert time also meet requirement populated database one million entry tried accessing snapshot random found access time remained stable test sequential access random snapshot average access time maximum moreover mongodb following benefit easy offer simple query syntax sql quick learning curve especially javascript developer flexible evolutive allows manage data structure tabular structure defined advance widely javascript ecosystem downside joining document mongodb easy task pulling data several collection requires number query lead long turnaround time problem case currently envision complex query outcome mongodb meet requirement retained solution benchmark mongodb implementation refilter take around took around git version