notification error handling error occurs validating additional notification data sending request ctp platform adyen notification wrap thrown error customized error object commercetoolserror validationerror class validationerror extends error constructor stack message super thisstack stack thismessage message thisretry false class commercetoolserror extends error constructor stack message statuscode super thisstack stack thismessage message thisretry thisshouldretrystatuscode shouldretrystatuscode return statuscode statuscode statuscode displayed customized error object wrap partial information original error since whole error object logged important information may missing debug purpose error occurs making request ctp platform adapt verror package help wrap entire original error propagate function caller try attempt perform request ctp platform catch err throw new verrorerr customized error message wrapped error retrieved verror wrapper either following code snippet const cause verrorcauseerr const cause errcause detais please refer verror documentation case error thrown external call happens fail data validation dont adapt verror simply instantiate error object parsing error message like example transactionstateflowhasownpropertycurrentstate transactionstateflowhasownpropertynewstate const errormessage wrong transaction state passed currentstate currentstate newstate newstate throw new errorerrormessage consequence fewer boilerplate code customized error object obsoleted information original error listed log example show log customized error wrapper name ctpadyenintegrationnotifications hostname pid level notification eventcode authorisation eventdate pspreference testauthorisation success true err message got concurrent modification error updating payment undefined version tried undefined currentversion wont retry reached limit max retries failed action actionaddinterfaceinteractiontypekeyctpadyenintegrationinteractionnotificationtypeidtypefieldscreatedattzstatusauthorisationtypenotificationnotificationeventcodeauthorisationeventdatetpspreferencetestauthorisationsuccesstrueactionaddtransactiontransactiontypeauthorizationamountcurrencycodeeurcentamountstatesuccessinteractionidtestauthorisation object fcefdceec different version expected expected actual name verror stack verror got concurrent modification error updating payment undefined version tried undefined currentversion wont retry reached limit max retries failed action actionaddinterfaceinteractiontypekeyctpadyenintegrationinteractionnotificationtypeidtypefieldscreatedattzstatusauthorisationtypenotificationnotificationeventcodeauthorisationeventdatetpspreferencetestauthorisationsuccesstrueactionaddtransactiontransactiontypeauthorizationamountcurrencycodeeurcentamountstatesuccessinteractionidtestauthorisation object fcefdceec different version expected expected actual updatepaymentwithrepeater usersleungkinghinprojectscommercetoolsadyenintegrationnotificationsrchandlernotificationnotificationhandlerjsn async processnotification usersleungkinghinprojectscommercetoolsadyenintegrationnotificationsrchandlernotificationnotificationhandlerjsn async objecthandlenotification usersleungkinghinprojectscommercetoolsadyenintegrationnotificationsrcapinotificationnotificationcontrollerjsn async contextanonymous usersleungkinghinprojectscommercetoolsadyenintegrationnotificationtestunitnotificationcontrollerspecjsncaused concurrentmodification object fcefdceec different version expected expected actual buildmockerrorfromconcurrentmodificaitonexception usersleungkinghinprojectscommercetoolsadyenintegrationnotificationtesttestutilsjsn objectanonymous usersleungkinghinprojectscommercetoolsadyenintegrationnotificationtestunitnotificationcontrollerspecjsn objectinvoke usersleungkinghinprojectscommercetoolsadyenintegrationnotificationnodemodulessinonlibsinonbehaviorjsn objectfunctionstub usersleungkinghinprojectscommercetoolsadyenintegrationnotificationnodemodulessinonlibsinonstubjsn functioninvoke usersleungkinghinprojectscommercetoolsadyenintegrationnotificationnodemodulessinonlibsinonproxyinvokejsn objectupdate usersleungkinghinprojectscommercetoolsadyenintegrationnotificationnodemodulessinonlibsinonproxyjsn updatepaymentwithrepeater usersleungkinghinprojectscommercetoolsadyenintegrationnotificationsrchandlernotificationnotificationhandlerjsn async processnotification usersleungkinghinprojectscommercetoolsadyenintegrationnotificationsrchandlernotificationnotificationhandlerjsn async objecthandlenotification usersleungkinghinprojectscommercetoolsadyenintegrationnotificationsrcapinotificationnotificationcontrollerjsn async contextanonymous usersleungkinghinprojectscommercetoolsadyenintegrationnotificationtestunitnotificationcontrollerspecjs msg unexpected exception occurred time following example log verror package applied name ctpadyenintegrationnotifications hostname pid level notification eventcode authorisation eventdate pspreference testauthorisation success true cause body statuscode message object fcefdceec different version expected expected actual error code concurrentmodification message object fcefdceec different version expected expected actual currentversion name concurrentmodification code statuscode originalrequest uri myprojectpaymentsfcefdceec method post body version action action addinterfaceinteraction type key ctpadyenintegrationinteractionnotification typeid type field authorised type notification response header accept applicationjson contenttype applicationjson authorization bearer retrycount header server nginx thu mar gmt contenttype applicationjson charsetutf contentlength servertiming projectsdur xcorrelationid projectsddacbacfbcdf xservedby apixxxcommercetoolsde xservedconfig sphereprojectsws accesscontrolalloworigin accesscontrolallowheaders accept authorization contenttype origin useragent accesscontrolallowmethods get post delete accesscontrolmaxage via google altsvc clear connection close msg unexpected exception occurred time