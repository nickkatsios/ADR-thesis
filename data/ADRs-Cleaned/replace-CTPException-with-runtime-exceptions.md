replace inappropriate usage ctpexception appropriate runtime exception java checked exception called ctpexception become ubiquitous throughout entire sdc codebase occurring place many mandatory declaration throw ctpexception consequence checked exception case runtime exception wanted error unexpected unrecoverable java usefully provides illegalargumentexception illegalstateexception example cater almost almost raise exception unexpected unrecoverable error system occurs rest apis http code specifically chosen logic closest definition api endpoint tell api client whether made bad request resource found indeed internal server error occurred event system unrecoverable error due missingcorrupt data mangled state whole host problem internal could investigated fixed ops ctpexception introduced convenience class return different http code rest apis completely misused spread around codebase remove ctpexception class wherever exists replace runtime exception case exception specific rest api error rest api sent garbage bad request rest api cant find requested resource resource found rest api cant perform action business rule invalid state transition forbidden runtime exception event following rest api error rest api didnt find data expected needed find null missing configuration many kind system state corruption possible internal server error rest api cant connect database rabbit redis another api service unavailable great deal code deal rabbit queue message cronscheduledpoller job course cannot report http code interactive user asynchronous checked exception code inappropriate error fatal unrecoverable rely totally logging alerting instigate investigation fix issue exception runtime exception vast majority exception raised sdc system runtime exception consequence require significant effort replace ctpexception place many unit test refactored rest apis change shared framework ensure appropriate http code still returned api client although apis internally precise code particularly useful instead tool like zipkin correlation allow able investigate failure root cause far effectively http code place ctpexception inappropriate appropriate exception raise case considered individually timeconsuming improve error handling processing queue message processing scheduledtimedcron job batch confused asynchronous synchronous paradigm work avoid situation end unrecoverablecorrupted state requiring manual intervention operational support ongoing overhead teaching new developer join project appropriate way raise exception javaspring application ultimately improving error handing particularly around exception result system capable recovering temporary outage part microservices architecture also comprises postgresql rabbitmq sftp party service might always available