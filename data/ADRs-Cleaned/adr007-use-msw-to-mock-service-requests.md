adrsadr title adr msw mock http request description architecture record adr log msw mock http request network request mocking total pain sometimes different type test unit test test always implementation mocking request there traction outer community towards library mock network request express style declaration route reacttestinglibrary suggests library instead mocking fetch directly whether browser node httpsgithubcommswjsmsw moving forward decided fetch xmlhttprequest happens mocked msw example import setupworker rest msw const worker setupworker restgetuseruserid req ctx return ctxjson firstname john lastname maverick start mock service worker workerstart real life scenario taken catalogclienttestts beforeeach serveruse restgetmockapioriginmockbasepathentities ctx return resctxjsondefaultresponse itshould entity correct endpoint async const entity await clientgetentities expectentitiestoequaldefaultresponse consequence little code write gradually replace codebase msw