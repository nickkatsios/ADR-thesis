bluegreen deployment manage database migration reached point going start reading writing data allocation api application database manage database migration adding table column forth adr outline agreed upon approach team take managing migration bluegreen deployment split following step adding column example add database migration insert new column update application new data get written new column run task copy data old column new column update application read new column add database migration remove old column also ensure migration include method rather change avoid situation rail doesnt know handle inverse consequence reduce downtime reduce risk losing data granularly control individual task rather happening one big bang type event cant recover another adr required researched discussed decided manage situation involving rollback