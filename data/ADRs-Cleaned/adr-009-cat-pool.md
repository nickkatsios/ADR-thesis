adr content addressable transaction pool changelog initial draft cmwaters one criterion success celestia reliable data availability layer ability handle large transactional throughput component play significant role mempool purpose receive transaction client broadcast node eventually reaching next block proposer includes block given celestias aggregatorlike role whereby larger transaction blob expected dominate network traffic contentaddressable algorithm common many peertopeer file sharing protocol could far beneficial current transactionflooding protocol tendermint currently adr describes content addressable transaction protocol comparative analysis existing gossip protocol present case adoption celestia content addressable transaction pool disseminating transaction node within celestia network detailed design core idea transaction referenced key generated cryptographic hash function reflects content transaction node signal one another transaction via key request transaction missing key reduces amount duplicated transmission compared system blindly sends received transaction connected peer see consequence section full detail exact protocol found spec document focus main deciding point around architecture assumed client submit transaction single node network thus node receives transaction rpc immediately broadcast connected peer new message seentx wanttx broadcast new mempool channel bytex backwards compatibility distinguish priority node running mempools receive message able operate normally similarly interface tendermint modified way thus node operator easily switch mempool version transaction gossiping take priority state message avoid situation receive seentx respond wanttx transaction still queued node buffer node sends seentx node havent yet seen transaction jitter upper bound stagger seentxs broadcast avoid message sent wanttxs sent one peer time timeout deem peer unresponsive wanttx sent another peer currently set estimation network round trip time yet configurable may want change future channel added allow txpool feed validated reactor sent peer series new metric added monitor effectiveness successfultxs number transaction committed block baseline alreadyseentxs transaction received requestedtxs number initial request transaction rerequestedtxs number follow request transaction high may indicate request timeout short cat pool numerous unit test added tested local network put strain large geographically dispersed node network approach variation design prototyped tested early implementation experimented seentxs node would gossip seentx upon receiving valid node would relay received transaction peer sent seentx however many case would lead node sending peer able receive seentx node sent even higher priority large amount duplication still occurred another trick tested involved adding field seentx node receiving seentx would nodeid check already connected peer thus could expect transaction soon instead immediately issuing wanttx large scale test proved surprisingly efficient might seentx rarely arrives another node initial sender broadcast everyone may also testnets node connected node decreasing chance node actually connected original sender field also added extra byte seentx message chart experiment shown cat implemented consequence validate effectiveness protocol benchmarked existing mempool implementation done closetoreal network environment testground celestiaapp binary create validator network network would subjected pfbs light node per transaction network followed second blocktimes maximum block size roughly filled run minute torn collected data aggregated across node follows version average bandwidth standard deviation finalized bandwidth cat cat finalized bandwidth amount byte finalized consensus per second whereas measurement per node rather expressing difference byte also viewed factor duplication amount time transaction received node version cat cat duplication course come cost additional message overhead come point transaction small enough reduction duplication doesnt outweigh extra state message positive reduction network bandwidth cross compatible therefore easily reversible negative extra network round trip directly receiving transaction greater complexity simple flooding mechanism neutral allows compact block implemented depends push pull functionality ongoing work section describes work may subsequently undertaken area first transaction bundling node subject lot transaction client instead sending immediately onebyone may wait fixed period bundle together set transaction represented single key increase content key ratio thus improves performance protocol area exploration concept neighborhood variation idea present gossipsub solanas turbine concept entail shaping network typology many neighborhood section node seen strongly connected node neighbourhood weakly connected peer neighborhood idea behind structured topology make broadcasting directed outside protocol development work done accurately measure performance protocol managed sustain second block time mostly full block output throughput indicates network artificially constrained either constraint lifted ideally max square size able measure underlying network speed reference contentaddressable transaction pool spec