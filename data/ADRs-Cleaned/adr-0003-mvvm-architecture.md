adr refactoring modelviewviewmodel mvvm architecture initial version codebase built without specific architecture mind led problem new flow proposal incompatible previous assumption different view bound together fragile difficult change integrating large piece androidcomponents library caused many regression partly state management distributed throughout different part testing app state especially browseroverlay homescreen difficult side effect action spread throughout app rather consolidated formal architecture needed provide clarity changeadd code number people working codebase grows formal architecture address problem explicitly decoupling state common one mvcmvp mvvm mvi decided google mvvm architecture component addition satisfying requirement separating state view also allowed incremental change important switching new architecture would extend past single sprint possibility wed respond critical issue refactor also familiar welldocumented architecture integrates well android viewmodel livedata also considered mvi would make testing easier state immutable mvi didnt allow incremental change steeper learning curve also decided mvp doesnt enforce clear separation model presenter often lead bloated presenter could complicate android lifecycle management model different repository hold state component app old state logic handle action change model viewmodel observes change repository update view call action exposed model interaction fragment connect model fragmentonviewcreated setting observer model consequence refactor mainactivity mvvm architecture future code addition mainactivity made mvvm architecture mainactivity tightly coupled mvvm choose abandon mvvm architecture without refactoring existing code could potentially confusing mvvm code expected maintainable greater clarity testability separation mvvm provides mvvm code take marginally longer write least short term learn best way express pattern merge architectural change master early sprint give enough time test regression