corvustenancy provides wrapper facilitate transition described adr corvustenancy create storage container automatically corvustenancy introduces change application responsible creating necessary container onboarding client creates challenge application already deployed following thing may true tenant may exist subset storage container exist nodowntime migration compute farm may mixture component enable application currently corvustenancy migrate without disruption clearly defined path system upgraded upgrade multiphase approach single compute node application step nothing library mostly see mode library onboarding new client style config available falling back config autocreation container config available library nontransitional mode phase would run tool transition configuration tool completed work free move phase there particular hurry move final phase tenant configuration migrated there behavioural difference phase main motivation moving phase enables application remove transitional code transition complete phase might occur year phase example library marain enable developer host instance service might choose retain transitional code long time give customer library time complete migration support zerodowntime upgrade necessary support state compute node particular store mixture two adjacent phase move period time node still phase phase however avoid ever three phase simultaneously example wait compute node completed move state moving state following section describe behaviour required state support transition there nothing document phase thats system already today behave phase library operating mode node phase upgraded library transition support essentially operating mode never create new configuration new tenant continue onboarded way librariesthe application precreate container expects tenancy library create demand required give application lowimpact way upgrade library without changing behaviour also open path migration towards new style operation one difference behaviour reason describe mostly mode configuration present particular configuration key following effect application configuration even look see configuration present application presume relevant container configuration already created attempt create anything demand necessary support case node completed transition phase none phase moved phase node still phase point able cope possibility client onboarded phase node configuration available expect configuration present particular container point migration tenant onboarded way configuration start node reached phase configure node run mode storage suitable transitional interface iblobcontainersourcewithtenantlegacytransition application must provide two configuration key one configuration one configuration transitional adapter never create configuration look look configuration configuration present phase library operating mode falling back necessary node phase library onboarding new tenant precreates necessary container store config still transition support case existing tenant configuration available fall back old behaviour difference phase phase application onboards new tenant phase transitional adapter exactly way configuration migration node phase tool run upgrade configuration aspect tooling necessarily applicationspecific application know discover tenant application know configuration storing key