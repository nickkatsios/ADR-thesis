layout default title adr navorder permalink record create publishshelve api support version access system approved deciders access team infrastructure team andrew repository admin drafted approved technical story problem statement currently dorservicesapp dsa sdr workflow system work together orchestrate three step required shelving publishing object access system dsa share knowedge access system file stack purl structured put content file stack nfs mount httpsgithubcomsuldlssdorservicesappblobmainappservicesshelvingservicerbl put metadata purl nfs mount httpsgithubcomsuldlssdorservicesappblobmainappservicespublishmetadatatransferservicerbl call purlfetcher api transfer control objecs access system mainly indexing ideally would single api file uploaded metadata posted similar sdr deposit api would allow decouple dsa needing mount stack purl filesystems driver add support version object api allows access team fully control implementation filesystem required version without share knowledge dsa considered deposit api similar sdrapi continue step deposit outcome chosen deposit api purlfetcher allows decoupling dorservicesapp file structure purl stack allow access project move versioned object storage without make change dorservicesapp positive consequence improvement quality attribute satisfaction followup required negative consequence compromising quality attribute followup required pro con deposit api similar sdrapi allow leverage activestorage api transfering file weve already implemented sdrapi wont big challenge adopt see httpsgithubcomsuldlsssdrapitabreadmeovfilesequenceofoperations good file metadata verified final post good file metadata single api good abstract away implementation purl stack filesystems bad account orphaned file file posted metadata never sent continue step deposit put file stack mount put metadata purl mount call dorfetcher good proven setup good simple bad make hard change versioned access system rewrite anyway require sender receving system coordinate migration bad boundary system apis bad validation completeness happens