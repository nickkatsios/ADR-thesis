split component infrastructure incomplete following upgrade kubernetes podsecuritypolicy removed team chose gatekeeper mutating capability replace functionality previously provided psp configuration meant large change way cluster operates module component level upgrading became clear large number component dependent required make component level difficult work also found module non standard method declaring dependency version terraform time removing dependency component level allow focus future feature multi cluster blue green cluster propose add new level build process called core split process distinct area within terraform eks everything required bring basic cluster core core component required user able safely securely deploy application component optional component provide additional functionality cluster component optional live apart starter pack testing new component feature component make sure edge case issue consideration developing test cluster easier live documentation focus deploy live safely migrate existing terraform state new location front work evaluate component determine whether core optional component prometheus crds hard requirement lot component split core would increase complexity stage must concrete deliverable decided start planning work required split component core document process moving component test change test cluster apply change live live manager consequence implementing solution decreasing component level complexity open lot future roadmap work