remove elasticsearch proxy currently local nginx based proxy elasticsearch connection number machine original reason load balance connection elasticsearch creating loopbackonly vhost nginx forward set elasticsearch server benefit application client library dont support native cluster awareness load balancing aws environment service behind elb layer may longer required weve tested instance aws without local proxy discovered degradation service elbs light remove configuration exclude puppet code running aws accept elbs replacement consequence slight difference considered team improvement current environment new aws one mean wont testing exact thing simplify networking application data flow path