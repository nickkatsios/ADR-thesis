agent describe instance class beginning domain api get instance class called domaingetagent later confused change domaingetinstance realized mistake change back getagent instance class called agent aop consequence unit test rewrite