discard component module deciders gary crye jamie visker josh gubler scott hutchings problem statement terraform recommends nesting module deep hierarchy felt varying recommendation made sense weve started feeling pain due follow recommendation continue trying organize module reusability abstraction driver terraform best practice simplicity maintenance enhancement fix abstraction reuse way terraform handle perceived change state considered keep component module discard component module outcome chosen discard component module danger breaking product pain enhancement high component module pro con keep component module standard module compose component module compose resource good easier propagate fix good get reuse pattern standard setup alb way bad component speculative complexity andor dont meet case bad discourages developer really understanding infrastructure component bad standard doesnt fit abstraction get way understanding problem bad standard doesnt fit make lot modifycopy standard modifycopy component bad refactoring could create major breaking change state file many product discard component module standard module compose resource good module logic focused implementing pattern speculative generic logic seems line ddd language design good easier understand component actually build bad complexity right front morebetter comment good standard doesnt fit easier understand would take modify component good standard doesnt fit easier make single modify copy good without hierarchy refactoring could break product bad logic duplicated among standard making fix harder distribute bad logic duplicated among standard allowing drift bad major refactor cause product major state change terraform think tear rebuild bunch resource good time kind refactor ton product standard