included json schema domain element merging apimf report stackoverflowerror domain element merging merging included recursive json schema traitresource type operationendpoint see amfclisharedsrctestresourcesresolutionmergerecursivejsonschemasraml example happen two reason json schema inlined mean parsing included jsonschema produce time different inmemory shape object every location included rather link single object placed externalfragment raml type work merging skip merging inmemory object since object different get merged resolution step ordering reference resolution plain link get resolved extends resolution domain element merging case shape normalization recursion detection extends resolution check recursion done next step called shape normalization however resolving extends resolve link make susceptible recursion safe guard mechanism recursion skipping merging inmemory object doesnt work aforementioned cause apart skipping equal inmemory object skip object schemaisjsonschema annotation externalsourceelementmodelreferenceid field implementation included json schema operationendpoint mentioned information problem case operationendpoint derived traitresource type applied process deriving operationendpoint traitresource type look follows summarized parse traitresource type data node emit data node ynode parse emitted ynode operationendpoint problem data node referenceid field shape solution step keep information first create new annotation referenceid hold stored data node step emitting data node ynode lose annotation original ynode mutref necessary information emitted ynode plain yscalar type string without information emitting original mutref break case available collect newly emitted ynode mapynode referenceid relates original referenceid step mapynode referenceid relating ynode original reference delegate information json schema parser effectively create externalsourceelementmodelreferenceid field parsed shape mean webapicontext take map implicit argument json schema parser access map via webapicontext simply check ynode previously related refenreceid creates corresponding field schemaisjsonschema annotation making available domain element merging check consequence fix introduces technical debt fix particular corner case corner case like merging inlined schema referenceid merging nested recursive node schema top level shape referenceid adhoc fix hack introduce debt reporting case since specific internally detected corner case might better refactor domain element merging make robust addressing fix individually