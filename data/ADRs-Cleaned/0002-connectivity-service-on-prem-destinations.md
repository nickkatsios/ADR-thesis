supporting connectivity service onpremise destination proposal connectivity service two version shana cloud onpremise cloud publicly reachable onpremise may cloud foundry allows onpremise system cloud connector cloud connector act proxy allows user securely tunnel traffic cloud foundry onpremise system running configured subaccount destination defined connectivity service missing link allows connect cloud connector binding connectivity service app give entry environment variable like json vcapservices connectivity bindingname null credential clientid clientid clientsecret clientsecret identityzone identityzone onpremiseproxyhost connectivityproxycfsaphanaondemandcom onpremiseproxyport onpremiseproxyrfcport onpremisesocksproxyport tenantid abcdefghijklmnop tenantmode dedicated uaadomain authenticationsaphanaondemandcom url httpsssdkauthenticationsaphanaondemandcom verificationkey begin public keythe public keyend public key xsappname xsappname instancename myconnectivity label connectivity name myconnectivity plan lite provider null syslogdrainurl null tag connectivity conn connsvc volumemounts onpremiseproxyhost onpremiseproxyport give uri request tunneled case httpconnectivityproxyinternalcfsaphanaondemandcom note http http note url reached cloud foundry try connecting machine request simply timeout additionally two header added request proxyauthentication bearer client credential grant connectivity service idsecret sapconnectivityauthentication bearer requesting user jwt second probably necessary destination originated subscriber subaccount implementation easiest solution would check destination accessor whether proxyconfiguration necessary would include prebuilding header simply putting everything destination like destination stuff proxyconfiguration proxyhost string proxyport number header maptypestring odatarequestexecute could check proxy configuration select agent accordingly odatarequestheaders simply include proxyheaders request header sure best separation concern might jwt build header principal propagation also store authtokens destination guess fair caveat proxy axios difficult way got work setting custom agent axios request httpproxyagent lib problematic since also agent support trustall destination two agent dont mix spirit getting shit done suggest simply dont support mixing given trustall intended nonproduction feature proxy trustall however ever become significant issue another requirement arise wed agent seriously consider implementing article might provide good starting point