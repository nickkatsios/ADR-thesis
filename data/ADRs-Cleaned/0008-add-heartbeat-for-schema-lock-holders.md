adding heartbeat schema lock holder superseded cql create table version anyone trying acquire schema mutation lock already held someone else would keep trying acquire lock fixed timeout threshold threshold reached would stop trying acquire lock throw timeout exception would effectively kill client trying grab lock necessitate restart timeout threshold instead retrying indefinitely handle case lock holder without releasing lock however think caused lot unnecessary exception since threshold static believe could avoid lot timeouts way informing anyone trying acquire lock lock holder alive dead information keep retrying long know lock holder alive without timing needlessly inform anyone trying acquire lock lock holder dead alive decided lock holder periodically update lock heartbeat lock table still holding lock way anyone else trying acquire lock see update lock keep retrying long update continue currently lock value lock table consists randomly generated identifier incorporate heartbeat update value decided change lock value following format randomly generated idheartbeat value heartbeat value would essentially incremented every heartbeat lock holder example lock identifier heartbeat value would lock value heartbeat mechanism place needed decide whether allow someone waiting lock override lock grab detects lock holder dead via heartbeat allowing lock could overridden weakened guarantee provided lock could cause corruption rare situation plus side overridable lock would minimize human intervention dealing dead lock holder however decided avoid possibility data corruption much possible therefore wont overridable lock simply information health lock holder better inform exception throw timeout lock still require manual intervention truncating lock table lock holder without releasing lock provides better picture situation human user consequence significantly lower instance schema mutation lock timeouts case timeouts someone holding lock throw informative exception mentioning suspect lock holder dead recommend cleaning lock table someone continues holding lock unreasonable amount time default min configurable