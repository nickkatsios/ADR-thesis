domain model rest interface proposed deciders daniel stefaniuk jonathan pearce matthew begley capacity api built django web framework framework offer number module feature utilised building api adr discus concept made determining django feature essentially come three distinct part rest interface view controller serialization broker request domain model domain model response domain model information kept capacity api required take capacity information update specific service containing following information capacity capacity put service readable format red amber green reset minute setting capacity either red amber state number minute service persist state time service automatically set back green capacity note free text field requester set update capacity information core following information capacity enumerated format reset time timestamp specifying service revert back green capacity note modified user updated capacity information modified timestamp specifying capacity information last updated respond capacity information requested service containing following information service uid uid identifying service service name human readable name service capacity red amber green reset time note modified modified rest interface interface decided upon django rest framework extension drf extension provides vast number useful module component form part modern restful api leveraging component keep code clean understandable easy maintain addition easy plugin api documentation framework majority documentation automatically generated code therefore keeping documentation maintenance minimum extension come already defined view automatically configure give api set standard rest endpoint would require capacity api require get put endpoint automatically configured drf retrieveupdateapiview view default endpoint functionality provided drf also easily modified suit specific business api serialization django provides component known serializer deal everything concerning transfer data client requestresponse domain model serializer deal validation data conversion data json domain model visaversa capacity api deal three stream information capacity information coming capacity information held data model capacity going stream information contains slightly different view capacity information therefore decided adopt threeserializer approach dealing case separate well defined serializer information stream serializer configured set validation rule specifically catered handle specified data stream serializer also defined mechanism deal passing data along next information stream give clear separation concern serializer therefore payload serializer responsible consuming json payload request validating data converting data format data model serializer expects data model serializer responsible consuming data payload serializer validating data updating domain model also responsible retrieving capacity information domain model response serializer responsible consuming data data model serializer validating data converting data json response domain model capacity api comprises two domain model capacity model user management model capacity domain model represents capacity information every service core extending user permission able view manipulate capacity information collection related table make model stored maintained within core database part model relating capacity information user permission coupled data model serializer api allows api able retrieve update capacity information django framework thus keeping api code clean removing bespoke orm code although introduces tight coupling part core database api consider low risk since probably change area core considered low part model relating user permission able update capacity information also resides core database retrieval data performed dedicated module capacity api call mechanism interfacing discussed adr driving purpose module reduce coupling concern core api thus maintaining integrity apis core code base finally user management model created maintained api stored database decouples concept api user specifically api key known user core approach taken django manage data model performed djangos built database migration tool approach completely decoupled type database django automatically apply correct driver whatever database choose also mean database migration script created handled django consequence framework take away vast majority boiler plate code api documentation automatically generated endpoint serializers vastly reducing overhead creating maintaining api documentation clear separation concern handling data flow api clear separation handling retrieval update service dealing user permission management authentication api tightly coupled core database storing retrieving capacity information although immediate case acceptable risk database scripting maintenance required user management domain model