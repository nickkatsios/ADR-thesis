create adaptive goal tree enumeration currently fixed mapping inner goal identificator actually index goalsgoals dictionary uservisible goal number selecion also called enumeration easy implement seems significant downside goal number grow grow make longliving tree look ugly may open goal tree could digit number big amount closed goal also generate enumeration make difficult create nested goaltrees see issue seems reasonably nested goaltree enumeration starting current enumeration function flexible enough support naturally decide extract enumeration function idmapping goal class transformed wrapper transforms actual goal identificators uservisible number respectively keep backward mapping goal selection consequence expect following consequence user interface visible goal number may change significantly user close deletes change view hope disappointing enumeration nested goaltrees look naturally hidden selection allowed currently possible select invisible goal enumeration global code structure field selectioncache may also moved new enumeration class class goal become smaller easier testing existing test rely current enumeration function must refactored