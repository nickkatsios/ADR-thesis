reporting schema simple dashboard report currently generated query application database table several disadvantage start scale complexity simple application schema optimized application transaction like registering patient recording bps updating patient info tracking overdue patient reporting query grow complex asking question like latest month prescribed drug current step treatment protocol involve join duplicating indicator definition across different code path application schema reporting also tight coupling application requirement reporting requirement change schema optimize reporting may negative impact complexity application vice versa complexity tangible impact quality report risk data inconsistency complex query errorprone reused multiple place performance addition complexity performance also growing concern scale heavy reporting operation may strain application ability write data database conversely heavy application activity may impact ability generate report performant manner currently heavy layer caching mitigate performance concern caching better example faced several issue past indicator inconsistent across different touchpoints report specifically due multiple layer caching priority constraint upcoming change reporting pipeline quite new priority ability iterate performance secondary concern since yet scale worry much caching strategy work well today prior art tldr good idea reporting schema want reporting question simple team worked chris doyle formulate handful meaningful indicator question want able answer easily new reporting pipeline proofofconcept chris doyle worked proofofconcept data warehouse warehouse contains transformed data table let answer reporting question straightforward sql query schema schema reporting table question straightforward sql query answer reporting question reporting schema informational table informational data mapping prescription drug etc help streamline reporting table metabase prototype validate technical approach query set metabase create reporting schema well answer reporting question introduce set reporting table implemented materialized database view start powering reporting requirement reporting schema transform data application table reportsfriendly format exposing convenient building block build report straightforward sql query reporting table populated following thing generate oneoff report metabase prototype new indicator report metabase migrate existing report simple dashboard reporting table wherever appropriate following indicator may serve good starting point registration simple report easy verify losttofollowup breakdown test complex aspect reporting table fairly isolated add new indicator report simple dashboard application table reporting table database view metabase report bloodpressures bloodpressuresovertime monthly control rate query latest patient every month every month many bps controlled recent reporting table implemented database view within simple database reporting table start reporting table granular denormalized record patient blood pressure encounter prescribed drug time record feature month dimension time location record feature facility facility dimension location example ashish patient simple blood pressure time table record like jan ashishs recent feb ashishs recent mar ashishs recent prescription drug time table record like jan drug prescribed ashish feb drug prescribed ashish mar drug prescribed ashish since table precomputing question like recent month report query become much simpler instead dealing question report query instead fetch record particular month recent information readily available record calendar table time month important dimension reporting table calendar table created support consistent robust way describe month across reporting table calendar table common occurrence data warehouse design here one example important element calendar cardinal month year quarter quarterly analysis common precomputing beneficial unique like first month help uniquely identify group record calendar table single column group year month awkward calendar table usually joined simple application table populate denormalized reporting table data simple application table read local timezone asiakolkata india joined calendar table calendar table implemented nonmaterialized database view since fairly small expensive compute needed calendar table support perweek perday record mean minimum resolution reporting schema permonth report since reporting query simplified start metabase new report metabase ideal quick prototyping validation report stakeholder easytouse interface easy grant access stakeholder controlled access necessary dynamic query pick range report validated may want move inhouse simple server applicationdashboard benefit would better test coverage fragmentation case longterm location report greatly impact reporting table design described alternative constraint apart proposed approach reporting table database view alternative considered reporting table separate database could continue generate reporting table hand place separate database would greatly alleviate performance problem however database performance secondary concern furthermore proposed approach still set nicely extract reporting table separate database future necessary also defers effort setting true etl pipeline ship data different database rollup summary table rollup summary table proposed earlier adr crux approach incrementally write data table application transaction occur update row latest bps per month table new recorded main drawback approach tough iterate schema since every change would require backfill data beginning time thirdparty data warehouse like looker tableau there high upfront cost complexity thirdparty tool additionally may hidden constraint tool dont want deal iterative stage effort consequence reporting schema introduces new way build report converge existing report reporting schema end fragmentation build report reporting schema import strike right balance application sql code example risk level precomputed reporting schema computed querytime application mindful maintaining right balance criterion could often change complex expensive compute nightly cron task refresh reporting view monitor performance refreshes closely identify database view longer viable additionally maintain evolve reporting schema reporting requirement change able reporting schema indicator time granularity lower permonth daily statistic progress tab app