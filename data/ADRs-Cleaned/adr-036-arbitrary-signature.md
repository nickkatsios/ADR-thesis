adr arbitrary message signature specification changelog initial draft author antoine herzog antoineherzog zaki manian zmanian aleksandr bezobchuk alexanderbez frojdi dymylja fdymylja draft abstract currently cosmos sdk convention sign arbitrary message like ethereum propose specification cosmos sdk ecosystem way sign validate offchain arbitrary message specification serf purpose covering every case mean cosmossdk application developer decide serialize represent data user ability sign message offchain proven fundamental aspect nearly blockchain notion signing message offchain many added benefit saving computational cost reducing transaction throughput overhead within cosmos major application signing data includes limited providing cryptographic secure verifiable mean proving validator identity possibly associating framework organization addition ability sign cosmos message ledger similar hsm device case found reference link aim able sign arbitrary message even ledger similar hsm device result signed message look roughly like cosmos sdk message must valid onchain transaction chainid accountnumber sequence assigned invalid value cosmos sdk also introduces concept authinfo specify signmodes spec include authinfo support signmodedirect signmodelegacyamino create offchain proto definition extend auth module offchain package offer functionality verify sign offline message offchain transaction follows rule memo must empty nonce sequence number must equal chainid must equal fee gas must equal fee amount must empty array verification offchain transaction follows rule onchain one except spec difference highlighted first message added offchain package msgsigndata msgsigndata allows developer sign arbitrary byte valid offchain signer account address signer data arbitrary byte represent text file object application developer data deserialized serialized object represent application developer data treated treated mean serialization deserialization process object data represent proto definition protobuf msgsigndata defines arbitrary generalpurpose offchain message message msgsigndata signer sdkaccaddress message signer byte signer gogoprotojsontag signer gogoprotocasttype githubcomcosmoscosmossdktypesaccaddress data represents raw byte content signed text json etc byte data gogoprotojsontag data signed msgsigndata json example json type cosmossdkstdtx value msg type signmsgsigndata value signer cosmoshftzugqmpgxeegsqqavfhnywsjrxr data cmfuzgt fee amount gas signature pubkey type tendermintpubkeysecpk value aqndsirofmtpfqxxebvkqhmcpsqszmjevsyk signature yiqjakkjsepoddednlckvfghwqpeseydndkvcmceourrkkatlwcakilerbyexaeg memo consequence specification message meant broadcast live chain formed backwards compatibility backwards compatibility maintained new message spec definition positive common format multiple application sign verify offchain message specification primitive mean cover every case without limiting possible fit inside give room offchain message specification aim target specific common case offchainbased authnauthz layer negative current proposal requires fixed relationship account address public key doesnt work multisig account discussion regarding security msgsigndata developer msgsigndata charge making content laying data nonreplayable needed offchain package extended extra message target specific case limited authentication application payment channel solution general reference httpsgithubcomcosmosicspull httpsgithubcomcosmoscosmossdkpulldiscussionr httpsgithubcomcosmoscosmossdkpullissuecomment httpsgithubcomcosmoscosmossdkpullissuecomment