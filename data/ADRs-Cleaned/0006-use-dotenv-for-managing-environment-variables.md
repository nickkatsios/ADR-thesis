usedotenvformanagingenvironmentvariables accessing env directly without wrapper limited introduce problem want tooling help guard missing environment variable nil accidentally provided start process preferable fail fast explicit message without nil passed stack cause strange behaviour code designed dependency instead adding nil guard throughout codebase required environment variable envfetchfoo default managed centrally previously figaro purpose deprecated httpsgithubcomlaserlemonfigaro supported gem ensure get support form fix security patch also want able stub environment variable test suite easy example environment variable feature flag mechanism want stub value test scenario without influenced real value loaded mutating actual env value allowenvto receivewithboxidandreturn possible may unexpected consequence part process test variable figaro handy abstraction layer could stub allowfigaroto receiveenvwithfooandreturnbar consider stub environment variable dotenv load environment variable consequence docker docker compose added project environment variable loaded dockercompose envfileenvdevelopment rather dockercomposeenv pattern file managing environment variable env dockercomposeenv undesirable due overhead keeping sync dotenv load environment variable doesnt offer interface figaro dotenv youd access writing envfoo rather dotenvfoo make supporting climate control support testing