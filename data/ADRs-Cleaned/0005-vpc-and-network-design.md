vpc network design amended aws vpc public private subnets changing networking hard usually requires full redeploy service infrastructure make real current network overlap make difficult setup vpns usually requring syncing live address desired state netops reserve block mozmeao vpc make block ipv address vpc map region within cloud provider divide subnets well one subnet per example oregon network would look like label cidr range start range end description oregon vpc large block whole vpc oregon subnet subnet oregona oregon subnet subnet oregonb oregon subnet subnet oregonc frankfurt would label cidr range start range end description frankfurt vpc large block whole vpc frankfurt subnet subnet frankfurta frankfurt subnet subnet frankfurtb frankfurt subnet subnet frankfurtc next vpc block would oregon could continue subnets essentially frankfurt consequence routing vpn becomes much simpler since overlap map vpc cidrs vpn dns user hit directed straight aws redeploy infrastructure new networking space want another address request netops fully noone mozilla deploy space mean chunk unique vpcs another chunk inside create vpcs subnets well quite issue getting everything working seems unlikely well vpcs subnets inside vpc decided number active documentation active network definition stored two document httpsgithubcommozmeaoinfraservicesblobmasterawsreadmemd httpsgithubcommozmeaoinfraservicesblobmastergcpreadmemd