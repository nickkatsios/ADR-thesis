adr treating client app source truth unlike onlineonly app depend server create unique record simple designed work completely offline create data locally perform twoway syncing data server whenever possible brings two kind challenge resolving conflict merging data server local copy generating universally unique simple primarily apponly service therefore client app considered source truth protected health information phi conflict arises merging record received server local copy record server copy discarded local copy dirty pending sync server otherwise server copy saved ensuring unique uuids universally unique identifier probability uuid duplicated zero close enough zero negligible multiple version uuid convenient doesnt require seed value kotlin uuidrandomuuid would nice let database handle generation sqlite support generation autoincrementing integer alternative like randomnextlong also discarded space isnt large enough guarantee near uniqueness client app backend create uuid identify something near certainty identifier duplicate one already created identify something else according wikipedia number random version uuids generated order probability least one collision quintillion consequence discarding record received server favor dirty local copy additional data server record lost usage uuids primitive primary key sqlite table two marginal disadvantage require storage space slower query comparison primitive