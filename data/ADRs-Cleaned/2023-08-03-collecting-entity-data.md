title collecting dispatching entity data area dataservices tag entity usagedata machinelearning shopware aim provide datadriven feature merchant foundation feature data merchant provide consent subset primary pillar data lie within entity stored within every shopware shop adr address main concept extracting information shop transferring shopware data sharing without consent merchant must explicitly agree consent share data shopware long consent data collected transferred consent data sharing revoked time merchant actively prompt administration user decide whether willing give consent data sharing administration dashboard changing consent state later possible via system setting keep track consent change send store gateway collection sensitive information data stored type entity might contain sensitive information including personal business critical information kind data excluded personally identifiable information pii data would enable shopware identify person modified way longer possible draw conclusion person socalled personal unique identifier puid generated identify user across multiple source entity data onsite tracking goal analyzing behavior generating insight making prediction possible find person person transitioning data pulling process described adr viewed approach data pushing data fetched database prepared merchant server infrastructure sent shopware flexible reduce load merchant infrastructure plan transition data pulling approach approach planning shopwares admin api fetch data rather fetching database directly providing datadriven feature via app system feature built upon data collected rolled extension based app system way make feature release independent shopware release cycle provide new feature faster including entity field default entity considered data collection entity field listed allowlist included data collection format look follows json entityone fieldone fieldtwo fieldthree entitytwo fieldone fieldtwo entitythree fieldone example json category parentid type product parentid name manytomany association entity representing manytomany association entity included allowlist instead either fetched database directly resolved querying associated entity table adding manytomany association allowlist referenced field associationname instead propertyname example php class productdefinition protected function definefields fieldcollection return new fieldcollection new manytomanyidfieldcategoryids categoryids associationname categoriesaddflagsnew apiaware new inherited new manytomanyassociationfieldcategories categorydefinitionclass productcategorydefinitionclass productid categoryidaddflagsnew apiaware new cascadedelete new inherited new searchrankingsearchrankingassociationsearchranking new manytomanyassociationfieldtags tagdefinitionclass producttagdefinitionclass productid tagidaddflagsnew cascadedelete new inherited new searchrankingsearchrankingassociationsearchranking new apiaware json product category tag allowlist contains category tag field product entity data queried database manytomany association resolved follows identifier manytomany association corresponding manytomanyidfield fetched database directly manytomany association resolved fetching associated entity database beforehand matching currently processed entity association problem product category translated field translated field resolved automatically instead translation entity must added allowlist explicitly consequence activating deactivating data collecting process process triggered day scheduled task long consent given also triggered right away consent given merchant revoke consent time prevent process starting collecting data asynchronously process running entity definition message added low priority message queue processed asynchronously process create batch entity configurable sending gateway first run consecutive run delta data calculated first time data sent consecutive run lighter faster order achieve process keep track last time data sent send data created updated time deletion event subscriber take care storing deletion entity deletion sent deleted process run deletion stored consent collecting data revoked given first place remote killswitch killswitch gateway enables temporarily stop shop sending data message already dispatched queue still handled new message added scheduled task killswitch enabled