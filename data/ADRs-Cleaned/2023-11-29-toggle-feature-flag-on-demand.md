title make feature flag toggleable demand area core administration storefront tag core feature experimental feature flag great way enabledisable feature application however currently toggleable demand mean want enable feature flag change environment variable restart application ideal production environment store feature flag database available feature currently stored featureyaml static file toggleable via environment variable want provide way toggle feature flag also via database provide shop merchant example feature flag configuration appconfig key value featureflags examplefeature name examplefeature default true active true examplefeature name examplefeature default true active false activated feature flag registered frameworkboot via featureflagregistryregister php class framework extends bundle public function boot void featureflagregistry thiscontainergetfeatureflagregistryclass featureflagregistryregister featureflagregistryregistry public method merge static feature flag featureyaml stored feature flag database activate feature flag marked active php class featureflagregistry public function registry void static thisfeatureflags stored thiskeyvaluestoragegetselfstoragekey emptystored isstringstored stored jsondecodestored true jsonthrowonerror major feature flag cannot toggled stored flag stored arrayfilterstored static function array flag return arraykeyexistsmajor flag flagmajor flag arraymergestatic stored featureregisterfeaturesflags toggle feature flag demand introduce new admin apis either activatedeactivate feature flag note allow toggling feature flag major admin api php class featureflagcontroller extends abstractcontroller routeapiactionfeatureflagenablefeature nameapiactionfeatureflagtoggle methodspost public function enablestring feature request request jsonresponse thisfeatureflagregistryenablefeature return new jsonresponsenull responsehttpnocontent routeapiactionfeatureflagdisablefeature nameapiactionfeatureflagtoggle methodspost public function disablestring feature request request jsonresponse thisfeatureflagregistrydisablefeature return new jsonresponsenull responsehttpnocontent routeapiactionfeatureflag nameapiactionfeatureflagload methodsget public function loadrequest request jsonresponse featureflags featuregetregisteredfeatures return new jsonresponsefeatureflags featureflagregistryenable disable method public method enable feature flag store new state database also dispatch event beforefeatureflagtoggleevent toggling feature flag featureflagtoggledevent toggling feature flag helpful plugins listen event action beforeafter toggling feature flag php class featureflagregistry private function enablestring feature bool active void registeredflags featuregetregisteredfeatures arraykeyexistsfeature registeredflags return registeredflagsfeaturemajor true cannot toggle major feature flag return registeredflagsfeature active active mark flag activated deactivated static arraykeyexistsfeature thisstaticflags check flag static registeredflagsfeature thisdispatcherdispatchnew beforefeatureflagtoggleeventfeature active thiskeyvaluestoragesetselfstoragekey registeredflags featuretogglefeature active thisdispatcherdispatchnew featureflagtoggledeventfeature active cli also toggle feature flag via cli script enable feature featureexample binconsole featureenable featureexample disable feature featureexample binconsole featuredisable featureexample list registered feature flag binconsole featurelist consequence ecosystem feature flag system mostly considered internal devonly tool hide major break performance boost elevates place introduce new feature hide behind feature flag allow delivery new feature even experimentalbeta phase try production demand without affecting shop merchant abused could toggle experimentalbeta feature major feature commercial plan commercial license license feature treated feature flag way enabledisable feature license available license shop merchant shop merchant new toggle feature flag api enabledisable feature demand override environment variable feature flag available database also add new admin module app allow shop merchant toggle feature flag demand list available feature flag via new admin apis developer internal devs utilize tool quickly delivery new experimentalbeta feature however important tool reach deadline release crap still follow standard guideline external plugins also add feature flag adding featureflags key key value storage appconfig table default key value storage feature flag toggled via cli binconsole featureenable feature binconsole featuredisable feature helpful testing purpose cicd pipeline also add new cli command list available feature flag binconsole featurelist feature flag toggled run time dispatch event beforefeatureflagtoggleevent toggling feature flag featureflagtoggledevent toggling feature flag helpful plugins listen event action beforeafter toggling feature flag