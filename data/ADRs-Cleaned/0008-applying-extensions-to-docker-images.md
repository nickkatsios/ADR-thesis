applying extension docker image one main advantage docker image immutability mean image tested verified high confidence work intended environment doesnt change alfresco allows core product enhanced via external module form amp simple jar result two big problem release container every combination amp available customer apply extension three apply extension build time thus retaining immutability advantage apply extension runtime mechanism doesnt change content container apply extension container initializes breaking immutability applying extension build time mean forcing customer build image depending official custom extension require however number disadvantage applying extension runtime immutability advantage lost war file changed extension could fail apply prevent container starting potential introduce performance issue amp jar fetched applied finally open potential security hole code applied container via simple environment variable investigated potential approach keep main container immutable volume initcontainers increase complexity solution doesnt resolve issue outlined proceed build time number disadvantage applying extension runtime customer already applying extension theyre learn new deployment mechanism anyway release small number image without common amp applied consequence supporting extension applied build time require customer build image custom extension dont ship image required combination extension mitigate additional complexity customer provide script clear documentation build image meet requirement