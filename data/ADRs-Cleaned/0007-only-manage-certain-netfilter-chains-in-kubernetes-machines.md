manage certain netfilter chain kubernetes machine puppetlabs firewall module one recommended setting purge rule managed puppet puppet resource firewall purge true since kubernetes calico perform networking load balancing kernel level mean puppet find hundred rule purge every minute firewall module also undocumented feature let manage individual netfilter chain puppet remove input rule unless theyre either managed puppet contain comment trust firewallchain inputfilteripv ensure present purge true ignore comment trust doesnt work conjunction purge true firewall resource firewallchain resource instead chain dont explicitly define ignored puppet example define inputfilteripv existing output rule ignored rather purged puppet manage input output forward chain kubernetes machine specifically whitelist particular line known chain kubernetes calico consequence writing mean two firewall profile networkingfirewall kubernetesfirewall share code probably split purge true line central firewall profile come single structure work broadly additionally docker performs networking well want something like docker profile different exception chain manage security consequence unknown