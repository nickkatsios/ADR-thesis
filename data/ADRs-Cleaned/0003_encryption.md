title encryption weight problem statement since docspell may store important document possible encrypt server almost transparent user example user must able login download file clear form server must also decrypt user collective access file requires share key among user collective even file encrypted associated meta data especially access database would allow see tag associated person correspondent document short encryption mean file content blob extracted text encrypted metadata secret key stored server protected passphrase file downloaded clear form driver major driver provide possible privacy user even expense feature currently think associated meta data enough finding document full text search needed considered clear blob file content encrypted associated metadata extracted text must encrypted obviously public key encryption pke pke server automatically encrypt file publicly available key data wouldnt require user provide passphrase encryption decryption would allows first processing file extracting text text analyisis encrypting text afterwards public secret key stored database secret key must protected done encrypting passphrase secret key user login password user log must provide correct password password private key unlocked requires store private key passphrase encrypted every user password database whole security depends user password quality plenty difficulty approach password change new secret key adding user etc kind encryption would protect data offline attack also accidental leakage example bug software would access file another user encryption blob encrypted type attack would provide protection user must still trust server first order provide wanted feature document processing server must see file content receive serve file clear form access anyways mind feature protect stolen database attack database somehow leaked attacker would see metadata real document also protects leakage maybe caused pogramming error downside increase complexity lot since personal tool personal worth effort outcome encryption complexity tool meant self deployment personal change enough time reconsidered