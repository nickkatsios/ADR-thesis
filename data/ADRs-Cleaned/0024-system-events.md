system event adr submitter lenny goodell intel change log approved referenced case system event device system event aka control plane event cpe new edgex adr address system event device case extensible design address system event case may identified future extensible design approach fact system event produced consumed different edgex service make architecturally significant warranting adr proposed design address system event device case core metadata publish new systemevent dto edgex messagebus device added updated deleted consumer system event subscribe messagebus receive new systemevent dto data transfer object dto new systemevent dto contain following data describing system event source publisher system event coremetadata type type system event device action action triggered system event addupdatedelete timestamp creation datetime system event owner owner data system event deviceonvifcamera device owner optional based type tag key value pair add addition system event deviceprofileonvifcamera optional based type andor action detail data detail important system event device dto addedupdateddeleted device optional object varies based type andor action object similar objectvalue reading dto note defined dto suffice future system event case messagebus service publish system event core metadata must connect edgex messagebus messagebus configuration similar core data design assumes core metadata capability configuration due planned implementation service metric publishtopicprefix property core metadata messagequeue configuration system event set edgexsystemevent messagebus topic new systemevent dto published multilevel topic allowing subscriber filter topic format topic system event publishtopicprefixsourcetypeaction source publisher system event coremetadata type type system event device action action triggered system event add specific case may add additional level needed device system event case add following level owner owner data system event deviceonvifcamera device owner profile device profile associated device onvifcamera example example system event subscription topic edgexsystemevent system event edgexsystemeventcoremetadata system event core metadata edgexsystemeventcoremetadatadevice device system event core metadata edgexsystemeventcoremetadatadeviceadddeviceonvifcamera add device system event deviceonvifcamera edgexsystemeventcoremetadatadeviceonvifcamera device system event device created onvifcamera device profile consumer consumer device system event likely custom application service described system event device change required app function sdk since already support processing different type via target type capability developer custom application service consume system event following set target type dtossystemevent creating instance applicationservice newappservicewithtargettype factory function write custom pipeline function expects new systemevent dto process accordingly similar tolineprotocol pipeline function expects metric dto servicesmodules impacted core metadata service service single point device addupdatedelete producer device system event core contract module new systemevent dto added repository camera management app service example device system event implemented camera management example updated consume device sdkservice future device system event implemented device sdks switch receiving via messsagebus rather rest callback core metadata anything beyond recognizing future enhancement outofscope adr consideration design approach future case system event device profile system event device service whenif deemed needed another design approach considered support notification send system event via rest would require consumer create subscription receive system event via rest endpoint consuming service subscription would created existing support notification subscription rest api likely subscription would specific event type system event would published posting support notification notification rest api would forward via rest post service subscribed particular system event system event dto would still sent via rest approach complex requires consumer service new rest endpoint receive system event relies rest rather messaging thus approach chosen design satisfy system event device case well possibly future system event case related adrs metric collection adr edgex messagebus publish subscribe service metric northsouth messaging adr edgex messagebus publish subscribe commandsresponses reference control plane event cpe aka system event initially proposed part metric collection adr early march may find discussion relevant cpe adr designarchitecture discussion since march initial adr edgex service level metric collection hanoi