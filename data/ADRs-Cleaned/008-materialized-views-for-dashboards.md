materialized view dashboard dec decided add new facility dashboard cvhos health official dashboard make lot data available user previously existing cohort report time significantly performant existing report expectation size data would grow rapidly following approach considered extracttransformload data pipeline materialized view etl pipeline pushing data reporting database ideal solution purpose would involve lot effort set maintain materialized view good intermediate solution since give many benefit etl pipeline without overhead specialised infrastructure may review materialized view refreshes become expensive scenic manage view approach defining view dashboard may define view represent data choose query existing view view slice data time period query day month quarter ideally view definition free domain logic definition hypertensive blood pressure shouldnt tied materialized view definition view view refreshed periodically period vary depending dashboard requirement dashboard consist query object necessary materialized view data template render data appropriately query object provide interface fetch data view object return active record relation allow composability reuse example query object new registration consequence materialized view refresh time scale size database table currently bloodpressures significant table latestbloodpressuresperpatientpermonth refresh take record bloodpressures table duration increase number bps view refresh order important dependant view refreshed parent view ensure consistency rake task refresh view order view refreshed reporting timezone ensure data sorted appropriate time period view per timezone needed support multiple reporting timezones single deployment change view definition carried creating new migration scenic generate migration domain logic leaking view mean view definition updated domain logic change view contains definition hypertensive patient view updated definition hypertensive change