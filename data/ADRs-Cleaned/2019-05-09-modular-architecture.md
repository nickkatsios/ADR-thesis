modular architecture breaking repository package deciders pietro eimi dan data solution james alli technical story exploring better way organise project monorepo problem statement opensource project might want separate project digestible driver opensource mean removing bbc specific code separating infrastructure electron cep future integration considered logically separated package api monorepo awscepelectron infrastructure bundle everything api infra rpm separate new github repository bundle npm package keep infrastructure repository api api pull dependency separate api infrastructure bundle api separately npm package infrastructure api package dependency separate api infrastructure bundle npm package api bundled rpm infrastructure repo dependency outcome opted another iteration architectual flow initially went wanted uniform approach possible future user however much consideration collectively agreed remove npm packaging api microservices similarly still keeping aws stack separate infrastructure repository travis npm build jenkins publicly accessible rpm build releasing cosmos speculate opensource bbc project generate spec file add little overhead project automate release npm manual step also testing retain public state repository concerned ready state repository move api npm con unknown benefit external person npm versioning done mean possibly atypical npm although inconclusive fork repository try service reason initially separation package mean simpler version test contribute individual package api repository contain different infrastructural flavour business logic browser cloud package cep package electron package thing compatible package similar package look lerna browser flavoured package another express server repository simplify local testing infrastructure api dependency express server inside potential problem development package feature implemented package order parallel set feature add bdd test automatically test package feature functional also keeping aws infrastructure public generic cloudformation json confidential security issue release api npm pro abstraction clear separation concern rpm simpler set external people rpm deployment flow infrastructure api client jenkins rpm speculate spec gen microservices api pull client npm creating rpm client packagejson speculate spec gen client travis npm httpasciiflowcom jenkins deploy rpm bbc cosmos project deployed two separate instance client api express express npm package static file client repo naming convention prefix digitalpaperedit client client server api electron electron cep cep infrastructure infrastructure aws