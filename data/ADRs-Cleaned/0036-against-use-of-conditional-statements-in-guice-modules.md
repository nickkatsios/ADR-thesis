conditional statement guice module lazy consensus implemented james product rely historically spring dependency injection doesnt last major spring version instead james spring way enables overriding class via configuration file thus endangering overall correctness giving much power user james proposes several implementation interface defines number possible combination implementation thus really high like factorialn make unpractical run test possible component combination run integration test combination decide brings value user spring product defeat testing logic allowing user arbitrary class combination likely tested instead single product allowing component combination rather several product one exposing single component combination component defined code static fashion thus provide decent level product overriding component requires explicit code modification recompilation warning user impact choice lowering project responsibility guice enacted way reach goal guice expose supported well tested combination component thus addressing combination issue spring application often bring dependency conflict example lucene elasticsearch component leading potential runtime compile time issue instead single big application able instantiate every component application several product defining dependency minimalistic way relying component implementation needed list product provide inmemory memory based james server mainly testing purpose distributed james scalable james server storing data various data store cassandra metadata elasticsearch search rabbitmq messaging objectstorage blob cassandra implementation step toward distributed james include messaging objectstorage run cluster way still relevant good performance jpa jpa lucene based implementation james derby driver currently supported jpa smtp derby minimalist smtp server based jpa storage technology derby driver jpa smtp mariadb minimalist smtp server based jpa storage technology mariadb driver component however several implementation user choose given product case blobexport exporting blob blobstore external user two implementation currently supported localfiles linshare text extraction extracting text attachment enable attachment search tika implementation lighter jsoup based well text extraction also available order keep number product low decided conditional statement module based configuration select one enable runtime eventually defeating guice adoption goal mentioned finally blob storing technology offer wide combination technology objectstorage could implement either swift apis amazon apis decided keep supporting cassandra blob storing upgrade solution cassandra product distributed james existing user also make sense small datasets typically storage cost issue dont taken account reasoning performance proposal hybridblobstore cassandra blobstore cache proposed leverage cassandra performance latency enhancer objectstorage technology yet decided conditional statement module order lower number product however component requires expensive resource initialization operation performed via separate module installed based configuration instance cassandra blobstore cache requires usage additional cache keyspace represents cost inconvenience dont want pay dont rely cache cache module thus enables quickly auditing caching cassandra session initialized see comment well comment audit following module perform conditional statement upon injection time blobexportmechanismmodule choice export mechanism objectstoragedependenciesmoduleselectblobstorebuilder choice swift objectstorage technology tikamailboxmoduleprovidetextextractor choice text extraction technology blobstorechoosingmoduleprovideblobstore choice blobstore technology cassandra objectstorage hybrid cached blob store represents similar problem blobstore wrapped caching layer cassandra distributed product furthermore duplicated offer version supporting ldap authentication jpa product offer ldap support longer rely conditional statement guice module guice module combination choice decided starting dependency injection stage component choice abstracted related configuration pojo product given set configuration pojos generated module rely dependency injection stage info log list module create guice injector enables easy diagnose running component via selected module list expose tested safe choice user limiting guice product count consequence component combination count keep unchanged guice product run combination explicit unchanged integration test adapted accept component choice configuration pojo following conditional statement guice module removed cached blob store pull request address objectstoragedependenciesmoduleselectblobstorebuilder cassandra blob store cache conditional statement native blobstore implementation along side endpoint support part swift remove select object storage implementation follow work plan concerning blobexportmechanismmodule tikamailboxmoduleprovidetextextractor furthermore enable module choice ldap top existing product remove ldap variation ldap product corresponding docker image based non ldap version overriding usersrepositoryxml configuration file marked deprecated eventually removed reference discussing adr