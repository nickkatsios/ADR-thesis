application case port mocking skewering requires different kind isolation rest application integration test const mocklobsters requiretestsupportmocklobsters const application port requirecoreapplication moduleexportsapplication return new applicationnew portsnew mocklobsters want set application port stubbed want isolate web view part entirely application port requirement want able make kind statement executes action call case dont want view know anything application dependency unit testing application want know port difficulty arranging application shape prior making last change set test passing application plugged correctly keep separate mock application apart real one consequence becomes easier difficult risk introduced change mitigated