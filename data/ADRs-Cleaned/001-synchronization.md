synchronize data device server network connectivity phone rural area low patchy app work offline much possible sync mechanism exists allow sharing record patient blood pressure etc across device accommodate case patient nurse move across facility multiple time week mechanism send record device server device keep track record synced new record record one field updated record formatted payload schema defined individual apis api differentiate new updated record handled server payload sent batch batch inherently independent previous one however important send record syncing fetching record server fetch record server device fetching record first time firsttime query parameter set server send back number record defined numberofrecords query parameter essentially batchsize first response also includes latestrecordtimestamp sent next request order retrieve record server record sent server return empty list merge record device receiving record server device match record local database field entity update server version local record database pending sync update merging record handled server server may send back record multiple time updating record device idempotent lever physical resource constraint battery life network control order app adapt well constraint knob batch size many record send fetch sync frequency often sending fetching happens preferably lever modifiable runtime per device consequence computation record sent currently based updatedat field server processedsince query parameter implies multiple record timestamp record sent multiple time many record timestamp batch size response sent effectively breaking batching mechanism implies sequencing record server rely timestamps could separate sequence immutable sequenced audit log