simplified user permission currently permissionbased access control mechanism large number permission emulate following role owner organization owner supervisor analyst counsellor weve found permission based mechanism hard maintain due reason role basically presets permission modifying preset role also requires corresponding data migration update permission existing user allows custom role given user list permission dont conform defined presets problematic adding new permission system since isnt easy decide custom user get new permission specific implementation permissionbased system also added fair amount indirection cognitive overhead lead suboptimal developer experience generally also discovered dont actually level flexibility access control model since user normalised usage pattern something envisaged previously arbitrary permutation finergrain possible time realized necessary move role based access control system following role start role description manager full access data permission manage user resource within resource access viewer data full access data including pii within resource access viewer report access report within resource access call center manage overdue list manage overdue list within resource access power user full access data user resource management given deployment application model general architecture following user existing model access hold access user useraccess drive behaviour two resource property access instance one following organization facilitygroup facility may include region like block district state etc future note access apply user emailauthentication dashboard user api accessrelated apis encapsulated useraccess model ideally remain way future there single interface throughout app part api add concept action allows bunch together role kind action perform allows grow role easily without needing update callsites throughout codebase action role manage manager view pii manager viewer data view report manager viewer data viewer report manage overdue list manager viewer data call center common api scoping data one access kind resource follow pattern ruby currentuseraccessiblepluralizedresourcenameaction example ruby currentuseraccessibleorganizationsmanage currentuseraccessibleorganizationsviewpii currentuseraccessiblefacilitygroupsmanage currentuseraccessiblefacilitiesmanage currentuseraccessiblefacilitiesmanageoverdue fairly easy build generalpurpose authorization check necessary like ruby dont show page dont access organization currentuseraccessibleorganizationsmanageany peek basic api grow evolve naturally necessary interface interface edit add new user fundamentally treedriven selection screen adjust granularity access currently available resource cascading access access resource always cascade downwards access organization implies access facility group facility within organization access facility group implies access facility group future region concrete presence app link resource genuine region nongoals authentication authorization sync apis consequence longer support customized permission outside defined role granularity access role operate lot larger simplicity pundit gem managing authorization anymore