improving build file deciders abban dunne corinna hillebrand gabriel birke problem statement file fundraising application separate repository thats deployed automatically allows deploy content change soon someone make without developer intervention independently feature change current mechanism integrating string javascript code efficient document outline quo plan improvement current delivery mechanism currently render string json object html data attribute application shell generated php backend javascript code read decodes attribute value following drawback application shell plain markup slow load consuming bandwidth page change php backend read output file every request delivering key needed already taking step split string pagespecific file httpsphabricatorwikimediaorgt delivery mechanism block evolution fundraising singlepageapplication api architecture see adr driver want keep benefit ease immediacy deployment separation frontend code content repository want improve loading time number request file size user make tradeoff prefer smaller file size since http reduce impact number request want evolve application architecture singlepageapplication api see adr still want multiple language language switcher developertranslator experience easy find translation key item page considered load singlefile json server load pagespecific json server compile frontend different language bundle outcome considered mutually exclusive build upon stage optimizing different aspect driver evolve code base reached stage load pagespecific json server reevaluate want implement stage compiled frontend bundle pro con load singlefile json server change transport mechanism jsonashttpattribute http request javascript loaded drawback one blocking http request mitigate impact two way http multiplex different request compress header loading string global javascript variable instead json separate script tag header application shell loading application javascript benefit enables splapi architecture reduces transmitted file size string longer doubleencoded save memory cpu cycle server dont pas content php interpreter output buffer probably skip step since splitting single translation file multiple one additional benefit easier translation change translation repository load pagespecific json server drawback one blocking http request two request shared json mitigate http benefit enables splapi architecture reduces transmitted file size string longer doubleencoded reduces file size even delivering whats needed potential reducing file size even removing page prefix translation key making shorter save memory cpu cycle server dont pas content php interpreter output buffer compile frontend different language bundle create mechanism associate branch repository branch frontend code repository build deploy application code change mechanism develop acceptance testing deploy cycle code deployed production latest version drawback longer deploy time since build whole application content change text change take minute instead minute appear page effort develop mechanism associating content branch slight risk prematurely deploying unfinishedunapproved feature bigger bundle bandwidth needed switching language benefit better developer experience tighter integration code content dependency fewer http request