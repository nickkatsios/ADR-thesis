endpoint healthchecks proposed various endpoint monitoring health main site dependency dont appear useful section attempt gather together everything know endpoint currently gap coverage current endpoint make lpa service public endpoint describe state service make frontend ping httpslastingpowerofattorneygovukping return html showing dependency time writing redis session data make api see dynamodb system message dependency whole make service marked note data shown make api come ping endpoint api manual check make frontend pingjson httpslastingpowerofattorneygovukpingjson return json equivalent ping endpoint manual check make frontend pingelb httpslastingpowerofattorneygovukpingelb return code short piece text make front end pingpingdom httpslastingpowerofattorneygovukpingpingdom return xml equivalent simplified ping endpoint pingdom custom http check xml format pingdom make frontend nginx robotstxt httpfrontrobotstxt page one aws elbs also following page accessible internally make api ping httpapiping return json showing dependency time writing database sirius gateway tracking lpa sqs queue pdf generation job dependency whole api marked make frontend ping result merged check made front end make api pingelb httpapipingelb return code short piece text make front php run front end application php code fcgifrontphphealth phpfpm socket elbs make api php run api application php code fcgiapiphphealth phpfpm socket elbs front api placeholder full aws domain name reference endpoint accessible locally dev frontend endpoint httpslocalhostping etc api endpoint httplocalhostping etc current healthchecks following healthchecks monitor health service aws elastic load balancer check servicefront nginx container frontweb type http get endpoint robotstxt resource front end site rather dedicated endpoint interval second timeout second healthy consecutive http response unhealthy consecutive failure failure condition network failure non response failure action traffic longer routed container unlesss container failing health check implemntation detail robotstxt hosted nginx container called elb aws elastic container service check phpfpm container frontapp apiapp type fcgi connect endpoint health make front php make api php interval second timeout second healthy pas unhealthy failure failure condition unexpected response timeout failure action restart container implementation detail call usrlocalbinhealthchecksh within container perform check effect script container check fcgi endpoint running pingdom check httpwwwlastingpowerofattorneyservicegovuk type http get endpoint home page rather endpoint interval minute timeout second healthy pas unhealthy pas failure condition timeout non response failure action generate alert implementation detail hit http endpoint get redirected http rewrite rule elb pingdom check httpswwwlastingpowerofattorneyservicegovukpingpingdom type http get endpoint pingpingdom healthcheck ping page interval minute timeout second healthy pas unhealthy pas failure condition timeout non response failure action generate alert implementation detail expects response returned api redis database sirius gateway working make team member manually check httpswwwlastingpowerofattorneyservicegovukping pingjson type http get browser possibly issue detected live site hoc humanreadable ping endpoint triage issue live site however doesnt give much useful information might happening pingjson endpoint could slightly useful situation doesnt lend read people dependency service following dependency component frontapp dynamodb system message redis session storage ordnance survey postcode lookup notify send email user api apiweb readwrite data user lpas etc rdspostgres database sirius api gateway showing lpa application storing generated pdfs sqs posting pdf generation job adminapp page dynamodb readwrite system message api apiweb read feedback user data currently included check existing point dont cover dependency service marked dont appear page admin doesnt page though critical citizen note opg page uptime shown based incident reported site based automated check pingdom page opg service uptime based call listed lasting power attorney homepage pingpingdom listed lasting power attorney ping note main check make site homepage may higher uptime check pingpingdom endpoint ping latter considered whenever sirius available proposal proposal increase coverage endpoint remove unused one reduce maintenance remaining one provide finergrained check help diagnose problem quickly well give better idea site actually unusable rather dependency especially sirius gateway endpoint arent removed make api pingelb merge multiple endpoint different path instead wed single path vary response content type depending client accept header make frontend ping make frontend pingjson make frontend pingpingdom merged make frontend ping would leave following endpoint make frontend ping make api ping make frontend nginx robotstxt requires change make front php requires change make api php requires change extend remaining endpoint cover dependency arent checked moment make frontend ping also check ordnance survey notify make api ping also check party service careful often ping term service etc considered may also investigate type request make querying endpoint attempt parallelise query dependency enable endpoint respond timely fashion modify response format ping endpoint easier read conveys finergrained detail state system rfc health check response format could basis rework one key aspect able discriminate completely healthy system dependency fine degraded system dependency like sirius gateway unavailable service still usable cache sirius response unhealthy system critical dependency like api unavailable possible current truefalse response modify code returned make frontend ping endpoint enable pingdom healthchecks healthy degraded response unhealthy response note perfectly acceptable return html page explaining problem alongside code pingdom treat anything response failure weve done change pingdom healthchecks point new endpoint pingdom check httpwwwlastingpowerofattorneyservicegovuk requires change pingdom check httpswwwlastingpowerofattorneyservicegovukpingpingdom make get request httpswwwlastingpowerofattorneyservicegovukping page return service healthy degraded service unhealthy add endpoint serviceadmin doesnt currently one check connectivity api low priority admin internally depends api becomes clear quite quickly available improve endpoint easier maintain redundant comprehensive therefore useful consequence possible disruption modify endpoint however really rationalising one endpoint externally pingdom minimal also impact user healthchecks carry affect service public uptime statistic better able understand service component open possibility able monitor often service degraded still usable cant moment future check could made comprehensive checking format response returned dependency example could confirm openapi specification provided sirius gateway match response format expecting response ordnance survey postcode lookup match expectation