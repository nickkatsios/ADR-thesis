firebase infrastructure deciders eimi james alli susie related previous adr see modular architecture adr technical story evaluating firebase backend replacing aws infrastructure except pstt client queue instance talk pstt problem statement quite component build backend get dpe stable point although initially decided development aws working aws quite challenging steep learning curve single project cycle weve reached point infrastructure microservices setup unfortunately resource removed project priority shifted research backend development halted picking development task half baked microservices difficult relearn weve developed complete integration order simplify backend development looking firebase google cloud platform since firebase plaftorm target development startup provides many feature box could speed developing backend namely realtime database authentication keeping possibility open offline mobile multiuser solution must consider technical security development transfer upfront learning nontechnical legal cost since weve designed react component reusable question whether aws gcp make easier transfer previous project rebuilt scratch including infrastructure realistically matter cloud provider description microservices name technology description firebase gcp firebase hosting main component hosted solution firestore gcp firestore database database additional capability realtime audio converter function gcp function serverless serverless service strip audio original content aws uplaoder function gcp function serverless serverless service uploads file stt client aws pstt sqs consumer consumes message send platform stt third party forward updating message topic pstt stt client queue aws sqs sqs service take new job message send pstt client notification function function serverless serverless service take notification message pubsubs serice update firestore stt topic aws sts topic anything subscribe notification help collecting notification message created stt client audio converter function listening storage change aws proxy function listening storage change stt client listening message job creation queue step user uploads file storage firebase audio converter function detects file upload strip audio file upload file storage aws proxy function detects file upload retrieves key gcp assumes role aws iam uploads file event trigger sent queue stt client creates new plaform stt job upload file platform stts bucket send message file loaded platform stt forward notification platform stts stt notification aws notification subscription function update firestore firestore listener update firebase driver security authentication pstt integration legal transfer technical feasibility dpe technical feasibility reproduceability cost time money engineering opportunity considered aws firebase aws outcome firebase aws combined pstt integration feasible even cross acount complication feature authentication user specific data retrieval integration database without migration already completed firebase provides abstraction around security integration database well function save time around project feature realtime database easy api let progress firebase still thing deployment management worked stretch goal believe save time simply overall architecture code positive consequence faster turnaround development authentication realtime database beneficial dpe requirement managed service many abstraction secondary positive consequence growing knowledge gcp bbc login stretch goal monitoring given box consolelog map logging gcp logging console negative consequence upfront cost learning developer many unknown looked security concern redesigning architecture redesigning database model transfer possible infrastructure pro con discus pro con needed clear idea component far socalledcompletion aws gcp pro con technology describe currently anywhere noted indicator stretch goal client user view alter data initiate transcription process aws gcp integration api work aws gcp deployed web endpoint endpoint secured form authentication aws certbased authentication set individual user data file upload setup access gcp already authentication set gcp whitelisting based user specific data retrieval file upload easy way showing progress uploading file storage access see security rule setup open default potential bbc login integration user friendly var storageref firebasestoragereffoldernamefilejpg var fileupload documentgetelementbyidfileupload fileuploadonchange functionevt var firstfile evttargetfile get first file uploaded var uploadtask storagerefputfirstfile uploadtaskonstatechanged function progresssnapshot consolelogsnapshottotalbytestransferred progress upload api database api connects database crud operation api invokes audio conversion api invokes transcription service api notified pstt client update transcription secure connection database audio conversion transcription service aws gcp api incomplete connect aws buggy late aws deployed api deployed postgres full integration database migration setup local environment setup environment set complete gcp local environment setup setup firebase emulator tool deployed firestore realtime nosql full integration database migration necessary nosql database also possible store reference specific data simplifies certain aspect file retrieval setup client also simplified abstraction database connection remove settimeout setup client data retrieval firestore offer realtime data retrieval audio converter convert input audio store output accessible online location handle long form content aws gcp deployed uploads audio content storage integration pstt client aws integration api queue message sent api audio converter queue environment set complete gcp integration client ive done currently operating due cost free tier environment set complete follow instruction doc pstt client send content url pstt send notification change api send output back user getting content bucket currently aws gcp deployed logic functional unknown tested gcp iam aws gcp integration requires account creation credential one access pstt client queue another pstt client update database json transcription blob store key gcps create iam aws part pstt client store credential iam gcps gcp service assumes iam role something datalab already done knowledge aws continuing development aws mean picking left currently setup around every single microservice difficult say far setup jenkins integration could provide challenge good best practice ensured infosec approved good microservices infrastructrually bad best practice mean jumping many developmental step could time consuming bad currently dont integration api bad api connect faulty moment bad easy way setup local testing environment bad migration set gcp aws mean firebase aws combined see eimi spoken several people clear unknown around crossacount integration deployment pipeline etc good simplifies code client good authentication complexity handled good whitelisting system already place good give local test environment bad complexity around cross acount integration bad steep still learning curve secondary good realtime database link pro con lesson small firebase project lifecycle gcp function gcp environment set done following instruction doc