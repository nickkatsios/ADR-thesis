helm service deployment definition one primary problem encountered deployment drift different environment important element creates drift delta deployment different environment already mitigating storing configuration code automated deployment configuration extension practice practice code reuse dry dont repeat given existing kubernetes deployment primary supported service bedrockwww snippet basket already deployed seems reasonable invest kubernetes ecosystem current pattern define separate set yml file deployed via kubectl apply per regioncloud example gcp iowaa aws frankfurt cluster wish deploy wed two copy nearly identical file define deployment two cluster helm order define template service helm call template chart template injected value deployment associated kubernetes object service scaling policy defined sensible default chosen primary chart prod value secret referenced included chart path secret secret environment different value override file repo combined default deploy time single mozmeao helm repo contains custom written chart would expect single chart per service bedrockwww service pipeline helm repo includes testing pipeline service would reference deploy chart devstagingprod version service one advantage undertaking work making easier read understand deployment answering whats different dev prod difficult full configuration repeated much easier answer dev default small override file prod also end fewer difference since difference clearly visible chart seek reduce count primary advantage reducing class error new feature worked dev doesnt prod forgot likely adding environment variable creating secret template mean able fail deployment earlier environment configuration present consequence primary cost backend developerssres must develop chart time investment uncertain payoff benefit fewer configuration error may common today arent careful promoting helm chart sensibly service pipeline could accidentally grab new version helm chart order mitigation version helm chart point publish assign new value change service pipeline recordpromote version helm chart deployed could lock pattern software apps often helm repo available deploy service mitigation github page pretty reliable could also setup local repo git repo emergency deploys backup primary chart source also possible writing helm chart difficult take account current delta existing deployment minimizing delta one goal work transition could deploy service good zero downtime pattern make easy rollback bad deployment make sure deploy devstgprod order