expose terraform output product infrastructure application pipeline raised spike wanted explore alternative expose output product infrastructure pipeline application pipeline necessary know application pipeline consume artificats dinamically generated external pipeline published url output product infrastructure pipeline spike looked azure keyvault hashicorps vault keyvalue store making terraform output available application consume secure manner offering similar however couple difference worth noting first one keyvault hosted cloud native service key part azure offering whereas vault require additional although significant infrastructure provisioned order run service second main difference around terraform support currently available although terraform provider covering service resource capability extensive hashicorp vault provider hashicorp vault provider allow populate store secret terraform code azurermkeyvault allow create keyvault pretty much reduces scope spike hashicorp vault despite fact possible populate keyvault output approach require perform action outside current terraform workflow adding nothing complexity runnint terraform output command parsing stdout storing output vault part terraform workflow simple code show simple basic example illustrating accomplished code modulea outputtf terraformtfstate terraformtfstatebackup vaulttf directory file portablevaultpoc dan cat vaulttf module testmodule source modulea resource vaultgenericsecret example path secretfoo datajson portablevaultpoc dan cat moduleaoutputtf output test value testing likewise also easy consume output since vault keyvault matter fact restful service providing good level abstraction mean http client retrieve value shown code portablevaultpoc dan curl xvaulttoken aaafcfffabdabdec get httpvsecretfoo total received xferd average speed time time time current dload upload total spent left speed requestid bfbceddfacadaf leaseid renewable false leaseduration data foo testing wrapinfo null warning null auth null portablevaultpoc dan curl xvaulttoken aaafcfffabdabdec get httpvsecretfoo datafoo total received xferd average speed time time time current dload upload total spent left speed testing regarding naming convention secret storage many available recommend start mirroring agreed convention state detailed general terraform guideline code statestorebackendprojectenvoutput key similarly many approach come access policy vault extensive topic well documented hashicorp good starting point however would mirror policy terraformjenkins user azure storage container store state time writing pretty much matching sudo level vault time start considering complex case vault access policy flexible enough provide good level granularity start writing comprehensive policy finally important understand general guideline writing terraform code particular writing vault related resource please forget following important data provided resource configuration written cleartext state plan file generated terraform appear console output terraform run protect artifact accordingly see main provider documentation detail one might think mitigated setting sensitive attribute output true testing specifically running terraform plan command hitting following limitation sensitive output sensitivity tracked internally output interpolated another module resource value displayed consequence output stored vault becomes easier application team consume information safe secure manner time reducing complexity mixing pipeline goal somewhat establishing separation concern run terraform utility code within application pipeline