gitops secret management deciders humairak hemajv nnd anishasthana tumido mhild technical story issue issue problem statement following gitops operating model requires describe running system git since operate openshiftks easily specifying entire system via yaml manifest storing github thing get bit complicated trying reconcile store confidential information like secret word secret bit loosely capture confidential manifest secret route cert etc obviously cannot store secret git plaintext would like store encrypted fashion ideally alongside system manifest consideration follows freedom storeorganize secret repo path location encrypted manifest compatible kustomize ideally specific portion within manifest confidential encrypted specific field argocd able decrypt secret thus deploy team easily encrypt manifest whilst maintaining ease consumption argocd decryption capability limited codeowners operatefirst admins argocd considered exist many different solution tackle gitops secret management argocd list recommended tool one leverage may find considered following tool sealed secret operator decrypt secret custom resource resource stored git hashicorp vault server backing storage secret stored ksops kustomize plugin sop encrypt plugin add decryption generator step kustomize build store secret privateinternal repo outcome chosen reason summarized follows sealed secret allow encrypt secret hashicorp vault bit heavy duty case steep learning curve secret also stored backend storage git would like avoid storing manifest privateinternal repos stay line keeping system desired state public possible ksops encrypt specific portion manifest confidential whilst keeping rest nonconfidential information visible encrypted manifest stored whichever location needed argocd image ksops installed argocd also decrypt manifest sop allows various method encrypt manifest opt gpg free generate method include aws gcp azure key vault create gpg key encrypt manifest git secret key made available argocd operatefirst admins offer public key team wish encrypt content store git allow argocd decrypt deploy manifest mean team able encrypt decrypt manifest git get around sop allows encrypt file multiple key allowing team encrypt file operatefirst public key access private key key also private key allow argocd decrypt manifest whilst also allowing team retain ability decrypt manifest positive consequence store secret git alongside manifest compatible kustomize sop allows configure specific confidential field want encrypted inside manifest keeping information public argocd decrypt manifest gpg key access sop configuration allow control encryptiondecryption capability negative consequence gpg cost changing key becomes expensive example key compromised update sopsyaml wherever key reencrypt ksops kustomize plugin thus requires enablealphaplugins give impression kustomize plugins may deprecated however based issue seems real purpose warn user accidentally running party plugins argocd requires custom image includes ksops tooling