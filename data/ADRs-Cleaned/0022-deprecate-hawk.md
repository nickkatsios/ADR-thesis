deprecate hawk authentication fxaauthserver deciders danny coates ryan kelly orchard ben bangert problem statement new fxa setting page introduces new service form gql api provide account profile data browser service make api request authserver behalf logged user authserver hawk authentication adding another service browser authserver straightforward adr decided allow browser share session token gql server make hawk authenticated request lead question whether deprecate hawk altogether long ago precursor onepw phase signuplogin would establish secret key would encryptdecrypt sessiontoken never clear wire secure enough could login http still safe wed still defense depth sessiontoken hawk api request maintain level security implemented protocol worked designed problem time wanted support lowend phone slow network extra round trip meant slow bad instead scrapping whole thing modified protocol one today sessiontoken sent signuplogin response secure even http dream gone hawk designed authentication http quoting design goal hawk simplify improve http authentication service unwilling unable deploy resource secure credential leakage client form dynamic configuration determine send authenticated request avoid exposure credential sent malicious server unauthenticated secure channel due client failure validate server identity part handshake none scenario apply authserver defining replacement hawk scope let consider property interim replacement sessiontoken bearer token new surface area token exposed http header api request sent client server storage token remains unchanged compromised connection would expose token api call would hawk sessiontoken body login response even hawk endpoint could leak token connection compromised leaked sessiontoken would allow access personal information email address device metadata fxa password secret key firefox sync data driver security considered deprecate hawk continue hawk future work outcome stop hawk future work requires authentication selecting preferred scheme scope adr sharing session token trusted service acceptable interim solution pro con deprecate hawk pro simpler cross service integration simpler browser client integration con unknown duration longterm support deprecated auth scheme continue hawk future work pro none hawk pita postpones considering better con awkward case like gql api higher longterm maintenance burden difficult integration link original srp protocol onepw protocol hawk