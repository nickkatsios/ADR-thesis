superceded first encrypt traffic elb haproxy see adr pas correct client requested protocol application deployed platform achieve want xforwardedfor xforwardedproto header current setup weve got haproxy behind elb allow insert hsts header elb configured ssl mode http support websockets ssltcp mode elb able set xforwarded header solution proxyprotocol pas information recorded client protocol haproxy set required header unfortunately elb set proxyprotocol header inside ssl stream haproxy expects outside two workaround complex configuration haproxy two frontendslisteners chained disable ssl elb haproxy decided disable ssl encryption internal elb haproxy allow proxyprotocol dont think significant increase risk gorouter cell traffic already http cant termination app container inner interface elb internal network vpc consequence http traffic elb haproxy encrypted