implement postgres connection pool proposed every time request made api new connection opened database connection reused request problem overhead opening new connection viz tcp handshake handshake rds process forking etc nontrivial add unnecessary latency request actual query time often dwarfed connection overhead proposal implementing connection pool api connect connection pool instead database connection pool open connection database connection already exist reuse subsequent request reduce overhead opening new connection allow serve request per second pgbouncer connection pooler mature welltested widelyused connection pooler wellsuited configure pgbouncer session pooling mode allow reuse connection request also ensure request executed session important want ensure request isolated request database left consistent state request enabled connection connection pooler rds enabled connection pooler listening port traffic connection pooler local task reduce overhead removing handshake reduce configuration complexity configure certificate connection pooler implementation connection pool implemented sidecar container apis task definition allowing run connection pooler task api separate container reduce latency request connection pooler connection pooler running host api connection pool configured connect database normal database credential connection pool configured listen local port tcp clear glance connecting directly rds people familiar make service api configured connect connection pooler port consideration adding additional component service increase complexity service increase number component fail tradeoff consider implementing connection pool additional attack surface connection pooler potential security concern however connection pooler accessible within task exposed public internet connection pooler add additional overhead request path however overhead opening new connection much higher overhead connection pooler connection pooler reduce overall latency request connection sharing request potential security concern connection pooler must properly configured ensure interfere isolation request pgbouncer mature welltested product able rely documentation community ensure configured correctly connection pooler another component monitored maintained updated run sidecar container take resource would otherwise available api however connection pooler lightweight process prelimary testing show memory cpu usage significant