launcher auto update process version author seph directionless october supersedes launcher auto update process superseded launcher autoupdate process version current update process several flaw lead towards unreliable autoupdate process existing autoupdate functionality work follows posix new version downloaded staging area new version moved replace current binary new binary execed window new version downloaded staging area current exe moved way new exe moved place service restarted inherent problem design running binary longer appear disk file disk longer match installed via package manager window failure condition new binary isnt moved place next service restart cause service failure httpsgithubcomkolidelauncherissues lead needing new update process assumption tuf additionally implementation must work within assumption tuf tuf simple model designed notice remote metadata change single file download given location trigger callback function single file model cannot easily store version furthermore update happen tuf metadata change binary mismatch mean local launcher executable change refreshed tuf metadata change make testing somewhat harder instead replacing running binary create directory store update update launched new flow look like new binary downloaded staging area moved update directory stored spawned update directory implementation documented part pkgautoupdate godoc consequence replacing binary disk want execution update hook main function thus subsequent execution find latest download support store update configuration agnostic fashion binarypathupdates remove old update cleanup routine run part finding current binary