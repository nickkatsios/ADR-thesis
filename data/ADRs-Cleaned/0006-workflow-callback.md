layout page title workflowcallback add new method adaptrismessagelistener deciders aaron mcgrath lewin chan gerco dry matt warman sebastien belin paul higginson problem statement enable dead letter queue sqs contract message read source queue failed dead letter queue redrive policy fired max number attempt deliver message testing predicated fact message deleted course sqspollingconsumer deletes message submitting workflow since cant rely jms semantics either since onmessage traditionally doesnt throw exception runtimeexceptions arent propagated interlok think way asynchronous callback considered nothing modify adaptrismessagelistener callback outcome chosen modify adaptrismessagelistener callback pro con nothing good change code bad cant sqs dlc behaviour bad might preserve message attribute depending configuration neutral error handling still fully within purview interlok predictable modify adaptrismessagelistener callback change adaptrismessagelistener default void onadaptrismessageadaptrismessage msg onadaptrismessagemsg void onadaptrismessageadaptrismessage msg javautilfunctionconsumer success consumer failure effectively make sqs polling consumer message message message try adaptrismessage adpmsg adaptrismessagefactorydefaultifnullgetmessagefactorynewmessagemessagegetbody stuff skipped brevity final string handle messagegetreceipthandle success delete message failure leave situ might make configurable since dont want poison message retrieveadaptrismessagelisteneronadaptrismessageadpmsg sqsdeletemessagenew deletemessagerequestqueueurl handle continueprocessingmessagescount break messagecountloop catch exception logerrorerror processing message messagegetmessageid good make behavour controllable consumer perspective fsconsumer could wait workflow completed deleting file good side effect enabling callback consumer want mean get rid object monitor thing jetty pooling workflow bad callback happens point future sessionqueue whatever still valid bad threadsafe hard neutral workflow change message listener stub implementation note api change going void onadaptrismessageadaptrismessage msg consumeradaptrismessage success since semantics failure handled fired isnt clear moment next major release proposing different way handling thing like since asynchronous callback becoming ever popular