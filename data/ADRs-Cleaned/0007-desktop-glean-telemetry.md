nimbus desktop glean instrumentation author travis long deciders nimbus team anna scholtz data engineering daniel berry data science problem statement current nimbus desktop implementation relies legacy telemetry event borrowed normandy component migrate glean metric recorded glean become necessary nimbus event experiment also recorded glean purpose analysis adding complication instrumenting event glean nimbus rust sdk mobile minor difference telemetry implementation current legacy event include enroll unenroll expose compare enrollement unenrollment exposure glean event nimbus sdk mobile nimbus rust sdk also includes disqualification event current desktop equivalent desktop includes failure event enrollment unenrollment considered quo nimbus desktop continue legacy telemetry new glean event exact duplicate existing legacy telemetry event glean event match mobile sdk collection mapped legacy event close possible merge existing mobile sdk event desktop event preferring sdk name ensure desktop migrates rust sdk continuity data collection due needing support component running experiment might either legacy legacy glean simultaneously glean continue record data legacy telemetry deprecated removed componentsmeasurements migrated glean outcome firefox desktop component already migrated glean well component instrumenting critical new metric glean cannot simply rely current legacy telemetry event instrumented nimbus desktop component migrate glean benefit experiment metric recorded glean alongside guardrail interesting metric may wish monitor running nimbus experiment longterm goal eventually migrate firefox desktop nimbus sdk currently mobile device instrumenting metric match existing legacy metric could potentially create collision conflict issue migration occurs legacy telemetry also includes metric currently instrumented rust sdk mobile specifically enrollfailed unenrollfailed event reason ensure continuity existing experiment preferred approach nimbus rust sdk enrollment unenrollment exposure event direct parallel firefox desktop telemetry recorded information manner existing legacy telemetry instrumentation ensure continuity aid verification migration analysis tooling relies upon event nimbus sdk disqualification event current analog nimbus desktop overlap unenroll telemetry recorded nimbus desktop currently removed disqualification event nimbus sdk already treated unenrollment monitoring finally enrollfailed unenrollfailed event instrumented glean event firefox desktop also added nimbus rust sdk consistency table show merged set event instrumented firefox desktop including failure event implemented nimbus sdk reason experimenttype extra also implemented nimbus sdk nimbus desktop nimbus sdk merged enroll enrollment enrollment unenroll unenrollment unenrollment expose exposure exposure disqualification removing enrollfailed enrollfailed unenrollfailed unenrollfailed existing desktop event appear following structure category normandy method enrollunenrollexposeenrollfailedunenrollfailed object nimbusexperiment value experimentslug extra branch branchslug included event enrollmentid enrollmentid included event reason reason included failure unenroll event experimenttype type included enroll event featureid featureid included exposure event glean event slightly different structure contain information name nimbuseventsenrollmentunenrollmentexposureetc extrakeys experiment experimentslug included event branch branchslug included event enrollmentid enrollmentid included event reason reason included failure unenrollment event experimenttype type included enrollment event featureid featureid included exposure event