preservation fixity checking agreed check file integrity preserved object google cloud storage occasionally downloading comparing checksum object stored checksum process happen google cloud function fixity checking timeline every day random repository preserved material queued integrity checked process executed via railsenvproduction bundle exec rake fixityrequestdailycloudfixity configured cron job single worker machine process verify preservationobject attached filemetadata generate message google cloud pubsub request queue following format json mdoffile cloudpath pathinbucketconvertedfromfileidentifier preservationobjectid preservationobjectid filemetadatanodeid filemetadataid childproperty propertyfilemetadatanodeisstoredin google cloud function listen event request pubsub topic download given cloudpath verify cloud function deployed via developer cap stagingproduction deploygooglecloudfunction command figgy increased quota default inbound traffic must requested google handle download function restricted concurrent worker concurrency later request higher inbound traffic quota google cloud function send message topic contain message giving operation look like following json successfailure resourceid preservationobjectid childid filemetadataid childproperty propertyfilemetadatanodeisstoredin daemon run figgy worker machine pull event sends sidekiq worker executed via railsenvproduction bundle exec rake fixityrunworker manually started handled systemd service deployed via ansible sidekiq create event object sent displayed fixity dashboard consequence cost retrieval resource google coldline hefty cost associated find per year expensive benefit performing check may want scale random checking year leaf lot room resource never checked purely investigative measure ensure reliability guaruntees google cloud storage well validate preservation process failure become evident likely want check fix everything complexity system moving part may difficult explain however dealing many terabyte data cheapest timeefficient method fixity checking amount material may change depending often much data end pulling end pulling lot data may want move google nearline coldline