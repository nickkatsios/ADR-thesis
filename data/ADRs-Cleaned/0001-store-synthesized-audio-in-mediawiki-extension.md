store synthesized audio mediawiki extension adr original implementation wikispeech stored synthesized audio file folder within speechoid service wikispeechserver subservice path file together related metadata passed response mediawiki extension implementation identified drawback wikimedia infrastructure expects file stored swift rather file disk supporting would require implementing swift storage speechoid service desire keep speechoid service stateless persistent storage synthesized file within service run counter utterance metadata stored requiring sentence always resynthesized unless cached together file path wikimedia requires swift many mediawiki installation might interested therefore important solution file storage backend changed desired configs due revisiondelete none content word segment anywhere stored anywhere table since must publicly queryable include mechanism preventing nonpublic segment synthesized interest storing utterance audio long time avoid expensive operation synthesizing segment demand still want mechanism flush stored utterance given period time user make change text segment unlikely previous revision segment another article could thus instantly flushed also case want flush trigger resynthesizing segment word added updated phonetic lexicon would improve resulting synthesized speech reuse utterance audio across site many site desirable likely rare largely limited heading shorter phrase likely common reuse utterance audio across multiple revision page single segment edited segment corresponding audio remain valid reason utterance audio tied given page revision file temporarily stored within speechoid segment synthesized audio retrieved check must performed ensure corresponds page revision suppressed revisiondelete segment represented hash satisfy revisiondelete requirement public table segment hash constructed content sake revisiondelete link synthesised audio never exposed end user mediawiki extension par response speechoid fetch synthesized audio store file provided filebackend functionality corresponding utterance metadata stored json file file share base filename expiry attached stored speechoid response allow lexicon update propagate flushing outdated segment consequence garbage collection temporary file speechoid must ensured since segment hashing relies content utterance reused across revision page database table must introduced storing basic information needed identify unique call speechoid identified language voice segment hash information row generate unique filename audio json file lexicon update longer direct effect across already synthesized audio expiry storage attached stored utterance ensures update included later time point though mechanism removing stored utterance expiry time may needed lexicon update tied specific segment since database contains nothing site specific could shared across multiple site stored file