# 17. Incident classify and recovery

Date: 20/04/2017

## Status

Proposed

## Context

对服务的可用等级不清晰，处理问题的优先级不足，临时分析现象及寻找解决方案，耗时过长

## Decision

划分服务等级，做好预案

## Consequences

故障分类和预案

### 自然灾害

1. 灾备，常见的有，两地三中心；

### 服务运营商

#### DNS 解析问题

1. 联系 DNS 提供商，确定故障恢复的时间；
2. 所需恢复时间大于 TTL，实施切换 DNS 运营商的预案（DnsPod to Aliyun etc）。

#### Aliyun 内部问题

#### CDN 运营商

### 外部人为

#### 人为攻击

* DDOS
* CC
* SQL 注入
* XSS

#### 正常请求

* 流量

### 架构内部

#### 数据库级故障

#### 内部网络级别

* Aliyun 内部
* 网络、防火配置

#### 系统级别故障

* 单系统内部
* 系统间通信

#### 系统服务级别故障

#### 应用服务级别故障

#### 应用虚拟环境级别故障

#### 应用代码级别故障